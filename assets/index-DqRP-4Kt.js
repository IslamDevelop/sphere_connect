function QI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function JI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var O2={exports:{}},ch={},D2={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ha=Symbol.for("react.element"),ZI=Symbol.for("react.portal"),ex=Symbol.for("react.fragment"),tx=Symbol.for("react.strict_mode"),nx=Symbol.for("react.profiler"),rx=Symbol.for("react.provider"),ix=Symbol.for("react.context"),sx=Symbol.for("react.forward_ref"),ox=Symbol.for("react.suspense"),lx=Symbol.for("react.memo"),ax=Symbol.for("react.lazy"),F_=Symbol.iterator;function ux(t){return t===null||typeof t!="object"?null:(t=F_&&t[F_]||t["@@iterator"],typeof t=="function"?t:null)}var L2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b2=Object.assign,M2={};function ao(t,e,n){this.props=t,this.context=e,this.refs=M2,this.updater=n||L2}ao.prototype.isReactComponent={};ao.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ao.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function F2(){}F2.prototype=ao.prototype;function gm(t,e,n){this.props=t,this.context=e,this.refs=M2,this.updater=n||L2}var _m=gm.prototype=new F2;_m.constructor=gm;b2(_m,ao.prototype);_m.isPureReactComponent=!0;var U_=Array.isArray,U2=Object.prototype.hasOwnProperty,vm={current:null},$2={key:!0,ref:!0,__self:!0,__source:!0};function j2(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)U2.call(e,r)&&!$2.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ha,type:t,key:s,ref:o,props:i,_owner:vm.current}}function cx(t,e){return{$$typeof:ha,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ym(t){return typeof t=="object"&&t!==null&&t.$$typeof===ha}function hx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $_=/\/+/g;function Pd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hx(""+t.key):e.toString(36)}function Su(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ha:case ZI:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Pd(o,0):r,U_(i)?(n="",t!=null&&(n=t.replace($_,"$&/")+"/"),Su(i,e,n,"",function(c){return c})):i!=null&&(ym(i)&&(i=cx(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace($_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",U_(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+Pd(s,l);o+=Su(s,e,n,u,i)}else if(u=ux(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+Pd(s,l++),o+=Su(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ka(t,e,n){if(t==null)return t;var r=[],i=0;return Su(t,r,"","",function(s){return e.call(n,s,i++)}),r}function dx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yt={current:null},Cu={transition:null},fx={ReactCurrentDispatcher:yt,ReactCurrentBatchConfig:Cu,ReactCurrentOwner:vm};function z2(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:Ka,forEach:function(t,e,n){Ka(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ka(t,function(){e++}),e},toArray:function(t){return Ka(t,function(e){return e})||[]},only:function(t){if(!ym(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Component=ao;te.Fragment=ex;te.Profiler=nx;te.PureComponent=gm;te.StrictMode=tx;te.Suspense=ox;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fx;te.act=z2;te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=b2({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=vm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)U2.call(e,u)&&!$2.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:ha,type:t.type,key:i,ref:s,props:r,_owner:o}};te.createContext=function(t){return t={$$typeof:ix,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rx,_context:t},t.Consumer=t};te.createElement=j2;te.createFactory=function(t){var e=j2.bind(null,t);return e.type=t,e};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:sx,render:t}};te.isValidElement=ym;te.lazy=function(t){return{$$typeof:ax,_payload:{_status:-1,_result:t},_init:dx}};te.memo=function(t,e){return{$$typeof:lx,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=Cu.transition;Cu.transition={};try{t()}finally{Cu.transition=e}};te.unstable_act=z2;te.useCallback=function(t,e){return yt.current.useCallback(t,e)};te.useContext=function(t){return yt.current.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t){return yt.current.useDeferredValue(t)};te.useEffect=function(t,e){return yt.current.useEffect(t,e)};te.useId=function(){return yt.current.useId()};te.useImperativeHandle=function(t,e,n){return yt.current.useImperativeHandle(t,e,n)};te.useInsertionEffect=function(t,e){return yt.current.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return yt.current.useLayoutEffect(t,e)};te.useMemo=function(t,e){return yt.current.useMemo(t,e)};te.useReducer=function(t,e,n){return yt.current.useReducer(t,e,n)};te.useRef=function(t){return yt.current.useRef(t)};te.useState=function(t){return yt.current.useState(t)};te.useSyncExternalStore=function(t,e,n){return yt.current.useSyncExternalStore(t,e,n)};te.useTransition=function(){return yt.current.useTransition()};te.version="18.3.1";D2.exports=te;var M=D2.exports;const B2=JI(M),Df=QI({__proto__:null,default:B2},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var px=M,mx=Symbol.for("react.element"),gx=Symbol.for("react.fragment"),_x=Object.prototype.hasOwnProperty,vx=px.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yx={key:!0,ref:!0,__self:!0,__source:!0};function V2(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)_x.call(e,r)&&!yx.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:mx,type:t,key:s,ref:o,props:i,_owner:vx.current}}ch.Fragment=gx;ch.jsx=V2;ch.jsxs=V2;O2.exports=ch;var x=O2.exports,H2={exports:{}},Xt={},W2={exports:{}},G2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,K){var Y=B.length;B.push(K);e:for(;0<Y;){var Ce=Y-1>>>1,ue=B[Ce];if(0<i(ue,K))B[Ce]=K,B[Y]=ue,Y=Ce;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var K=B[0],Y=B.pop();if(Y!==K){B[0]=Y;e:for(var Ce=0,ue=B.length,Ne=ue>>>1;Ce<Ne;){var Gn=2*(Ce+1)-1,Kn=B[Gn],qn=Gn+1,Yn=B[qn];if(0>i(Kn,Y))qn<ue&&0>i(Yn,Kn)?(B[Ce]=Yn,B[qn]=Y,Ce=qn):(B[Ce]=Kn,B[Gn]=Y,Ce=Gn);else if(qn<ue&&0>i(Yn,Y))B[Ce]=Yn,B[qn]=Y,Ce=qn;else break e}}return K}function i(B,K){var Y=B.sortIndex-K.sortIndex;return Y!==0?Y:B.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,f=null,m=3,w=!1,E=!1,P=!1,N=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(B){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=B)r(c),K.sortIndex=K.expirationTime,e(u,K);else break;K=n(c)}}function A(B){if(P=!1,y(B),!E)if(n(u)!==null)E=!0,To(b);else{var K=n(c);K!==null&&Wn(A,K.startTime-B)}}function b(B,K){E=!1,P&&(P=!1,S(_),_=-1),w=!0;var Y=m;try{for(y(K),f=n(u);f!==null&&(!(f.expirationTime>K)||B&&!R());){var Ce=f.callback;if(typeof Ce=="function"){f.callback=null,m=f.priorityLevel;var ue=Ce(f.expirationTime<=K);K=t.unstable_now(),typeof ue=="function"?f.callback=ue:f===n(u)&&r(u),y(K)}else r(u);f=n(u)}if(f!==null)var Ne=!0;else{var Gn=n(c);Gn!==null&&Wn(A,Gn.startTime-K),Ne=!1}return Ne}finally{f=null,m=Y,w=!1}}var U=!1,C=null,_=-1,T=5,I=-1;function R(){return!(t.unstable_now()-I<T)}function D(){if(C!==null){var B=t.unstable_now();I=B;var K=!0;try{K=C(!0,B)}finally{K?k():(U=!1,C=null)}}else U=!1}var k;if(typeof v=="function")k=function(){v(D)};else if(typeof MessageChannel<"u"){var Jt=new MessageChannel,Si=Jt.port2;Jt.port1.onmessage=D,k=function(){Si.postMessage(null)}}else k=function(){N(D,0)};function To(B){C=B,U||(U=!0,k())}function Wn(B,K){_=N(function(){B(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){E||w||(E=!0,To(b))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(B){switch(m){case 1:case 2:case 3:var K=3;break;default:K=m}var Y=m;m=K;try{return B()}finally{m=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,K){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Y=m;m=B;try{return K()}finally{m=Y}},t.unstable_scheduleCallback=function(B,K,Y){var Ce=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?Ce+Y:Ce):Y=Ce,B){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=Y+ue,B={id:d++,callback:K,priorityLevel:B,startTime:Y,expirationTime:ue,sortIndex:-1},Y>Ce?(B.sortIndex=Y,e(c,B),n(u)===null&&B===n(c)&&(P?(S(_),_=-1):P=!0,Wn(A,Y-Ce))):(B.sortIndex=ue,e(u,B),E||w||(E=!0,To(b))),B},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(B){var K=m;return function(){var Y=m;m=K;try{return B.apply(this,arguments)}finally{m=Y}}}})(G2);W2.exports=G2;var wx=W2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ex=M,Kt=wx;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var K2=new Set,Il={};function is(t,e){Ks(t,e),Ks(t+"Capture",e)}function Ks(t,e){for(Il[t]=e,t=0;t<e.length;t++)K2.add(e[t])}var hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lf=Object.prototype.hasOwnProperty,Sx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,j_={},z_={};function Cx(t){return Lf.call(z_,t)?!0:Lf.call(j_,t)?!1:Sx.test(t)?z_[t]=!0:(j_[t]=!0,!1)}function Tx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kx(t,e,n,r){if(e===null||typeof e>"u"||Tx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qe[t]=new wt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qe[e]=new wt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qe[t]=new wt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qe[t]=new wt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qe[t]=new wt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qe[t]=new wt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qe[t]=new wt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qe[t]=new wt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qe[t]=new wt(t,5,!1,t.toLowerCase(),null,!1,!1)});var wm=/[\-:]([a-z])/g;function Em(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(wm,Em);Qe[e]=new wt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(wm,Em);Qe[e]=new wt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(wm,Em);Qe[e]=new wt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qe[t]=new wt(t,1,!1,t.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qe[t]=new wt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sm(t,e,n,r){var i=Qe.hasOwnProperty(e)?Qe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kx(e,n,i,r)&&(n=null),r||i===null?Cx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Sr=Ex.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qa=Symbol.for("react.element"),Es=Symbol.for("react.portal"),Ss=Symbol.for("react.fragment"),Cm=Symbol.for("react.strict_mode"),bf=Symbol.for("react.profiler"),q2=Symbol.for("react.provider"),Y2=Symbol.for("react.context"),Tm=Symbol.for("react.forward_ref"),Mf=Symbol.for("react.suspense"),Ff=Symbol.for("react.suspense_list"),km=Symbol.for("react.memo"),Or=Symbol.for("react.lazy"),X2=Symbol.for("react.offscreen"),B_=Symbol.iterator;function Uo(t){return t===null||typeof t!="object"?null:(t=B_&&t[B_]||t["@@iterator"],typeof t=="function"?t:null)}var Ie=Object.assign,Nd;function Qo(t){if(Nd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Nd=e&&e[1]||""}return`
`+Nd+t}var Ad=!1;function Od(t,e){if(!t||Ad)return"";Ad=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Ad=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qo(t):""}function Ix(t){switch(t.tag){case 5:return Qo(t.type);case 16:return Qo("Lazy");case 13:return Qo("Suspense");case 19:return Qo("SuspenseList");case 0:case 2:case 15:return t=Od(t.type,!1),t;case 11:return t=Od(t.type.render,!1),t;case 1:return t=Od(t.type,!0),t;default:return""}}function Uf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ss:return"Fragment";case Es:return"Portal";case bf:return"Profiler";case Cm:return"StrictMode";case Mf:return"Suspense";case Ff:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Y2:return(t.displayName||"Context")+".Consumer";case q2:return(t._context.displayName||"Context")+".Provider";case Tm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case km:return e=t.displayName||null,e!==null?e:Uf(t.type)||"Memo";case Or:e=t._payload,t=t._init;try{return Uf(t(e))}catch{}}return null}function xx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Uf(e);case 8:return e===Cm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function oi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Q2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Rx(t){var e=Q2(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ya(t){t._valueTracker||(t._valueTracker=Rx(t))}function J2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Q2(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Yu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $f(t,e){var n=e.checked;return Ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function V_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=oi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Z2(t,e){e=e.checked,e!=null&&Sm(t,"checked",e,!1)}function jf(t,e){Z2(t,e);var n=oi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zf(t,e.type,n):e.hasOwnProperty("defaultValue")&&zf(t,e.type,oi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function H_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zf(t,e,n){(e!=="number"||Yu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jo=Array.isArray;function bs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+oi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Bf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return Ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function W_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(Jo(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:oi(n)}}function ew(t,e){var n=oi(e.value),r=oi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function G_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function tw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?tw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xa,nw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xa=Xa||document.createElement("div"),Xa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var al={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Px=["Webkit","ms","Moz","O"];Object.keys(al).forEach(function(t){Px.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),al[e]=al[t]})});function rw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||al.hasOwnProperty(t)&&al[t]?(""+e).trim():e+"px"}function iw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=rw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Nx=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hf(t,e){if(e){if(Nx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function Wf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gf=null;function Im(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kf=null,Ms=null,Fs=null;function K_(t){if(t=pa(t)){if(typeof Kf!="function")throw Error(F(280));var e=t.stateNode;e&&(e=mh(e),Kf(t.stateNode,t.type,e))}}function sw(t){Ms?Fs?Fs.push(t):Fs=[t]:Ms=t}function ow(){if(Ms){var t=Ms,e=Fs;if(Fs=Ms=null,K_(t),e)for(t=0;t<e.length;t++)K_(e[t])}}function lw(t,e){return t(e)}function aw(){}var Dd=!1;function uw(t,e,n){if(Dd)return t(e,n);Dd=!0;try{return lw(t,e,n)}finally{Dd=!1,(Ms!==null||Fs!==null)&&(aw(),ow())}}function Rl(t,e){var n=t.stateNode;if(n===null)return null;var r=mh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var qf=!1;if(hr)try{var $o={};Object.defineProperty($o,"passive",{get:function(){qf=!0}}),window.addEventListener("test",$o,$o),window.removeEventListener("test",$o,$o)}catch{qf=!1}function Ax(t,e,n,r,i,s,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var ul=!1,Xu=null,Qu=!1,Yf=null,Ox={onError:function(t){ul=!0,Xu=t}};function Dx(t,e,n,r,i,s,o,l,u){ul=!1,Xu=null,Ax.apply(Ox,arguments)}function Lx(t,e,n,r,i,s,o,l,u){if(Dx.apply(this,arguments),ul){if(ul){var c=Xu;ul=!1,Xu=null}else throw Error(F(198));Qu||(Qu=!0,Yf=c)}}function ss(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function cw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function q_(t){if(ss(t)!==t)throw Error(F(188))}function bx(t){var e=t.alternate;if(!e){if(e=ss(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return q_(i),t;if(s===r)return q_(i),e;s=s.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function hw(t){return t=bx(t),t!==null?dw(t):null}function dw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=dw(t);if(e!==null)return e;t=t.sibling}return null}var fw=Kt.unstable_scheduleCallback,Y_=Kt.unstable_cancelCallback,Mx=Kt.unstable_shouldYield,Fx=Kt.unstable_requestPaint,Oe=Kt.unstable_now,Ux=Kt.unstable_getCurrentPriorityLevel,xm=Kt.unstable_ImmediatePriority,pw=Kt.unstable_UserBlockingPriority,Ju=Kt.unstable_NormalPriority,$x=Kt.unstable_LowPriority,mw=Kt.unstable_IdlePriority,hh=null,jn=null;function jx(t){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(hh,t,void 0,(t.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:Vx,zx=Math.log,Bx=Math.LN2;function Vx(t){return t>>>=0,t===0?32:31-(zx(t)/Bx|0)|0}var Qa=64,Ja=4194304;function Zo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Zo(l):(s&=o,s!==0&&(r=Zo(s)))}else o=n&~i,o!==0?r=Zo(o):s!==0&&(r=Zo(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Sn(e),i=1<<n,r|=t[n],e&=~i;return r}function Hx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wx(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Sn(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=Hx(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function Xf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gw(){var t=Qa;return Qa<<=1,!(Qa&4194240)&&(Qa=64),t}function Ld(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function da(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Sn(e),t[e]=n}function Gx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Sn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Rm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Sn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ae=0;function _w(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var vw,Pm,yw,ww,Ew,Qf=!1,Za=[],Kr=null,qr=null,Yr=null,Pl=new Map,Nl=new Map,br=[],Kx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function X_(t,e){switch(t){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":Pl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(e.pointerId)}}function jo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=pa(e),e!==null&&Pm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function qx(t,e,n,r,i){switch(e){case"focusin":return Kr=jo(Kr,t,e,n,r,i),!0;case"dragenter":return qr=jo(qr,t,e,n,r,i),!0;case"mouseover":return Yr=jo(Yr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pl.set(s,jo(Pl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Nl.set(s,jo(Nl.get(s)||null,t,e,n,r,i)),!0}return!1}function Sw(t){var e=Li(t.target);if(e!==null){var n=ss(e);if(n!==null){if(e=n.tag,e===13){if(e=cw(n),e!==null){t.blockedOn=e,Ew(t.priority,function(){yw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Jf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Gf=r,n.target.dispatchEvent(r),Gf=null}else return e=pa(n),e!==null&&Pm(e),t.blockedOn=n,!1;e.shift()}return!0}function Q_(t,e,n){Tu(t)&&n.delete(e)}function Yx(){Qf=!1,Kr!==null&&Tu(Kr)&&(Kr=null),qr!==null&&Tu(qr)&&(qr=null),Yr!==null&&Tu(Yr)&&(Yr=null),Pl.forEach(Q_),Nl.forEach(Q_)}function zo(t,e){t.blockedOn===e&&(t.blockedOn=null,Qf||(Qf=!0,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,Yx)))}function Al(t){function e(i){return zo(i,t)}if(0<Za.length){zo(Za[0],t);for(var n=1;n<Za.length;n++){var r=Za[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Kr!==null&&zo(Kr,t),qr!==null&&zo(qr,t),Yr!==null&&zo(Yr,t),Pl.forEach(e),Nl.forEach(e),n=0;n<br.length;n++)r=br[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<br.length&&(n=br[0],n.blockedOn===null);)Sw(n),n.blockedOn===null&&br.shift()}var Us=Sr.ReactCurrentBatchConfig,ec=!0;function Xx(t,e,n,r){var i=ae,s=Us.transition;Us.transition=null;try{ae=1,Nm(t,e,n,r)}finally{ae=i,Us.transition=s}}function Qx(t,e,n,r){var i=ae,s=Us.transition;Us.transition=null;try{ae=4,Nm(t,e,n,r)}finally{ae=i,Us.transition=s}}function Nm(t,e,n,r){if(ec){var i=Jf(t,e,n,r);if(i===null)Hd(t,e,r,tc,n),X_(t,r);else if(qx(i,t,e,n,r))r.stopPropagation();else if(X_(t,r),e&4&&-1<Kx.indexOf(t)){for(;i!==null;){var s=pa(i);if(s!==null&&vw(s),s=Jf(t,e,n,r),s===null&&Hd(t,e,r,tc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Hd(t,e,r,null,n)}}var tc=null;function Jf(t,e,n,r){if(tc=null,t=Im(r),t=Li(t),t!==null)if(e=ss(t),e===null)t=null;else if(n=e.tag,n===13){if(t=cw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return tc=t,null}function Cw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ux()){case xm:return 1;case pw:return 4;case Ju:case $x:return 16;case mw:return 536870912;default:return 16}default:return 16}}var Br=null,Am=null,ku=null;function Tw(){if(ku)return ku;var t,e=Am,n=e.length,r,i="value"in Br?Br.value:Br.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ku=i.slice(t,1<r?1-r:void 0)}function Iu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function eu(){return!0}function J_(){return!1}function Qt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?eu:J_,this.isPropagationStopped=J_,this}return Ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=eu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=eu)},persist:function(){},isPersistent:eu}),e}var uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Om=Qt(uo),fa=Ie({},uo,{view:0,detail:0}),Jx=Qt(fa),bd,Md,Bo,dh=Ie({},fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bo&&(Bo&&t.type==="mousemove"?(bd=t.screenX-Bo.screenX,Md=t.screenY-Bo.screenY):Md=bd=0,Bo=t),bd)},movementY:function(t){return"movementY"in t?t.movementY:Md}}),Z_=Qt(dh),Zx=Ie({},dh,{dataTransfer:0}),eR=Qt(Zx),tR=Ie({},fa,{relatedTarget:0}),Fd=Qt(tR),nR=Ie({},uo,{animationName:0,elapsedTime:0,pseudoElement:0}),rR=Qt(nR),iR=Ie({},uo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sR=Qt(iR),oR=Ie({},uo,{data:0}),ev=Qt(oR),lR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uR[t])?!!e[t]:!1}function Dm(){return cR}var hR=Ie({},fa,{key:function(t){if(t.key){var e=lR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Iu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?aR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dm,charCode:function(t){return t.type==="keypress"?Iu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Iu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dR=Qt(hR),fR=Ie({},dh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tv=Qt(fR),pR=Ie({},fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dm}),mR=Qt(pR),gR=Ie({},uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),_R=Qt(gR),vR=Ie({},dh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yR=Qt(vR),wR=[9,13,27,32],Lm=hr&&"CompositionEvent"in window,cl=null;hr&&"documentMode"in document&&(cl=document.documentMode);var ER=hr&&"TextEvent"in window&&!cl,kw=hr&&(!Lm||cl&&8<cl&&11>=cl),nv=" ",rv=!1;function Iw(t,e){switch(t){case"keyup":return wR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Cs=!1;function SR(t,e){switch(t){case"compositionend":return xw(e);case"keypress":return e.which!==32?null:(rv=!0,nv);case"textInput":return t=e.data,t===nv&&rv?null:t;default:return null}}function CR(t,e){if(Cs)return t==="compositionend"||!Lm&&Iw(t,e)?(t=Tw(),ku=Am=Br=null,Cs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kw&&e.locale!=="ko"?null:e.data;default:return null}}var TR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!TR[t.type]:e==="textarea"}function Rw(t,e,n,r){sw(r),e=nc(e,"onChange"),0<e.length&&(n=new Om("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hl=null,Ol=null;function kR(t){$w(t,0)}function fh(t){var e=Is(t);if(J2(e))return t}function IR(t,e){if(t==="change")return e}var Pw=!1;if(hr){var Ud;if(hr){var $d="oninput"in document;if(!$d){var sv=document.createElement("div");sv.setAttribute("oninput","return;"),$d=typeof sv.oninput=="function"}Ud=$d}else Ud=!1;Pw=Ud&&(!document.documentMode||9<document.documentMode)}function ov(){hl&&(hl.detachEvent("onpropertychange",Nw),Ol=hl=null)}function Nw(t){if(t.propertyName==="value"&&fh(Ol)){var e=[];Rw(e,Ol,t,Im(t)),uw(kR,e)}}function xR(t,e,n){t==="focusin"?(ov(),hl=e,Ol=n,hl.attachEvent("onpropertychange",Nw)):t==="focusout"&&ov()}function RR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fh(Ol)}function PR(t,e){if(t==="click")return fh(e)}function NR(t,e){if(t==="input"||t==="change")return fh(e)}function AR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var In=typeof Object.is=="function"?Object.is:AR;function Dl(t,e){if(In(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Lf.call(e,i)||!In(t[i],e[i]))return!1}return!0}function lv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function av(t,e){var n=lv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lv(n)}}function Aw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Aw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ow(){for(var t=window,e=Yu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Yu(t.document)}return e}function bm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OR(t){var e=Ow(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Aw(n.ownerDocument.documentElement,n)){if(r!==null&&bm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=av(n,s);var o=av(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var DR=hr&&"documentMode"in document&&11>=document.documentMode,Ts=null,Zf=null,dl=null,ep=!1;function uv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ep||Ts==null||Ts!==Yu(r)||(r=Ts,"selectionStart"in r&&bm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dl&&Dl(dl,r)||(dl=r,r=nc(Zf,"onSelect"),0<r.length&&(e=new Om("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ts)))}function tu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ks={animationend:tu("Animation","AnimationEnd"),animationiteration:tu("Animation","AnimationIteration"),animationstart:tu("Animation","AnimationStart"),transitionend:tu("Transition","TransitionEnd")},jd={},Dw={};hr&&(Dw=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function ph(t){if(jd[t])return jd[t];if(!ks[t])return t;var e=ks[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Dw)return jd[t]=e[n];return t}var Lw=ph("animationend"),bw=ph("animationiteration"),Mw=ph("animationstart"),Fw=ph("transitionend"),Uw=new Map,cv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mi(t,e){Uw.set(t,e),is(e,[t])}for(var zd=0;zd<cv.length;zd++){var Bd=cv[zd],LR=Bd.toLowerCase(),bR=Bd[0].toUpperCase()+Bd.slice(1);mi(LR,"on"+bR)}mi(Lw,"onAnimationEnd");mi(bw,"onAnimationIteration");mi(Mw,"onAnimationStart");mi("dblclick","onDoubleClick");mi("focusin","onFocus");mi("focusout","onBlur");mi(Fw,"onTransitionEnd");Ks("onMouseEnter",["mouseout","mouseover"]);Ks("onMouseLeave",["mouseout","mouseover"]);Ks("onPointerEnter",["pointerout","pointerover"]);Ks("onPointerLeave",["pointerout","pointerover"]);is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));is("onBeforeInput",["compositionend","keypress","textInput","paste"]);is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MR=new Set("cancel close invalid load scroll toggle".split(" ").concat(el));function hv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Lx(r,e,void 0,t),t.currentTarget=null}function $w(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;hv(i,l,c),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;hv(i,l,c),s=u}}}if(Qu)throw t=Yf,Qu=!1,Yf=null,t}function _e(t,e){var n=e[sp];n===void 0&&(n=e[sp]=new Set);var r=t+"__bubble";n.has(r)||(jw(e,t,2,!1),n.add(r))}function Vd(t,e,n){var r=0;e&&(r|=4),jw(n,t,r,e)}var nu="_reactListening"+Math.random().toString(36).slice(2);function Ll(t){if(!t[nu]){t[nu]=!0,K2.forEach(function(n){n!=="selectionchange"&&(MR.has(n)||Vd(n,!1,t),Vd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[nu]||(e[nu]=!0,Vd("selectionchange",!1,e))}}function jw(t,e,n,r){switch(Cw(e)){case 1:var i=Xx;break;case 4:i=Qx;break;default:i=Nm}n=i.bind(null,e,n,t),i=void 0,!qf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Hd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Li(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}uw(function(){var c=s,d=Im(n),f=[];e:{var m=Uw.get(t);if(m!==void 0){var w=Om,E=t;switch(t){case"keypress":if(Iu(n)===0)break e;case"keydown":case"keyup":w=dR;break;case"focusin":E="focus",w=Fd;break;case"focusout":E="blur",w=Fd;break;case"beforeblur":case"afterblur":w=Fd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Z_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=eR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=mR;break;case Lw:case bw:case Mw:w=rR;break;case Fw:w=_R;break;case"scroll":w=Jx;break;case"wheel":w=yR;break;case"copy":case"cut":case"paste":w=sR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=tv}var P=(e&4)!==0,N=!P&&t==="scroll",S=P?m!==null?m+"Capture":null:m;P=[];for(var v=c,y;v!==null;){y=v;var A=y.stateNode;if(y.tag===5&&A!==null&&(y=A,S!==null&&(A=Rl(v,S),A!=null&&P.push(bl(v,A,y)))),N)break;v=v.return}0<P.length&&(m=new w(m,E,null,n,d),f.push({event:m,listeners:P}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",m&&n!==Gf&&(E=n.relatedTarget||n.fromElement)&&(Li(E)||E[dr]))break e;if((w||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,w?(E=n.relatedTarget||n.toElement,w=c,E=E?Li(E):null,E!==null&&(N=ss(E),E!==N||E.tag!==5&&E.tag!==6)&&(E=null)):(w=null,E=c),w!==E)){if(P=Z_,A="onMouseLeave",S="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(P=tv,A="onPointerLeave",S="onPointerEnter",v="pointer"),N=w==null?m:Is(w),y=E==null?m:Is(E),m=new P(A,v+"leave",w,n,d),m.target=N,m.relatedTarget=y,A=null,Li(d)===c&&(P=new P(S,v+"enter",E,n,d),P.target=y,P.relatedTarget=N,A=P),N=A,w&&E)t:{for(P=w,S=E,v=0,y=P;y;y=gs(y))v++;for(y=0,A=S;A;A=gs(A))y++;for(;0<v-y;)P=gs(P),v--;for(;0<y-v;)S=gs(S),y--;for(;v--;){if(P===S||S!==null&&P===S.alternate)break t;P=gs(P),S=gs(S)}P=null}else P=null;w!==null&&dv(f,m,w,P,!1),E!==null&&N!==null&&dv(f,N,E,P,!0)}}e:{if(m=c?Is(c):window,w=m.nodeName&&m.nodeName.toLowerCase(),w==="select"||w==="input"&&m.type==="file")var b=IR;else if(iv(m))if(Pw)b=NR;else{b=RR;var U=xR}else(w=m.nodeName)&&w.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(b=PR);if(b&&(b=b(t,c))){Rw(f,b,n,d);break e}U&&U(t,m,c),t==="focusout"&&(U=m._wrapperState)&&U.controlled&&m.type==="number"&&zf(m,"number",m.value)}switch(U=c?Is(c):window,t){case"focusin":(iv(U)||U.contentEditable==="true")&&(Ts=U,Zf=c,dl=null);break;case"focusout":dl=Zf=Ts=null;break;case"mousedown":ep=!0;break;case"contextmenu":case"mouseup":case"dragend":ep=!1,uv(f,n,d);break;case"selectionchange":if(DR)break;case"keydown":case"keyup":uv(f,n,d)}var C;if(Lm)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Cs?Iw(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(kw&&n.locale!=="ko"&&(Cs||_!=="onCompositionStart"?_==="onCompositionEnd"&&Cs&&(C=Tw()):(Br=d,Am="value"in Br?Br.value:Br.textContent,Cs=!0)),U=nc(c,_),0<U.length&&(_=new ev(_,t,null,n,d),f.push({event:_,listeners:U}),C?_.data=C:(C=xw(n),C!==null&&(_.data=C)))),(C=ER?SR(t,n):CR(t,n))&&(c=nc(c,"onBeforeInput"),0<c.length&&(d=new ev("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=C))}$w(f,e)})}function bl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function nc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Rl(t,n),s!=null&&r.unshift(bl(t,s,i)),s=Rl(t,e),s!=null&&r.push(bl(t,s,i))),t=t.return}return r}function gs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=Rl(n,s),u!=null&&o.unshift(bl(n,u,l))):i||(u=Rl(n,s),u!=null&&o.push(bl(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var FR=/\r\n?/g,UR=/\u0000|\uFFFD/g;function fv(t){return(typeof t=="string"?t:""+t).replace(FR,`
`).replace(UR,"")}function ru(t,e,n){if(e=fv(e),fv(t)!==e&&n)throw Error(F(425))}function rc(){}var tp=null,np=null;function rp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ip=typeof setTimeout=="function"?setTimeout:void 0,$R=typeof clearTimeout=="function"?clearTimeout:void 0,pv=typeof Promise=="function"?Promise:void 0,jR=typeof queueMicrotask=="function"?queueMicrotask:typeof pv<"u"?function(t){return pv.resolve(null).then(t).catch(zR)}:ip;function zR(t){setTimeout(function(){throw t})}function Wd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Al(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Al(e)}function Xr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function mv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var co=Math.random().toString(36).slice(2),Un="__reactFiber$"+co,Ml="__reactProps$"+co,dr="__reactContainer$"+co,sp="__reactEvents$"+co,BR="__reactListeners$"+co,VR="__reactHandles$"+co;function Li(t){var e=t[Un];if(e)return e;for(var n=t.parentNode;n;){if(e=n[dr]||n[Un]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=mv(t);t!==null;){if(n=t[Un])return n;t=mv(t)}return e}t=n,n=t.parentNode}return null}function pa(t){return t=t[Un]||t[dr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Is(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function mh(t){return t[Ml]||null}var op=[],xs=-1;function gi(t){return{current:t}}function we(t){0>xs||(t.current=op[xs],op[xs]=null,xs--)}function me(t,e){xs++,op[xs]=t.current,t.current=e}var li={},ct=gi(li),Nt=gi(!1),Hi=li;function qs(t,e){var n=t.type.contextTypes;if(!n)return li;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function At(t){return t=t.childContextTypes,t!=null}function ic(){we(Nt),we(ct)}function gv(t,e,n){if(ct.current!==li)throw Error(F(168));me(ct,e),me(Nt,n)}function zw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(F(108,xx(t)||"Unknown",i));return Ie({},n,r)}function sc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||li,Hi=ct.current,me(ct,t),me(Nt,Nt.current),!0}function _v(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=zw(t,e,Hi),r.__reactInternalMemoizedMergedChildContext=t,we(Nt),we(ct),me(ct,t)):we(Nt),me(Nt,n)}var er=null,gh=!1,Gd=!1;function Bw(t){er===null?er=[t]:er.push(t)}function HR(t){gh=!0,Bw(t)}function _i(){if(!Gd&&er!==null){Gd=!0;var t=0,e=ae;try{var n=er;for(ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}er=null,gh=!1}catch(i){throw er!==null&&(er=er.slice(t+1)),fw(xm,_i),i}finally{ae=e,Gd=!1}}return null}var Rs=[],Ps=0,oc=null,lc=0,tn=[],nn=0,Wi=null,tr=1,nr="";function Ii(t,e){Rs[Ps++]=lc,Rs[Ps++]=oc,oc=t,lc=e}function Vw(t,e,n){tn[nn++]=tr,tn[nn++]=nr,tn[nn++]=Wi,Wi=t;var r=tr;t=nr;var i=32-Sn(r)-1;r&=~(1<<i),n+=1;var s=32-Sn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,tr=1<<32-Sn(e)+i|n<<i|r,nr=s+t}else tr=1<<s|n<<i|r,nr=t}function Mm(t){t.return!==null&&(Ii(t,1),Vw(t,1,0))}function Fm(t){for(;t===oc;)oc=Rs[--Ps],Rs[Ps]=null,lc=Rs[--Ps],Rs[Ps]=null;for(;t===Wi;)Wi=tn[--nn],tn[nn]=null,nr=tn[--nn],tn[nn]=null,tr=tn[--nn],tn[nn]=null}var Gt=null,Bt=null,Se=!1,mn=null;function Hw(t,e){var n=sn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function vv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gt=t,Bt=Xr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gt=t,Bt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Wi!==null?{id:tr,overflow:nr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=sn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gt=t,Bt=null,!0):!1;default:return!1}}function lp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ap(t){if(Se){var e=Bt;if(e){var n=e;if(!vv(t,e)){if(lp(t))throw Error(F(418));e=Xr(n.nextSibling);var r=Gt;e&&vv(t,e)?Hw(r,n):(t.flags=t.flags&-4097|2,Se=!1,Gt=t)}}else{if(lp(t))throw Error(F(418));t.flags=t.flags&-4097|2,Se=!1,Gt=t}}}function yv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gt=t}function iu(t){if(t!==Gt)return!1;if(!Se)return yv(t),Se=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!rp(t.type,t.memoizedProps)),e&&(e=Bt)){if(lp(t))throw Ww(),Error(F(418));for(;e;)Hw(t,e),e=Xr(e.nextSibling)}if(yv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Bt=Xr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Bt=null}}else Bt=Gt?Xr(t.stateNode.nextSibling):null;return!0}function Ww(){for(var t=Bt;t;)t=Xr(t.nextSibling)}function Ys(){Bt=Gt=null,Se=!1}function Um(t){mn===null?mn=[t]:mn.push(t)}var WR=Sr.ReactCurrentBatchConfig;function Vo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function su(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wv(t){var e=t._init;return e(t._payload)}function Gw(t){function e(S,v){if(t){var y=S.deletions;y===null?(S.deletions=[v],S.flags|=16):y.push(v)}}function n(S,v){if(!t)return null;for(;v!==null;)e(S,v),v=v.sibling;return null}function r(S,v){for(S=new Map;v!==null;)v.key!==null?S.set(v.key,v):S.set(v.index,v),v=v.sibling;return S}function i(S,v){return S=ei(S,v),S.index=0,S.sibling=null,S}function s(S,v,y){return S.index=y,t?(y=S.alternate,y!==null?(y=y.index,y<v?(S.flags|=2,v):y):(S.flags|=2,v)):(S.flags|=1048576,v)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function l(S,v,y,A){return v===null||v.tag!==6?(v=Zd(y,S.mode,A),v.return=S,v):(v=i(v,y),v.return=S,v)}function u(S,v,y,A){var b=y.type;return b===Ss?d(S,v,y.props.children,A,y.key):v!==null&&(v.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Or&&wv(b)===v.type)?(A=i(v,y.props),A.ref=Vo(S,v,y),A.return=S,A):(A=Du(y.type,y.key,y.props,null,S.mode,A),A.ref=Vo(S,v,y),A.return=S,A)}function c(S,v,y,A){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=ef(y,S.mode,A),v.return=S,v):(v=i(v,y.children||[]),v.return=S,v)}function d(S,v,y,A,b){return v===null||v.tag!==7?(v=Bi(y,S.mode,A,b),v.return=S,v):(v=i(v,y),v.return=S,v)}function f(S,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Zd(""+v,S.mode,y),v.return=S,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case qa:return y=Du(v.type,v.key,v.props,null,S.mode,y),y.ref=Vo(S,null,v),y.return=S,y;case Es:return v=ef(v,S.mode,y),v.return=S,v;case Or:var A=v._init;return f(S,A(v._payload),y)}if(Jo(v)||Uo(v))return v=Bi(v,S.mode,y,null),v.return=S,v;su(S,v)}return null}function m(S,v,y,A){var b=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return b!==null?null:l(S,v,""+y,A);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case qa:return y.key===b?u(S,v,y,A):null;case Es:return y.key===b?c(S,v,y,A):null;case Or:return b=y._init,m(S,v,b(y._payload),A)}if(Jo(y)||Uo(y))return b!==null?null:d(S,v,y,A,null);su(S,y)}return null}function w(S,v,y,A,b){if(typeof A=="string"&&A!==""||typeof A=="number")return S=S.get(y)||null,l(v,S,""+A,b);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case qa:return S=S.get(A.key===null?y:A.key)||null,u(v,S,A,b);case Es:return S=S.get(A.key===null?y:A.key)||null,c(v,S,A,b);case Or:var U=A._init;return w(S,v,y,U(A._payload),b)}if(Jo(A)||Uo(A))return S=S.get(y)||null,d(v,S,A,b,null);su(v,A)}return null}function E(S,v,y,A){for(var b=null,U=null,C=v,_=v=0,T=null;C!==null&&_<y.length;_++){C.index>_?(T=C,C=null):T=C.sibling;var I=m(S,C,y[_],A);if(I===null){C===null&&(C=T);break}t&&C&&I.alternate===null&&e(S,C),v=s(I,v,_),U===null?b=I:U.sibling=I,U=I,C=T}if(_===y.length)return n(S,C),Se&&Ii(S,_),b;if(C===null){for(;_<y.length;_++)C=f(S,y[_],A),C!==null&&(v=s(C,v,_),U===null?b=C:U.sibling=C,U=C);return Se&&Ii(S,_),b}for(C=r(S,C);_<y.length;_++)T=w(C,S,_,y[_],A),T!==null&&(t&&T.alternate!==null&&C.delete(T.key===null?_:T.key),v=s(T,v,_),U===null?b=T:U.sibling=T,U=T);return t&&C.forEach(function(R){return e(S,R)}),Se&&Ii(S,_),b}function P(S,v,y,A){var b=Uo(y);if(typeof b!="function")throw Error(F(150));if(y=b.call(y),y==null)throw Error(F(151));for(var U=b=null,C=v,_=v=0,T=null,I=y.next();C!==null&&!I.done;_++,I=y.next()){C.index>_?(T=C,C=null):T=C.sibling;var R=m(S,C,I.value,A);if(R===null){C===null&&(C=T);break}t&&C&&R.alternate===null&&e(S,C),v=s(R,v,_),U===null?b=R:U.sibling=R,U=R,C=T}if(I.done)return n(S,C),Se&&Ii(S,_),b;if(C===null){for(;!I.done;_++,I=y.next())I=f(S,I.value,A),I!==null&&(v=s(I,v,_),U===null?b=I:U.sibling=I,U=I);return Se&&Ii(S,_),b}for(C=r(S,C);!I.done;_++,I=y.next())I=w(C,S,_,I.value,A),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?_:I.key),v=s(I,v,_),U===null?b=I:U.sibling=I,U=I);return t&&C.forEach(function(D){return e(S,D)}),Se&&Ii(S,_),b}function N(S,v,y,A){if(typeof y=="object"&&y!==null&&y.type===Ss&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case qa:e:{for(var b=y.key,U=v;U!==null;){if(U.key===b){if(b=y.type,b===Ss){if(U.tag===7){n(S,U.sibling),v=i(U,y.props.children),v.return=S,S=v;break e}}else if(U.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Or&&wv(b)===U.type){n(S,U.sibling),v=i(U,y.props),v.ref=Vo(S,U,y),v.return=S,S=v;break e}n(S,U);break}else e(S,U);U=U.sibling}y.type===Ss?(v=Bi(y.props.children,S.mode,A,y.key),v.return=S,S=v):(A=Du(y.type,y.key,y.props,null,S.mode,A),A.ref=Vo(S,v,y),A.return=S,S=A)}return o(S);case Es:e:{for(U=y.key;v!==null;){if(v.key===U)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){n(S,v.sibling),v=i(v,y.children||[]),v.return=S,S=v;break e}else{n(S,v);break}else e(S,v);v=v.sibling}v=ef(y,S.mode,A),v.return=S,S=v}return o(S);case Or:return U=y._init,N(S,v,U(y._payload),A)}if(Jo(y))return E(S,v,y,A);if(Uo(y))return P(S,v,y,A);su(S,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(n(S,v.sibling),v=i(v,y),v.return=S,S=v):(n(S,v),v=Zd(y,S.mode,A),v.return=S,S=v),o(S)):n(S,v)}return N}var Xs=Gw(!0),Kw=Gw(!1),ac=gi(null),uc=null,Ns=null,$m=null;function jm(){$m=Ns=uc=null}function zm(t){var e=ac.current;we(ac),t._currentValue=e}function up(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function $s(t,e){uc=t,$m=Ns=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Rt=!0),t.firstContext=null)}function an(t){var e=t._currentValue;if($m!==t)if(t={context:t,memoizedValue:e,next:null},Ns===null){if(uc===null)throw Error(F(308));Ns=t,uc.dependencies={lanes:0,firstContext:t}}else Ns=Ns.next=t;return e}var bi=null;function Bm(t){bi===null?bi=[t]:bi.push(t)}function qw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Bm(e)):(n.next=i.next,i.next=n),e.interleaved=n,fr(t,r)}function fr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Dr=!1;function Vm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,fr(t,n)}return i=r.interleaved,i===null?(e.next=e,Bm(r)):(e.next=i.next,i.next=e),r.interleaved=e,fr(t,n)}function xu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Rm(t,n)}}function Ev(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function cc(t,e,n,r){var i=t.updateQueue;Dr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,d=c=u=null,l=s;do{var m=l.lane,w=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var E=t,P=l;switch(m=e,w=n,P.tag){case 1:if(E=P.payload,typeof E=="function"){f=E.call(w,f,m);break e}f=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=P.payload,m=typeof E=="function"?E.call(w,f,m):E,m==null)break e;f=Ie({},f,m);break e;case 2:Dr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else w={eventTime:w,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=w,u=f):d=d.next=w,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ki|=o,t.lanes=o,t.memoizedState=f}}function Sv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(F(191,i));i.call(r)}}}var ma={},zn=gi(ma),Fl=gi(ma),Ul=gi(ma);function Mi(t){if(t===ma)throw Error(F(174));return t}function Hm(t,e){switch(me(Ul,e),me(Fl,t),me(zn,ma),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vf(e,t)}we(zn),me(zn,e)}function Qs(){we(zn),we(Fl),we(Ul)}function Xw(t){Mi(Ul.current);var e=Mi(zn.current),n=Vf(e,t.type);e!==n&&(me(Fl,t),me(zn,n))}function Wm(t){Fl.current===t&&(we(zn),we(Fl))}var Te=gi(0);function hc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kd=[];function Gm(){for(var t=0;t<Kd.length;t++)Kd[t]._workInProgressVersionPrimary=null;Kd.length=0}var Ru=Sr.ReactCurrentDispatcher,qd=Sr.ReactCurrentBatchConfig,Gi=0,ke=null,be=null,je=null,dc=!1,fl=!1,$l=0,GR=0;function rt(){throw Error(F(321))}function Km(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!In(t[n],e[n]))return!1;return!0}function qm(t,e,n,r,i,s){if(Gi=s,ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ru.current=t===null||t.memoizedState===null?XR:QR,t=n(r,i),fl){s=0;do{if(fl=!1,$l=0,25<=s)throw Error(F(301));s+=1,je=be=null,e.updateQueue=null,Ru.current=JR,t=n(r,i)}while(fl)}if(Ru.current=fc,e=be!==null&&be.next!==null,Gi=0,je=be=ke=null,dc=!1,e)throw Error(F(300));return t}function Ym(){var t=$l!==0;return $l=0,t}function Mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?ke.memoizedState=je=t:je=je.next=t,je}function un(){if(be===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=be.next;var e=je===null?ke.memoizedState:je.next;if(e!==null)je=e,be=t;else{if(t===null)throw Error(F(310));be=t,t={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},je===null?ke.memoizedState=je=t:je=je.next=t}return je}function jl(t,e){return typeof e=="function"?e(t):e}function Yd(t){var e=un(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=be,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,c=s;do{var d=c.lane;if((Gi&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=f,o=r):u=u.next=f,ke.lanes|=d,Ki|=d}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=l,In(r,e.memoizedState)||(Rt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ke.lanes|=s,Ki|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Xd(t){var e=un(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);In(s,e.memoizedState)||(Rt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Qw(){}function Jw(t,e){var n=ke,r=un(),i=e(),s=!In(r.memoizedState,i);if(s&&(r.memoizedState=i,Rt=!0),r=r.queue,Xm(tE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,zl(9,eE.bind(null,n,r,i,e),void 0,null),Ve===null)throw Error(F(349));Gi&30||Zw(n,e,i)}return i}function Zw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function eE(t,e,n,r){e.value=n,e.getSnapshot=r,nE(e)&&rE(t)}function tE(t,e,n){return n(function(){nE(e)&&rE(t)})}function nE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!In(t,n)}catch{return!0}}function rE(t){var e=fr(t,1);e!==null&&Cn(e,t,1,-1)}function Cv(t){var e=Mn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jl,lastRenderedState:t},e.queue=t,t=t.dispatch=YR.bind(null,ke,t),[e.memoizedState,t]}function zl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function iE(){return un().memoizedState}function Pu(t,e,n,r){var i=Mn();ke.flags|=t,i.memoizedState=zl(1|e,n,void 0,r===void 0?null:r)}function _h(t,e,n,r){var i=un();r=r===void 0?null:r;var s=void 0;if(be!==null){var o=be.memoizedState;if(s=o.destroy,r!==null&&Km(r,o.deps)){i.memoizedState=zl(e,n,s,r);return}}ke.flags|=t,i.memoizedState=zl(1|e,n,s,r)}function Tv(t,e){return Pu(8390656,8,t,e)}function Xm(t,e){return _h(2048,8,t,e)}function sE(t,e){return _h(4,2,t,e)}function oE(t,e){return _h(4,4,t,e)}function lE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function aE(t,e,n){return n=n!=null?n.concat([t]):null,_h(4,4,lE.bind(null,e,t),n)}function Qm(){}function uE(t,e){var n=un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Km(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function cE(t,e){var n=un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Km(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function hE(t,e,n){return Gi&21?(In(n,e)||(n=gw(),ke.lanes|=n,Ki|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Rt=!0),t.memoizedState=n)}function KR(t,e){var n=ae;ae=n!==0&&4>n?n:4,t(!0);var r=qd.transition;qd.transition={};try{t(!1),e()}finally{ae=n,qd.transition=r}}function dE(){return un().memoizedState}function qR(t,e,n){var r=Zr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fE(t))pE(e,n);else if(n=qw(t,e,n,r),n!==null){var i=_t();Cn(n,t,r,i),mE(n,e,r)}}function YR(t,e,n){var r=Zr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fE(t))pE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,In(l,o)){var u=e.interleaved;u===null?(i.next=i,Bm(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=qw(t,e,i,r),n!==null&&(i=_t(),Cn(n,t,r,i),mE(n,e,r))}}function fE(t){var e=t.alternate;return t===ke||e!==null&&e===ke}function pE(t,e){fl=dc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Rm(t,n)}}var fc={readContext:an,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},XR={readContext:an,useCallback:function(t,e){return Mn().memoizedState=[t,e===void 0?null:e],t},useContext:an,useEffect:Tv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Pu(4194308,4,lE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Pu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Pu(4,2,t,e)},useMemo:function(t,e){var n=Mn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=qR.bind(null,ke,t),[r.memoizedState,t]},useRef:function(t){var e=Mn();return t={current:t},e.memoizedState=t},useState:Cv,useDebugValue:Qm,useDeferredValue:function(t){return Mn().memoizedState=t},useTransition:function(){var t=Cv(!1),e=t[0];return t=KR.bind(null,t[1]),Mn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ke,i=Mn();if(Se){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),Ve===null)throw Error(F(349));Gi&30||Zw(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Tv(tE.bind(null,r,s,t),[t]),r.flags|=2048,zl(9,eE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Mn(),e=Ve.identifierPrefix;if(Se){var n=nr,r=tr;n=(r&~(1<<32-Sn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$l++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=GR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},QR={readContext:an,useCallback:uE,useContext:an,useEffect:Xm,useImperativeHandle:aE,useInsertionEffect:sE,useLayoutEffect:oE,useMemo:cE,useReducer:Yd,useRef:iE,useState:function(){return Yd(jl)},useDebugValue:Qm,useDeferredValue:function(t){var e=un();return hE(e,be.memoizedState,t)},useTransition:function(){var t=Yd(jl)[0],e=un().memoizedState;return[t,e]},useMutableSource:Qw,useSyncExternalStore:Jw,useId:dE,unstable_isNewReconciler:!1},JR={readContext:an,useCallback:uE,useContext:an,useEffect:Xm,useImperativeHandle:aE,useInsertionEffect:sE,useLayoutEffect:oE,useMemo:cE,useReducer:Xd,useRef:iE,useState:function(){return Xd(jl)},useDebugValue:Qm,useDeferredValue:function(t){var e=un();return be===null?e.memoizedState=t:hE(e,be.memoizedState,t)},useTransition:function(){var t=Xd(jl)[0],e=un().memoizedState;return[t,e]},useMutableSource:Qw,useSyncExternalStore:Jw,useId:dE,unstable_isNewReconciler:!1};function fn(t,e){if(t&&t.defaultProps){e=Ie({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function cp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vh={isMounted:function(t){return(t=t._reactInternals)?ss(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_t(),i=Zr(t),s=lr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Qr(t,s,i),e!==null&&(Cn(e,t,i,r),xu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_t(),i=Zr(t),s=lr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Qr(t,s,i),e!==null&&(Cn(e,t,i,r),xu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_t(),r=Zr(t),i=lr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Qr(t,i,r),e!==null&&(Cn(e,t,r,n),xu(e,t,r))}};function kv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Dl(n,r)||!Dl(i,s):!0}function gE(t,e,n){var r=!1,i=li,s=e.contextType;return typeof s=="object"&&s!==null?s=an(s):(i=At(e)?Hi:ct.current,r=e.contextTypes,s=(r=r!=null)?qs(t,i):li),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Iv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vh.enqueueReplaceState(e,e.state,null)}function hp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Vm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=an(s):(s=At(e)?Hi:ct.current,i.context=qs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(cp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&vh.enqueueReplaceState(i,i.state,null),cc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Js(t,e){try{var n="",r=e;do n+=Ix(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Qd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function dp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ZR=typeof WeakMap=="function"?WeakMap:Map;function _E(t,e,n){n=lr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){mc||(mc=!0,Sp=r),dp(t,e)},n}function vE(t,e,n){n=lr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){dp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){dp(t,e),typeof r!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function xv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ZR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=fP.bind(null,t,e,n),e.then(t,t))}function Rv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Pv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=lr(-1,1),e.tag=2,Qr(n,e,1))),n.lanes|=1),t)}var eP=Sr.ReactCurrentOwner,Rt=!1;function pt(t,e,n,r){e.child=t===null?Kw(e,null,n,r):Xs(e,t.child,n,r)}function Nv(t,e,n,r,i){n=n.render;var s=e.ref;return $s(e,i),r=qm(t,e,n,r,s,i),n=Ym(),t!==null&&!Rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pr(t,e,i)):(Se&&n&&Mm(e),e.flags|=1,pt(t,e,r,i),e.child)}function Av(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!sg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,yE(t,e,s,r,i)):(t=Du(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Dl,n(o,r)&&t.ref===e.ref)return pr(t,e,i)}return e.flags|=1,t=ei(s,r),t.ref=e.ref,t.return=e,e.child=t}function yE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Dl(s,r)&&t.ref===e.ref)if(Rt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Rt=!0);else return e.lanes=t.lanes,pr(t,e,i)}return fp(t,e,n,r,i)}function wE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(Os,Ft),Ft|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,me(Os,Ft),Ft|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,me(Os,Ft),Ft|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,me(Os,Ft),Ft|=r;return pt(t,e,i,n),e.child}function EE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function fp(t,e,n,r,i){var s=At(n)?Hi:ct.current;return s=qs(e,s),$s(e,i),n=qm(t,e,n,r,s,i),r=Ym(),t!==null&&!Rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pr(t,e,i)):(Se&&r&&Mm(e),e.flags|=1,pt(t,e,n,i),e.child)}function Ov(t,e,n,r,i){if(At(n)){var s=!0;sc(e)}else s=!1;if($s(e,i),e.stateNode===null)Nu(t,e),gE(e,n,r),hp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=an(c):(c=At(n)?Hi:ct.current,c=qs(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&Iv(e,o,r,c),Dr=!1;var m=e.memoizedState;o.state=m,cc(e,r,o,i),u=e.memoizedState,l!==r||m!==u||Nt.current||Dr?(typeof d=="function"&&(cp(e,n,d,r),u=e.memoizedState),(l=Dr||kv(e,n,l,r,m,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Yw(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:fn(e.type,l),o.props=c,f=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=an(u):(u=At(n)?Hi:ct.current,u=qs(e,u));var w=n.getDerivedStateFromProps;(d=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==u)&&Iv(e,o,r,u),Dr=!1,m=e.memoizedState,o.state=m,cc(e,r,o,i);var E=e.memoizedState;l!==f||m!==E||Nt.current||Dr?(typeof w=="function"&&(cp(e,n,w,r),E=e.memoizedState),(c=Dr||kv(e,n,c,r,m,E,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return pp(t,e,n,r,s,i)}function pp(t,e,n,r,i,s){EE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&_v(e,n,!1),pr(t,e,s);r=e.stateNode,eP.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Xs(e,t.child,null,s),e.child=Xs(e,null,l,s)):pt(t,e,l,s),e.memoizedState=r.state,i&&_v(e,n,!0),e.child}function SE(t){var e=t.stateNode;e.pendingContext?gv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&gv(t,e.context,!1),Hm(t,e.containerInfo)}function Dv(t,e,n,r,i){return Ys(),Um(i),e.flags|=256,pt(t,e,n,r),e.child}var mp={dehydrated:null,treeContext:null,retryLane:0};function gp(t){return{baseLanes:t,cachePool:null,transitions:null}}function CE(t,e,n){var r=e.pendingProps,i=Te.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),me(Te,i&1),t===null)return ap(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Eh(o,r,0,null),t=Bi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=gp(n),e.memoizedState=mp,t):Jm(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return tP(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ei(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=ei(l,s):(s=Bi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?gp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=mp,r}return s=t.child,t=s.sibling,r=ei(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Jm(t,e){return e=Eh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ou(t,e,n,r){return r!==null&&Um(r),Xs(e,t.child,null,n),t=Jm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tP(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Qd(Error(F(422))),ou(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Eh({mode:"visible",children:r.children},i,0,null),s=Bi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Xs(e,t.child,null,o),e.child.memoizedState=gp(o),e.memoizedState=mp,s);if(!(e.mode&1))return ou(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(F(419)),r=Qd(s,r,void 0),ou(t,e,o,r)}if(l=(o&t.childLanes)!==0,Rt||l){if(r=Ve,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,fr(t,i),Cn(r,t,i,-1))}return ig(),r=Qd(Error(F(421))),ou(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=pP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Bt=Xr(i.nextSibling),Gt=e,Se=!0,mn=null,t!==null&&(tn[nn++]=tr,tn[nn++]=nr,tn[nn++]=Wi,tr=t.id,nr=t.overflow,Wi=e),e=Jm(e,r.children),e.flags|=4096,e)}function Lv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),up(t.return,e,n)}function Jd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function TE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(pt(t,e,r.children,n),r=Te.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lv(t,n,e);else if(t.tag===19)Lv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(me(Te,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&hc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Jd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&hc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Jd(e,!0,n,null,s);break;case"together":Jd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ki|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=ei(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ei(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function nP(t,e,n){switch(e.tag){case 3:SE(e),Ys();break;case 5:Xw(e);break;case 1:At(e.type)&&sc(e);break;case 4:Hm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;me(ac,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(me(Te,Te.current&1),e.flags|=128,null):n&e.child.childLanes?CE(t,e,n):(me(Te,Te.current&1),t=pr(t,e,n),t!==null?t.sibling:null);me(Te,Te.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return TE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),me(Te,Te.current),r)break;return null;case 22:case 23:return e.lanes=0,wE(t,e,n)}return pr(t,e,n)}var kE,_p,IE,xE;kE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_p=function(){};IE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Mi(zn.current);var s=null;switch(n){case"input":i=$f(t,i),r=$f(t,r),s=[];break;case"select":i=Ie({},i,{value:void 0}),r=Ie({},r,{value:void 0}),s=[];break;case"textarea":i=Bf(t,i),r=Bf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=rc)}Hf(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Il.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Il.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&_e("scroll",t),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};xE=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ho(t,e){if(!Se)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function it(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function rP(t,e,n){var r=e.pendingProps;switch(Fm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(e),null;case 1:return At(e.type)&&ic(),it(e),null;case 3:return r=e.stateNode,Qs(),we(Nt),we(ct),Gm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(iu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,mn!==null&&(kp(mn),mn=null))),_p(t,e),it(e),null;case 5:Wm(e);var i=Mi(Ul.current);if(n=e.type,t!==null&&e.stateNode!=null)IE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return it(e),null}if(t=Mi(zn.current),iu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Un]=e,r[Ml]=s,t=(e.mode&1)!==0,n){case"dialog":_e("cancel",r),_e("close",r);break;case"iframe":case"object":case"embed":_e("load",r);break;case"video":case"audio":for(i=0;i<el.length;i++)_e(el[i],r);break;case"source":_e("error",r);break;case"img":case"image":case"link":_e("error",r),_e("load",r);break;case"details":_e("toggle",r);break;case"input":V_(r,s),_e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},_e("invalid",r);break;case"textarea":W_(r,s),_e("invalid",r)}Hf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&ru(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&ru(r.textContent,l,t),i=["children",""+l]):Il.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&_e("scroll",r)}switch(n){case"input":Ya(r),H_(r,s,!0);break;case"textarea":Ya(r),G_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=rc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=tw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Un]=e,t[Ml]=r,kE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wf(n,r),n){case"dialog":_e("cancel",t),_e("close",t),i=r;break;case"iframe":case"object":case"embed":_e("load",t),i=r;break;case"video":case"audio":for(i=0;i<el.length;i++)_e(el[i],t);i=r;break;case"source":_e("error",t),i=r;break;case"img":case"image":case"link":_e("error",t),_e("load",t),i=r;break;case"details":_e("toggle",t),i=r;break;case"input":V_(t,r),i=$f(t,r),_e("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ie({},r,{value:void 0}),_e("invalid",t);break;case"textarea":W_(t,r),i=Bf(t,r),_e("invalid",t);break;default:i=r}Hf(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?iw(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&nw(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&xl(t,u):typeof u=="number"&&xl(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Il.hasOwnProperty(s)?u!=null&&s==="onScroll"&&_e("scroll",t):u!=null&&Sm(t,s,u,o))}switch(n){case"input":Ya(t),H_(t,r,!1);break;case"textarea":Ya(t),G_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+oi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?bs(t,!!r.multiple,s,!1):r.defaultValue!=null&&bs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=rc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return it(e),null;case 6:if(t&&e.stateNode!=null)xE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=Mi(Ul.current),Mi(zn.current),iu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Un]=e,(s=r.nodeValue!==n)&&(t=Gt,t!==null))switch(t.tag){case 3:ru(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ru(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Un]=e,e.stateNode=r}return it(e),null;case 13:if(we(Te),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Se&&Bt!==null&&e.mode&1&&!(e.flags&128))Ww(),Ys(),e.flags|=98560,s=!1;else if(s=iu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(F(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(F(317));s[Un]=e}else Ys(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;it(e),s=!1}else mn!==null&&(kp(mn),mn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Te.current&1?Ue===0&&(Ue=3):ig())),e.updateQueue!==null&&(e.flags|=4),it(e),null);case 4:return Qs(),_p(t,e),t===null&&Ll(e.stateNode.containerInfo),it(e),null;case 10:return zm(e.type._context),it(e),null;case 17:return At(e.type)&&ic(),it(e),null;case 19:if(we(Te),s=e.memoizedState,s===null)return it(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ho(s,!1);else{if(Ue!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=hc(t),o!==null){for(e.flags|=128,Ho(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return me(Te,Te.current&1|2),e.child}t=t.sibling}s.tail!==null&&Oe()>Zs&&(e.flags|=128,r=!0,Ho(s,!1),e.lanes=4194304)}else{if(!r)if(t=hc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ho(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Se)return it(e),null}else 2*Oe()-s.renderingStartTime>Zs&&n!==1073741824&&(e.flags|=128,r=!0,Ho(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Oe(),e.sibling=null,n=Te.current,me(Te,r?n&1|2:n&1),e):(it(e),null);case 22:case 23:return rg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ft&1073741824&&(it(e),e.subtreeFlags&6&&(e.flags|=8192)):it(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function iP(t,e){switch(Fm(e),e.tag){case 1:return At(e.type)&&ic(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qs(),we(Nt),we(ct),Gm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wm(e),null;case 13:if(we(Te),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));Ys()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return we(Te),null;case 4:return Qs(),null;case 10:return zm(e.type._context),null;case 22:case 23:return rg(),null;case 24:return null;default:return null}}var lu=!1,ot=!1,sP=typeof WeakSet=="function"?WeakSet:Set,V=null;function As(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Re(t,e,r)}else n.current=null}function vp(t,e,n){try{n()}catch(r){Re(t,e,r)}}var bv=!1;function oP(t,e){if(tp=ec,t=Ow(),bm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,f=t,m=null;t:for(;;){for(var w;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(w=f.firstChild)!==null;)m=f,f=w;for(;;){if(f===t)break t;if(m===n&&++c===i&&(l=o),m===s&&++d===r&&(u=o),(w=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=w}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(np={focusedElem:t,selectionRange:n},ec=!1,V=e;V!==null;)if(e=V,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,V=t;else for(;V!==null;){e=V;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var P=E.memoizedProps,N=E.memoizedState,S=e.stateNode,v=S.getSnapshotBeforeUpdate(e.elementType===e.type?P:fn(e.type,P),N);S.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(A){Re(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,V=t;break}V=e.return}return E=bv,bv=!1,E}function pl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&vp(e,n,s)}i=i.next}while(i!==r)}}function yh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function yp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function RE(t){var e=t.alternate;e!==null&&(t.alternate=null,RE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Un],delete e[Ml],delete e[sp],delete e[BR],delete e[VR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function PE(t){return t.tag===5||t.tag===3||t.tag===4}function Mv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||PE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=rc));else if(r!==4&&(t=t.child,t!==null))for(wp(t,e,n),t=t.sibling;t!==null;)wp(t,e,n),t=t.sibling}function Ep(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ep(t,e,n),t=t.sibling;t!==null;)Ep(t,e,n),t=t.sibling}var qe=null,pn=!1;function Rr(t,e,n){for(n=n.child;n!==null;)NE(t,e,n),n=n.sibling}function NE(t,e,n){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(hh,n)}catch{}switch(n.tag){case 5:ot||As(n,e);case 6:var r=qe,i=pn;qe=null,Rr(t,e,n),qe=r,pn=i,qe!==null&&(pn?(t=qe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qe.removeChild(n.stateNode));break;case 18:qe!==null&&(pn?(t=qe,n=n.stateNode,t.nodeType===8?Wd(t.parentNode,n):t.nodeType===1&&Wd(t,n),Al(t)):Wd(qe,n.stateNode));break;case 4:r=qe,i=pn,qe=n.stateNode.containerInfo,pn=!0,Rr(t,e,n),qe=r,pn=i;break;case 0:case 11:case 14:case 15:if(!ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&vp(n,e,o),i=i.next}while(i!==r)}Rr(t,e,n);break;case 1:if(!ot&&(As(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Re(n,e,l)}Rr(t,e,n);break;case 21:Rr(t,e,n);break;case 22:n.mode&1?(ot=(r=ot)||n.memoizedState!==null,Rr(t,e,n),ot=r):Rr(t,e,n);break;default:Rr(t,e,n)}}function Fv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sP),e.forEach(function(r){var i=mP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function dn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:qe=l.stateNode,pn=!1;break e;case 3:qe=l.stateNode.containerInfo,pn=!0;break e;case 4:qe=l.stateNode.containerInfo,pn=!0;break e}l=l.return}if(qe===null)throw Error(F(160));NE(s,o,i),qe=null,pn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Re(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AE(e,t),e=e.sibling}function AE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(dn(e,t),On(t),r&4){try{pl(3,t,t.return),yh(3,t)}catch(P){Re(t,t.return,P)}try{pl(5,t,t.return)}catch(P){Re(t,t.return,P)}}break;case 1:dn(e,t),On(t),r&512&&n!==null&&As(n,n.return);break;case 5:if(dn(e,t),On(t),r&512&&n!==null&&As(n,n.return),t.flags&32){var i=t.stateNode;try{xl(i,"")}catch(P){Re(t,t.return,P)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Z2(i,s),Wf(l,o);var c=Wf(l,s);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];d==="style"?iw(i,f):d==="dangerouslySetInnerHTML"?nw(i,f):d==="children"?xl(i,f):Sm(i,d,f,c)}switch(l){case"input":jf(i,s);break;case"textarea":ew(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?bs(i,!!s.multiple,w,!1):m!==!!s.multiple&&(s.defaultValue!=null?bs(i,!!s.multiple,s.defaultValue,!0):bs(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ml]=s}catch(P){Re(t,t.return,P)}}break;case 6:if(dn(e,t),On(t),r&4){if(t.stateNode===null)throw Error(F(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(P){Re(t,t.return,P)}}break;case 3:if(dn(e,t),On(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Al(e.containerInfo)}catch(P){Re(t,t.return,P)}break;case 4:dn(e,t),On(t);break;case 13:dn(e,t),On(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(tg=Oe())),r&4&&Fv(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ot=(c=ot)||d,dn(e,t),ot=c):dn(e,t),On(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(V=t,d=t.child;d!==null;){for(f=V=d;V!==null;){switch(m=V,w=m.child,m.tag){case 0:case 11:case 14:case 15:pl(4,m,m.return);break;case 1:As(m,m.return);var E=m.stateNode;if(typeof E.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(P){Re(r,n,P)}}break;case 5:As(m,m.return);break;case 22:if(m.memoizedState!==null){$v(f);continue}}w!==null?(w.return=m,V=w):$v(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=rw("display",o))}catch(P){Re(t,t.return,P)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(P){Re(t,t.return,P)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:dn(e,t),On(t),r&4&&Fv(t);break;case 21:break;default:dn(e,t),On(t)}}function On(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(PE(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xl(i,""),r.flags&=-33);var s=Mv(t);Ep(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Mv(t);wp(t,l,o);break;default:throw Error(F(161))}}catch(u){Re(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lP(t,e,n){V=t,OE(t)}function OE(t,e,n){for(var r=(t.mode&1)!==0;V!==null;){var i=V,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||lu;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||ot;l=lu;var c=ot;if(lu=o,(ot=u)&&!c)for(V=i;V!==null;)o=V,u=o.child,o.tag===22&&o.memoizedState!==null?jv(i):u!==null?(u.return=o,V=u):jv(i);for(;s!==null;)V=s,OE(s),s=s.sibling;V=i,lu=l,ot=c}Uv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,V=s):Uv(t)}}function Uv(t){for(;V!==null;){var e=V;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ot||yh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ot)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:fn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Sv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Sv(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Al(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}ot||e.flags&512&&yp(e)}catch(m){Re(e,e.return,m)}}if(e===t){V=null;break}if(n=e.sibling,n!==null){n.return=e.return,V=n;break}V=e.return}}function $v(t){for(;V!==null;){var e=V;if(e===t){V=null;break}var n=e.sibling;if(n!==null){n.return=e.return,V=n;break}V=e.return}}function jv(t){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{yh(4,e)}catch(u){Re(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Re(e,i,u)}}var s=e.return;try{yp(e)}catch(u){Re(e,s,u)}break;case 5:var o=e.return;try{yp(e)}catch(u){Re(e,o,u)}}}catch(u){Re(e,e.return,u)}if(e===t){V=null;break}var l=e.sibling;if(l!==null){l.return=e.return,V=l;break}V=e.return}}var aP=Math.ceil,pc=Sr.ReactCurrentDispatcher,Zm=Sr.ReactCurrentOwner,on=Sr.ReactCurrentBatchConfig,se=0,Ve=null,Le=null,Xe=0,Ft=0,Os=gi(0),Ue=0,Bl=null,Ki=0,wh=0,eg=0,ml=null,xt=null,tg=0,Zs=1/0,Zn=null,mc=!1,Sp=null,Jr=null,au=!1,Vr=null,gc=0,gl=0,Cp=null,Au=-1,Ou=0;function _t(){return se&6?Oe():Au!==-1?Au:Au=Oe()}function Zr(t){return t.mode&1?se&2&&Xe!==0?Xe&-Xe:WR.transition!==null?(Ou===0&&(Ou=gw()),Ou):(t=ae,t!==0||(t=window.event,t=t===void 0?16:Cw(t.type)),t):1}function Cn(t,e,n,r){if(50<gl)throw gl=0,Cp=null,Error(F(185));da(t,n,r),(!(se&2)||t!==Ve)&&(t===Ve&&(!(se&2)&&(wh|=n),Ue===4&&Mr(t,Xe)),Ot(t,r),n===1&&se===0&&!(e.mode&1)&&(Zs=Oe()+500,gh&&_i()))}function Ot(t,e){var n=t.callbackNode;Wx(t,e);var r=Zu(t,t===Ve?Xe:0);if(r===0)n!==null&&Y_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Y_(n),e===1)t.tag===0?HR(zv.bind(null,t)):Bw(zv.bind(null,t)),jR(function(){!(se&6)&&_i()}),n=null;else{switch(_w(r)){case 1:n=xm;break;case 4:n=pw;break;case 16:n=Ju;break;case 536870912:n=mw;break;default:n=Ju}n=jE(n,DE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function DE(t,e){if(Au=-1,Ou=0,se&6)throw Error(F(327));var n=t.callbackNode;if(js()&&t.callbackNode!==n)return null;var r=Zu(t,t===Ve?Xe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_c(t,r);else{e=r;var i=se;se|=2;var s=bE();(Ve!==t||Xe!==e)&&(Zn=null,Zs=Oe()+500,zi(t,e));do try{hP();break}catch(l){LE(t,l)}while(!0);jm(),pc.current=s,se=i,Le!==null?e=0:(Ve=null,Xe=0,e=Ue)}if(e!==0){if(e===2&&(i=Xf(t),i!==0&&(r=i,e=Tp(t,i))),e===1)throw n=Bl,zi(t,0),Mr(t,r),Ot(t,Oe()),n;if(e===6)Mr(t,r);else{if(i=t.current.alternate,!(r&30)&&!uP(i)&&(e=_c(t,r),e===2&&(s=Xf(t),s!==0&&(r=s,e=Tp(t,s))),e===1))throw n=Bl,zi(t,0),Mr(t,r),Ot(t,Oe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:xi(t,xt,Zn);break;case 3:if(Mr(t,r),(r&130023424)===r&&(e=tg+500-Oe(),10<e)){if(Zu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){_t(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ip(xi.bind(null,t,xt,Zn),e);break}xi(t,xt,Zn);break;case 4:if(Mr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Sn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*aP(r/1960))-r,10<r){t.timeoutHandle=ip(xi.bind(null,t,xt,Zn),r);break}xi(t,xt,Zn);break;case 5:xi(t,xt,Zn);break;default:throw Error(F(329))}}}return Ot(t,Oe()),t.callbackNode===n?DE.bind(null,t):null}function Tp(t,e){var n=ml;return t.current.memoizedState.isDehydrated&&(zi(t,e).flags|=256),t=_c(t,e),t!==2&&(e=xt,xt=n,e!==null&&kp(e)),t}function kp(t){xt===null?xt=t:xt.push.apply(xt,t)}function uP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!In(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mr(t,e){for(e&=~eg,e&=~wh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Sn(e),r=1<<n;t[n]=-1,e&=~r}}function zv(t){if(se&6)throw Error(F(327));js();var e=Zu(t,0);if(!(e&1))return Ot(t,Oe()),null;var n=_c(t,e);if(t.tag!==0&&n===2){var r=Xf(t);r!==0&&(e=r,n=Tp(t,r))}if(n===1)throw n=Bl,zi(t,0),Mr(t,e),Ot(t,Oe()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xi(t,xt,Zn),Ot(t,Oe()),null}function ng(t,e){var n=se;se|=1;try{return t(e)}finally{se=n,se===0&&(Zs=Oe()+500,gh&&_i())}}function qi(t){Vr!==null&&Vr.tag===0&&!(se&6)&&js();var e=se;se|=1;var n=on.transition,r=ae;try{if(on.transition=null,ae=1,t)return t()}finally{ae=r,on.transition=n,se=e,!(se&6)&&_i()}}function rg(){Ft=Os.current,we(Os)}function zi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,$R(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(Fm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ic();break;case 3:Qs(),we(Nt),we(ct),Gm();break;case 5:Wm(r);break;case 4:Qs();break;case 13:we(Te);break;case 19:we(Te);break;case 10:zm(r.type._context);break;case 22:case 23:rg()}n=n.return}if(Ve=t,Le=t=ei(t.current,null),Xe=Ft=e,Ue=0,Bl=null,eg=wh=Ki=0,xt=ml=null,bi!==null){for(e=0;e<bi.length;e++)if(n=bi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}bi=null}return t}function LE(t,e){do{var n=Le;try{if(jm(),Ru.current=fc,dc){for(var r=ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}dc=!1}if(Gi=0,je=be=ke=null,fl=!1,$l=0,Zm.current=null,n===null||n.return===null){Ue=1,Bl=e,Le=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=Xe,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=Rv(o);if(w!==null){w.flags&=-257,Pv(w,o,l,s,e),w.mode&1&&xv(s,c,e),e=w,u=c;var E=e.updateQueue;if(E===null){var P=new Set;P.add(u),e.updateQueue=P}else E.add(u);break e}else{if(!(e&1)){xv(s,c,e),ig();break e}u=Error(F(426))}}else if(Se&&l.mode&1){var N=Rv(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Pv(N,o,l,s,e),Um(Js(u,l));break e}}s=u=Js(u,l),Ue!==4&&(Ue=2),ml===null?ml=[s]:ml.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=_E(s,u,e);Ev(s,S);break e;case 1:l=u;var v=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Jr===null||!Jr.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=vE(s,l,e);Ev(s,A);break e}}s=s.return}while(s!==null)}FE(n)}catch(b){e=b,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(!0)}function bE(){var t=pc.current;return pc.current=fc,t===null?fc:t}function ig(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),Ve===null||!(Ki&268435455)&&!(wh&268435455)||Mr(Ve,Xe)}function _c(t,e){var n=se;se|=2;var r=bE();(Ve!==t||Xe!==e)&&(Zn=null,zi(t,e));do try{cP();break}catch(i){LE(t,i)}while(!0);if(jm(),se=n,pc.current=r,Le!==null)throw Error(F(261));return Ve=null,Xe=0,Ue}function cP(){for(;Le!==null;)ME(Le)}function hP(){for(;Le!==null&&!Mx();)ME(Le)}function ME(t){var e=$E(t.alternate,t,Ft);t.memoizedProps=t.pendingProps,e===null?FE(t):Le=e,Zm.current=null}function FE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=iP(n,e),n!==null){n.flags&=32767,Le=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ue=6,Le=null;return}}else if(n=rP(n,e,Ft),n!==null){Le=n;return}if(e=e.sibling,e!==null){Le=e;return}Le=e=t}while(e!==null);Ue===0&&(Ue=5)}function xi(t,e,n){var r=ae,i=on.transition;try{on.transition=null,ae=1,dP(t,e,n,r)}finally{on.transition=i,ae=r}return null}function dP(t,e,n,r){do js();while(Vr!==null);if(se&6)throw Error(F(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Gx(t,s),t===Ve&&(Le=Ve=null,Xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||au||(au=!0,jE(Ju,function(){return js(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=on.transition,on.transition=null;var o=ae;ae=1;var l=se;se|=4,Zm.current=null,oP(t,n),AE(n,t),OR(np),ec=!!tp,np=tp=null,t.current=n,lP(n),Fx(),se=l,ae=o,on.transition=s}else t.current=n;if(au&&(au=!1,Vr=t,gc=i),s=t.pendingLanes,s===0&&(Jr=null),jx(n.stateNode),Ot(t,Oe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(mc)throw mc=!1,t=Sp,Sp=null,t;return gc&1&&t.tag!==0&&js(),s=t.pendingLanes,s&1?t===Cp?gl++:(gl=0,Cp=t):gl=0,_i(),null}function js(){if(Vr!==null){var t=_w(gc),e=on.transition,n=ae;try{if(on.transition=null,ae=16>t?16:t,Vr===null)var r=!1;else{if(t=Vr,Vr=null,gc=0,se&6)throw Error(F(331));var i=se;for(se|=4,V=t.current;V!==null;){var s=V,o=s.child;if(V.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(V=c;V!==null;){var d=V;switch(d.tag){case 0:case 11:case 15:pl(8,d,s)}var f=d.child;if(f!==null)f.return=d,V=f;else for(;V!==null;){d=V;var m=d.sibling,w=d.return;if(RE(d),d===c){V=null;break}if(m!==null){m.return=w,V=m;break}V=w}}}var E=s.alternate;if(E!==null){var P=E.child;if(P!==null){E.child=null;do{var N=P.sibling;P.sibling=null,P=N}while(P!==null)}}V=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,V=o;else e:for(;V!==null;){if(s=V,s.flags&2048)switch(s.tag){case 0:case 11:case 15:pl(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,V=S;break e}V=s.return}}var v=t.current;for(V=v;V!==null;){o=V;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,V=y;else e:for(o=v;V!==null;){if(l=V,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:yh(9,l)}}catch(b){Re(l,l.return,b)}if(l===o){V=null;break e}var A=l.sibling;if(A!==null){A.return=l.return,V=A;break e}V=l.return}}if(se=i,_i(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(hh,t)}catch{}r=!0}return r}finally{ae=n,on.transition=e}}return!1}function Bv(t,e,n){e=Js(n,e),e=_E(t,e,1),t=Qr(t,e,1),e=_t(),t!==null&&(da(t,1,e),Ot(t,e))}function Re(t,e,n){if(t.tag===3)Bv(t,t,n);else for(;e!==null;){if(e.tag===3){Bv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jr===null||!Jr.has(r))){t=Js(n,t),t=vE(e,t,1),e=Qr(e,t,1),t=_t(),e!==null&&(da(e,1,t),Ot(e,t));break}}e=e.return}}function fP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_t(),t.pingedLanes|=t.suspendedLanes&n,Ve===t&&(Xe&n)===n&&(Ue===4||Ue===3&&(Xe&130023424)===Xe&&500>Oe()-tg?zi(t,0):eg|=n),Ot(t,e)}function UE(t,e){e===0&&(t.mode&1?(e=Ja,Ja<<=1,!(Ja&130023424)&&(Ja=4194304)):e=1);var n=_t();t=fr(t,e),t!==null&&(da(t,e,n),Ot(t,n))}function pP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),UE(t,n)}function mP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),UE(t,n)}var $E;$E=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nt.current)Rt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Rt=!1,nP(t,e,n);Rt=!!(t.flags&131072)}else Rt=!1,Se&&e.flags&1048576&&Vw(e,lc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Nu(t,e),t=e.pendingProps;var i=qs(e,ct.current);$s(e,n),i=qm(null,e,r,t,i,n);var s=Ym();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,At(r)?(s=!0,sc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Vm(e),i.updater=vh,e.stateNode=i,i._reactInternals=e,hp(e,r,t,n),e=pp(null,e,r,!0,s,n)):(e.tag=0,Se&&s&&Mm(e),pt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Nu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=_P(r),t=fn(r,t),i){case 0:e=fp(null,e,r,t,n);break e;case 1:e=Ov(null,e,r,t,n);break e;case 11:e=Nv(null,e,r,t,n);break e;case 14:e=Av(null,e,r,fn(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fn(r,i),fp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fn(r,i),Ov(t,e,r,i,n);case 3:e:{if(SE(e),t===null)throw Error(F(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Yw(t,e),cc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Js(Error(F(423)),e),e=Dv(t,e,r,n,i);break e}else if(r!==i){i=Js(Error(F(424)),e),e=Dv(t,e,r,n,i);break e}else for(Bt=Xr(e.stateNode.containerInfo.firstChild),Gt=e,Se=!0,mn=null,n=Kw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ys(),r===i){e=pr(t,e,n);break e}pt(t,e,r,n)}e=e.child}return e;case 5:return Xw(e),t===null&&ap(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,rp(r,i)?o=null:s!==null&&rp(r,s)&&(e.flags|=32),EE(t,e),pt(t,e,o,n),e.child;case 6:return t===null&&ap(e),null;case 13:return CE(t,e,n);case 4:return Hm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xs(e,null,r,n):pt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fn(r,i),Nv(t,e,r,i,n);case 7:return pt(t,e,e.pendingProps,n),e.child;case 8:return pt(t,e,e.pendingProps.children,n),e.child;case 12:return pt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,me(ac,r._currentValue),r._currentValue=o,s!==null)if(In(s.value,o)){if(s.children===i.children&&!Nt.current){e=pr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=lr(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),up(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(F(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),up(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}pt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,$s(e,n),i=an(i),r=r(i),e.flags|=1,pt(t,e,r,n),e.child;case 14:return r=e.type,i=fn(r,e.pendingProps),i=fn(r.type,i),Av(t,e,r,i,n);case 15:return yE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fn(r,i),Nu(t,e),e.tag=1,At(r)?(t=!0,sc(e)):t=!1,$s(e,n),gE(e,r,i),hp(e,r,i,n),pp(null,e,r,!0,t,n);case 19:return TE(t,e,n);case 22:return wE(t,e,n)}throw Error(F(156,e.tag))};function jE(t,e){return fw(t,e)}function gP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,e,n,r){return new gP(t,e,n,r)}function sg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _P(t){if(typeof t=="function")return sg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Tm)return 11;if(t===km)return 14}return 2}function ei(t,e){var n=t.alternate;return n===null?(n=sn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Du(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")sg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ss:return Bi(n.children,i,s,e);case Cm:o=8,i|=8;break;case bf:return t=sn(12,n,e,i|2),t.elementType=bf,t.lanes=s,t;case Mf:return t=sn(13,n,e,i),t.elementType=Mf,t.lanes=s,t;case Ff:return t=sn(19,n,e,i),t.elementType=Ff,t.lanes=s,t;case X2:return Eh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case q2:o=10;break e;case Y2:o=9;break e;case Tm:o=11;break e;case km:o=14;break e;case Or:o=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=sn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Bi(t,e,n,r){return t=sn(7,t,r,e),t.lanes=n,t}function Eh(t,e,n,r){return t=sn(22,t,r,e),t.elementType=X2,t.lanes=n,t.stateNode={isHidden:!1},t}function Zd(t,e,n){return t=sn(6,t,null,e),t.lanes=n,t}function ef(t,e,n){return e=sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ld(0),this.expirationTimes=Ld(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ld(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function og(t,e,n,r,i,s,o,l,u){return t=new vP(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=sn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vm(s),t}function yP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Es,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function zE(t){if(!t)return li;t=t._reactInternals;e:{if(ss(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(At(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(At(n))return zw(t,n,e)}return e}function BE(t,e,n,r,i,s,o,l,u){return t=og(n,r,!0,t,i,s,o,l,u),t.context=zE(null),n=t.current,r=_t(),i=Zr(n),s=lr(r,i),s.callback=e??null,Qr(n,s,i),t.current.lanes=i,da(t,i,r),Ot(t,r),t}function Sh(t,e,n,r){var i=e.current,s=_t(),o=Zr(i);return n=zE(n),e.context===null?e.context=n:e.pendingContext=n,e=lr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Qr(i,e,o),t!==null&&(Cn(t,i,o,s),xu(t,i,o)),o}function vc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function lg(t,e){Vv(t,e),(t=t.alternate)&&Vv(t,e)}function wP(){return null}var VE=typeof reportError=="function"?reportError:function(t){console.error(t)};function ag(t){this._internalRoot=t}Ch.prototype.render=ag.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));Sh(t,e,null,null)};Ch.prototype.unmount=ag.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qi(function(){Sh(null,t,null,null)}),e[dr]=null}};function Ch(t){this._internalRoot=t}Ch.prototype.unstable_scheduleHydration=function(t){if(t){var e=ww();t={blockedOn:null,target:t,priority:e};for(var n=0;n<br.length&&e!==0&&e<br[n].priority;n++);br.splice(n,0,t),n===0&&Sw(t)}};function ug(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Th(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Hv(){}function EP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=vc(o);s.call(c)}}var o=BE(e,r,t,0,null,!1,!1,"",Hv);return t._reactRootContainer=o,t[dr]=o.current,Ll(t.nodeType===8?t.parentNode:t),qi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=vc(u);l.call(c)}}var u=og(t,0,!1,null,null,!1,!1,"",Hv);return t._reactRootContainer=u,t[dr]=u.current,Ll(t.nodeType===8?t.parentNode:t),qi(function(){Sh(e,u,n,r)}),u}function kh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=vc(o);l.call(u)}}Sh(e,o,t,i)}else o=EP(n,e,t,i,r);return vc(o)}vw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zo(e.pendingLanes);n!==0&&(Rm(e,n|1),Ot(e,Oe()),!(se&6)&&(Zs=Oe()+500,_i()))}break;case 13:qi(function(){var r=fr(t,1);if(r!==null){var i=_t();Cn(r,t,1,i)}}),lg(t,1)}};Pm=function(t){if(t.tag===13){var e=fr(t,134217728);if(e!==null){var n=_t();Cn(e,t,134217728,n)}lg(t,134217728)}};yw=function(t){if(t.tag===13){var e=Zr(t),n=fr(t,e);if(n!==null){var r=_t();Cn(n,t,e,r)}lg(t,e)}};ww=function(){return ae};Ew=function(t,e){var n=ae;try{return ae=t,e()}finally{ae=n}};Kf=function(t,e,n){switch(e){case"input":if(jf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=mh(r);if(!i)throw Error(F(90));J2(r),jf(r,i)}}}break;case"textarea":ew(t,n);break;case"select":e=n.value,e!=null&&bs(t,!!n.multiple,e,!1)}};lw=ng;aw=qi;var SP={usingClientEntryPoint:!1,Events:[pa,Is,mh,sw,ow,ng]},Wo={findFiberByHostInstance:Li,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CP={bundleType:Wo.bundleType,version:Wo.version,rendererPackageName:Wo.rendererPackageName,rendererConfig:Wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hw(t),t===null?null:t.stateNode},findFiberByHostInstance:Wo.findFiberByHostInstance||wP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uu.isDisabled&&uu.supportsFiber)try{hh=uu.inject(CP),jn=uu}catch{}}Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SP;Xt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ug(e))throw Error(F(200));return yP(t,e,null,n)};Xt.createRoot=function(t,e){if(!ug(t))throw Error(F(299));var n=!1,r="",i=VE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=og(t,1,!1,null,null,n,!1,r,i),t[dr]=e.current,Ll(t.nodeType===8?t.parentNode:t),new ag(e)};Xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=hw(e),t=t===null?null:t.stateNode,t};Xt.flushSync=function(t){return qi(t)};Xt.hydrate=function(t,e,n){if(!Th(e))throw Error(F(200));return kh(null,t,e,!0,n)};Xt.hydrateRoot=function(t,e,n){if(!ug(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=VE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=BE(e,null,t,1,n??null,i,!1,s,o),t[dr]=e.current,Ll(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ch(e)};Xt.render=function(t,e,n){if(!Th(e))throw Error(F(200));return kh(null,t,e,!1,n)};Xt.unmountComponentAtNode=function(t){if(!Th(t))throw Error(F(40));return t._reactRootContainer?(qi(function(){kh(null,null,t,!1,function(){t._reactRootContainer=null,t[dr]=null})}),!0):!1};Xt.unstable_batchedUpdates=ng;Xt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Th(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return kh(t,e,n,!1,r)};Xt.version="18.3.1-next-f1338f8080-20240426";function HE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HE)}catch(t){console.error(t)}}HE(),H2.exports=Xt;var TP=H2.exports,WE,Wv=TP;WE=Wv.createRoot,Wv.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vl(){return Vl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vl.apply(this,arguments)}var Hr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Hr||(Hr={}));const Gv="popstate";function kP(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return Ip("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:yc(i)}return xP(e,n,null,t)}function De(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function GE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IP(){return Math.random().toString(36).substr(2,8)}function Kv(t,e){return{usr:t.state,key:t.key,idx:e}}function Ip(t,e,n,r){return n===void 0&&(n=null),Vl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ho(e):e,{state:n,key:e&&e.key||r||IP()})}function yc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ho(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function xP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=Hr.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(Vl({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Hr.Pop;let N=d(),S=N==null?null:N-c;c=N,u&&u({action:l,location:P.location,delta:S})}function m(N,S){l=Hr.Push;let v=Ip(P.location,N,S);c=d()+1;let y=Kv(v,c),A=P.createHref(v);try{o.pushState(y,"",A)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(A)}s&&u&&u({action:l,location:P.location,delta:1})}function w(N,S){l=Hr.Replace;let v=Ip(P.location,N,S);c=d();let y=Kv(v,c),A=P.createHref(v);o.replaceState(y,"",A),s&&u&&u({action:l,location:P.location,delta:0})}function E(N){let S=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof N=="string"?N:yc(N);return v=v.replace(/ $/,"%20"),De(S,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,S)}let P={get action(){return l},get location(){return t(i,o)},listen(N){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Gv,f),u=N,()=>{i.removeEventListener(Gv,f),u=null}},createHref(N){return e(i,N)},createURL:E,encodeLocation(N){let S=E(N);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:m,replace:w,go(N){return o.go(N)}};return P}var qv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(qv||(qv={}));function RP(t,e,n){return n===void 0&&(n="/"),PP(t,e,n,!1)}function PP(t,e,n,r){let i=typeof e=="string"?ho(e):e,s=cg(i.pathname||"/",n);if(s==null)return null;let o=KE(t);NP(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=zP(s);l=$P(o[u],c,r)}return l}function KE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(De(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=ti([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(De(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),KE(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:FP(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of qE(s.path))i(s,o,u)}),e}function qE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=qE(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function NP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:UP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const AP=/^:[\w-]+$/,OP=3,DP=2,LP=1,bP=10,MP=-2,Yv=t=>t==="*";function FP(t,e){let n=t.split("/"),r=n.length;return n.some(Yv)&&(r+=MP),e&&(r+=DP),n.filter(i=>!Yv(i)).reduce((i,s)=>i+(AP.test(s)?OP:s===""?LP:bP),r)}function UP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function $P(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=Xv({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),m=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Xv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:ti([s,f.pathname]),pathnameBase:WP(ti([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=ti([s,f.pathnameBase]))}return o}function Xv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=jP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:m,isOptional:w}=d;if(m==="*"){let P=l[f]||"";o=s.slice(0,s.length-P.length).replace(/(.)\/+$/,"$1")}const E=l[f];return w&&!E?c[m]=void 0:c[m]=(E||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function jP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),GE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function zP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return GE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function cg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function BP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ho(t):t;return{pathname:n?n.startsWith("/")?n:VP(n,e):e,search:GP(r),hash:KP(i)}}function VP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function tf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function HP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hg(t,e){let n=HP(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function dg(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ho(t):(i=Vl({},t),De(!i.pathname||!i.pathname.includes("?"),tf("?","pathname","search",i)),De(!i.pathname||!i.pathname.includes("#"),tf("#","pathname","hash",i)),De(!i.search||!i.search.includes("#"),tf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}l=f>=0?e[f]:"/"}let u=BP(i,l),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const ti=t=>t.join("/").replace(/\/\/+/g,"/"),WP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),GP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,KP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function qP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const YE=["post","put","patch","delete"];new Set(YE);const YP=["get",...YE];new Set(YP);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hl(){return Hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hl.apply(this,arguments)}const fg=M.createContext(null),XP=M.createContext(null),vi=M.createContext(null),Ih=M.createContext(null),Cr=M.createContext({outlet:null,matches:[],isDataRoute:!1}),XE=M.createContext(null);function QP(t,e){let{relative:n}=e===void 0?{}:e;fo()||De(!1);let{basename:r,navigator:i}=M.useContext(vi),{hash:s,pathname:o,search:l}=ZE(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:ti([r,o])),i.createHref({pathname:u,search:l,hash:s})}function fo(){return M.useContext(Ih)!=null}function ga(){return fo()||De(!1),M.useContext(Ih).location}function QE(t){M.useContext(vi).static||M.useLayoutEffect(t)}function JE(){let{isDataRoute:t}=M.useContext(Cr);return t?hN():JP()}function JP(){fo()||De(!1);let t=M.useContext(fg),{basename:e,future:n,navigator:r}=M.useContext(vi),{matches:i}=M.useContext(Cr),{pathname:s}=ga(),o=JSON.stringify(hg(i,n.v7_relativeSplatPath)),l=M.useRef(!1);return QE(()=>{l.current=!0}),M.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let f=dg(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ti([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,s,t])}const ZP=M.createContext(null);function eN(t){let e=M.useContext(Cr).outlet;return e&&M.createElement(ZP.Provider,{value:t},e)}function ZE(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=M.useContext(vi),{matches:i}=M.useContext(Cr),{pathname:s}=ga(),o=JSON.stringify(hg(i,r.v7_relativeSplatPath));return M.useMemo(()=>dg(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function eS(t,e){return tN(t,e)}function tN(t,e,n,r){fo()||De(!1);let{navigator:i}=M.useContext(vi),{matches:s}=M.useContext(Cr),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=ga(),d;if(e){var f;let N=typeof e=="string"?ho(e):e;u==="/"||(f=N.pathname)!=null&&f.startsWith(u)||De(!1),d=N}else d=c;let m=d.pathname||"/",w=m;if(u!=="/"){let N=u.replace(/^\//,"").split("/");w="/"+m.replace(/^\//,"").split("/").slice(N.length).join("/")}let E=RP(t,{pathname:w}),P=oN(E&&E.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:ti([u,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?u:ti([u,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),s,n,r);return e&&P?M.createElement(Ih.Provider,{value:{location:Hl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Hr.Pop}},P):P}function nN(){let t=cN(),e=qP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,null)}const rN=M.createElement(nN,null);class iN extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(Cr.Provider,{value:this.props.routeContext},M.createElement(XE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sN(t){let{routeContext:e,match:n,children:r}=t,i=M.useContext(fg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(Cr.Provider,{value:e},r)}function oN(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||De(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:w}=n,E=f.route.loader&&m[f.route.id]===void 0&&(!w||w[f.route.id]===void 0);if(f.route.lazy||E){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let w,E=!1,P=null,N=null;n&&(w=l&&f.route.id?l[f.route.id]:void 0,P=f.route.errorElement||rN,u&&(c<0&&m===0?(E=!0,N=null):c===m&&(E=!0,N=f.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,m+1)),v=()=>{let y;return w?y=P:E?y=N:f.route.Component?y=M.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,M.createElement(sN,{match:f,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:y})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?M.createElement(iN,{location:n.location,revalidation:n.revalidation,component:P,error:w,children:v(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):v()},null)}var tS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(tS||{}),wc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(wc||{});function lN(t){let e=M.useContext(fg);return e||De(!1),e}function aN(t){let e=M.useContext(XP);return e||De(!1),e}function uN(t){let e=M.useContext(Cr);return e||De(!1),e}function nS(t){let e=uN(),n=e.matches[e.matches.length-1];return n.route.id||De(!1),n.route.id}function cN(){var t;let e=M.useContext(XE),n=aN(wc.UseRouteError),r=nS(wc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function hN(){let{router:t}=lN(tS.UseNavigateStable),e=nS(wc.UseNavigateStable),n=M.useRef(!1);return QE(()=>{n.current=!0}),M.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Hl({fromRouteId:e},s)))},[t,e])}function dN(t){let{to:e,replace:n,state:r,relative:i}=t;fo()||De(!1);let{future:s,static:o}=M.useContext(vi),{matches:l}=M.useContext(Cr),{pathname:u}=ga(),c=JE(),d=dg(e,hg(l,s.v7_relativeSplatPath),u,i==="path"),f=JSON.stringify(d);return M.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function fN(t){return eN(t.context)}function xp(t){De(!1)}function pN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Hr.Pop,navigator:s,static:o=!1,future:l}=t;fo()&&De(!1);let u=e.replace(/^\/*/,"/"),c=M.useMemo(()=>({basename:u,navigator:s,static:o,future:Hl({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=ho(r));let{pathname:d="/",search:f="",hash:m="",state:w=null,key:E="default"}=r,P=M.useMemo(()=>{let N=cg(d,u);return N==null?null:{location:{pathname:N,search:f,hash:m,state:w,key:E},navigationType:i}},[u,d,f,m,w,E,i]);return P==null?null:M.createElement(vi.Provider,{value:c},M.createElement(Ih.Provider,{children:n,value:P}))}function mN(t){let{children:e,location:n}=t;return eS(Rp(e),n)}new Promise(()=>{});function Rp(t,e){e===void 0&&(e=[]);let n=[];return M.Children.forEach(t,(r,i)=>{if(!M.isValidElement(r))return;let s=[...e,i];if(r.type===M.Fragment){n.push.apply(n,Rp(r.props.children,s));return}r.type!==xp&&De(!1),!r.props.index||!r.props.children||De(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Rp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pp(){return Pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pp.apply(this,arguments)}function gN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function _N(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vN(t,e){return t.button===0&&(!e||e==="_self")&&!_N(t)}const yN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],wN="6";try{window.__reactRouterVersion=wN}catch{}const EN="startTransition",Qv=Df[EN];function SN(t){let{basename:e,children:n,future:r,window:i}=t,s=M.useRef();s.current==null&&(s.current=kP({window:i,v5Compat:!0}));let o=s.current,[l,u]=M.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=M.useCallback(f=>{c&&Qv?Qv(()=>u(f)):u(f)},[u,c]);return M.useLayoutEffect(()=>o.listen(d),[o,d]),M.createElement(pN,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const CN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gn=M.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:c,preventScrollReset:d,unstable_viewTransition:f}=e,m=gN(e,yN),{basename:w}=M.useContext(vi),E,P=!1;if(typeof c=="string"&&TN.test(c)&&(E=c,CN))try{let y=new URL(window.location.href),A=c.startsWith("//")?new URL(y.protocol+c):new URL(c),b=cg(A.pathname,w);A.origin===y.origin&&b!=null?c=b+A.search+A.hash:P=!0}catch{}let N=QP(c,{relative:i}),S=kN(c,{replace:o,state:l,target:u,preventScrollReset:d,relative:i,unstable_viewTransition:f});function v(y){r&&r(y),y.defaultPrevented||S(y)}return M.createElement("a",Pp({},m,{href:E||N,onClick:P||s?r:v,ref:n,target:u}))});var Jv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Jv||(Jv={}));var Zv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Zv||(Zv={}));function kN(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,u=JE(),c=ga(),d=ZE(t,{relative:o});return M.useCallback(f=>{if(vN(f,n)){f.preventDefault();let m=r!==void 0?r:yc(c)===yc(d);u(t,{replace:m,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[c,u,d,r,i,n,t,s,o,l])}var rS={exports:{}},iS={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _a=M;function IN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xN=typeof Object.is=="function"?Object.is:IN,RN=_a.useSyncExternalStore,PN=_a.useRef,NN=_a.useEffect,AN=_a.useMemo,ON=_a.useDebugValue;iS.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=PN(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=AN(function(){function u(w){if(!c){if(c=!0,d=w,w=r(w),i!==void 0&&o.hasValue){var E=o.value;if(i(E,w))return f=E}return f=w}if(E=f,xN(d,w))return E;var P=r(w);return i!==void 0&&i(E,P)?E:(d=w,f=P)}var c=!1,d,f,m=n===void 0?null:n;return[function(){return u(e())},m===null?void 0:function(){return u(m())}]},[e,n,r,i]);var l=RN(t,s[0],s[1]);return NN(function(){o.hasValue=!0,o.value=l},[l]),ON(l),l};rS.exports=iS;var DN=rS.exports,Vt="default"in Df?B2:Df,ey=Symbol.for("react-redux-context"),ty=typeof globalThis<"u"?globalThis:{};function LN(){if(!Vt.createContext)return{};const t=ty[ey]??(ty[ey]=new Map);let e=t.get(Vt.createContext);return e||(e=Vt.createContext(null),t.set(Vt.createContext,e)),e}var ai=LN(),bN=()=>{throw new Error("uSES not initialized!")};function pg(t=ai){return function(){return Vt.useContext(t)}}var sS=pg(),oS=bN,MN=t=>{oS=t},FN=(t,e)=>t===e;function UN(t=ai){const e=t===ai?sS:pg(t),n=(r,i={})=>{const{equalityFn:s=FN,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:u,getServerState:c,stabilityCheck:d,identityFunctionCheck:f}=e();Vt.useRef(!0);const m=Vt.useCallback({[r.name](E){return r(E)}}[r.name],[r,d,o.stabilityCheck]),w=oS(u.addNestedSub,l.getState,c||l.getState,m,s);return Vt.useDebugValue(w),w};return Object.assign(n,{withTypes:()=>n}),n}var Yi=UN();function $N(t){t()}function jN(){let t=null,e=null;return{clear(){t=null,e=null},notify(){$N(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var ny={notify(){},get:()=>[]};function zN(t,e){let n,r=ny,i=0,s=!1;function o(P){d();const N=r.subscribe(P);let S=!1;return()=>{S||(S=!0,N(),f())}}function l(){r.notify()}function u(){E.onStateChange&&E.onStateChange()}function c(){return s}function d(){i++,n||(n=t.subscribe(u),r=jN())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=ny)}function m(){s||(s=!0,d())}function w(){s&&(s=!1,f())}const E={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:c,trySubscribe:m,tryUnsubscribe:w,getListeners:()=>r};return E}var BN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VN=typeof navigator<"u"&&navigator.product==="ReactNative",HN=BN||VN?Vt.useLayoutEffect:Vt.useEffect;function WN({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=Vt.useMemo(()=>{const c=zN(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),l=Vt.useMemo(()=>t.getState(),[t]);HN(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,l]);const u=e||ai;return Vt.createElement(u.Provider,{value:o},n)}var GN=WN;function lS(t=ai){const e=t===ai?sS:pg(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var KN=lS();function qN(t=ai){const e=t===ai?KN:lS(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var os=qN();MN(DN.useSyncExternalStoreWithSelector);var ry={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $=function(t,e){if(!t)throw po(e)},po=function(t){return new Error("Firebase Database ("+aS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},YN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},mg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,f=(s&3)<<4|l>>4;let m=(l&15)<<2|c>>6,w=c&63;u||(w=64,o||(m=64)),r.push(n[d],n[f],n[m],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):YN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||f==null)throw new XN;const m=s<<2|l>>4;if(r.push(m),c!==64){const w=l<<4&240|c>>2;if(r.push(w),f!==64){const E=c<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cS=function(t){const e=uS(t);return mg.encodeByteArray(e,!0)},Ec=function(t){return cS(t).replace(/\./g,"")},Sc=function(t){try{return mg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(t){return Wl(void 0,t)}function Wl(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!JN(n)||(t[n]=Wl(t[n],e[n]));return t}function JN(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=()=>hS().__FIREBASE_DEFAULTS__,eA=()=>{if(typeof process>"u"||typeof ry>"u")return;const t=ry.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Sc(t[1]);return e&&JSON.parse(e)},gg=()=>{try{return ZN()||eA()||tA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dS=t=>{var e,n;return(n=(e=gg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_g=t=>{const e=dS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fS=()=>{var t;return(t=gg())===null||t===void 0?void 0:t.config},pS=t=>{var e;return(e=gg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ec(JSON.stringify(n)),Ec(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function nA(){return typeof window<"u"||mS()}function mS(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function rA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sA(){const t=vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _S(){return aS.NODE_ADMIN===!0}function oA(){try{return typeof indexedDB=="object"}catch{return!1}}function lA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="FirebaseError";class cn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=aA,Object.setPrototypeOf(this,cn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ls.prototype.create)}}class ls{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?uA(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new cn(i,l,r)}}function uA(t,e){return t.replace(cA,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const cA=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(t){return JSON.parse(t)}function Me(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Gl(Sc(s[0])||""),n=Gl(Sc(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},hA=function(t){const e=vS(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},dA=function(t){const e=vS(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function eo(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Np(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Cc(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Tc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(iy(s)&&iy(o)){if(!Tc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function iy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function nl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const m=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(m<<1|m>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],u=this.chain_[4],c,d;for(let f=0;f<80;f++){f<40?f<20?(c=l^s&(o^l),d=1518500249):(c=s^o^l,d=1859775393):f<60?(c=s&o|l&(s|o),d=2400959708):(c=s^o^l,d=3395469782);const m=(i<<5|i>>>27)+c+u+d+r[f]&4294967295;u=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=m}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function yS(t,e){const n=new pA(t,e);return n.subscribe.bind(n)}class pA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");mA(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=nf),i.error===void 0&&(i.error=nf),i.complete===void 0&&(i.complete=nf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function nf(){}function wg(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,$(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Rh=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t){return t&&t._delegate?t._delegate:t}class Rn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new xh;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yA(e))try{this.getOrInitializeService({instanceIdentifier:Ri})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ri){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ri){return this.instances.has(e)}getOptions(e=Ri){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ri){return this.component?this.component.multipleInstances?e:Ri:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vA(t){return t===Ri?void 0:t}function yA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _A(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg=[];var ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ie||(ie={}));const ES={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},wA=ie.INFO,EA={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},SA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=EA[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class go{constructor(e){this.name=e,this._logLevel=wA,this._logHandler=SA,this._userLogHandler=null,Eg.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ES[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}}function CA(t){Eg.forEach(e=>{e.setLogLevel(t)})}function TA(t,e){for(const n of Eg){let r=null;e&&e.level&&(r=ES[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const l=o.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");s>=(r??i.logLevel)&&t({level:ie[s].toLowerCase(),message:l,args:o,type:i.name})}}}const kA=(t,e)=>e.some(n=>t instanceof n);let sy,oy;function IA(){return sy||(sy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xA(){return oy||(oy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SS=new WeakMap,Ap=new WeakMap,CS=new WeakMap,rf=new WeakMap,Sg=new WeakMap;function RA(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ni(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&SS.set(n,t)}).catch(()=>{}),Sg.set(e,t),e}function PA(t){if(Ap.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ap.set(t,e)}let Op={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ap.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ni(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function NA(t){Op=t(Op)}function AA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sf(this),e,...n);return CS.set(r,e.sort?e.sort():[e]),ni(r)}:xA().includes(t)?function(...e){return t.apply(sf(this),e),ni(SS.get(this))}:function(...e){return ni(t.apply(sf(this),e))}}function OA(t){return typeof t=="function"?AA(t):(t instanceof IDBTransaction&&PA(t),kA(t,IA())?new Proxy(t,Op):t)}function ni(t){if(t instanceof IDBRequest)return RA(t);if(rf.has(t))return rf.get(t);const e=OA(t);return e!==t&&(rf.set(t,e),Sg.set(e,t)),e}const sf=t=>Sg.get(t);function DA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=ni(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ni(o.result),u.oldVersion,u.newVersion,ni(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const LA=["get","getKey","getAll","getAllKeys","count"],bA=["put","add","delete","clear"],of=new Map;function ly(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(of.get(e))return of.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=bA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||LA.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return of.set(e,s),s}NA(t=>({...t,get:(e,n,r)=>ly(e,n)||t.get(e,n,r),has:(e,n)=>!!ly(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function FA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kc="@firebase/app",Dp="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new go("@firebase/app"),UA="@firebase/app-compat",$A="@firebase/analytics-compat",jA="@firebase/analytics",zA="@firebase/app-check-compat",BA="@firebase/app-check",VA="@firebase/auth",HA="@firebase/auth-compat",WA="@firebase/database",GA="@firebase/database-compat",KA="@firebase/functions",qA="@firebase/functions-compat",YA="@firebase/installations",XA="@firebase/installations-compat",QA="@firebase/messaging",JA="@firebase/messaging-compat",ZA="@firebase/performance",e3="@firebase/performance-compat",t3="@firebase/remote-config",n3="@firebase/remote-config-compat",r3="@firebase/storage",i3="@firebase/storage-compat",s3="@firebase/firestore",o3="@firebase/vertexai-preview",l3="@firebase/firestore-compat",a3="firebase",u3="10.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui="[DEFAULT]",c3={[kc]:"fire-core",[UA]:"fire-core-compat",[jA]:"fire-analytics",[$A]:"fire-analytics-compat",[BA]:"fire-app-check",[zA]:"fire-app-check-compat",[VA]:"fire-auth",[HA]:"fire-auth-compat",[WA]:"fire-rtdb",[GA]:"fire-rtdb-compat",[KA]:"fire-fn",[qA]:"fire-fn-compat",[YA]:"fire-iid",[XA]:"fire-iid-compat",[QA]:"fire-fcm",[JA]:"fire-fcm-compat",[ZA]:"fire-perf",[e3]:"fire-perf-compat",[t3]:"fire-rc",[n3]:"fire-rc-compat",[r3]:"fire-gcs",[i3]:"fire-gcs-compat",[s3]:"fire-fst",[l3]:"fire-fst-compat",[o3]:"fire-vertex","fire-js":"fire-js",[a3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new Map,to=new Map,no=new Map;function Kl(t,e){try{t.container.addComponent(e)}catch(n){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function TS(t,e){t.container.addOrOverwriteComponent(e)}function Pn(t){const e=t.name;if(no.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;no.set(e,t);for(const n of ci.values())Kl(n,t);for(const n of to.values())Kl(n,t);return!0}function as(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function h3(t,e,n=ui){as(t,e).clearInstance(n)}function kS(t){return t.options!==void 0}function yn(t){return t.settings!==void 0}function d3(){no.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ln=new ls("app","Firebase",f3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IS=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ln.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3 extends IS{constructor(e,n,r,i){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,o={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,o,i);else{const l=e;super(l.options,o,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},n),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,He(kc,Dp,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Cg(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ln.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An=u3;function Ph(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ui,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ln.create("bad-app-name",{appName:String(i)});if(n||(n=fS()),!n)throw ln.create("no-options");const s=ci.get(i);if(s){if(Tc(n,s.options)&&Tc(r,s.config))return s;throw ln.create("duplicate-app",{appName:i})}const o=new wS(i);for(const u of no.values())o.addComponent(u);const l=new IS(n,r,o);return ci.set(i,l),l}function m3(t,e){if(nA()&&!mS())throw ln.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;kS(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=c=>[...c].reduce((d,f)=>Math.imul(31,d)+f.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw ln.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(r)),o=to.get(s);if(o)return o.incRefCount(e.releaseOnDeref),o;const l=new wS(s);for(const c of no.values())l.addComponent(c);const u=new p3(n,e,s,l);return to.set(s,u),u}function va(t=ui){const e=ci.get(t);if(!e&&t===ui&&fS())return Ph();if(!e)throw ln.create("no-app",{appName:t});return e}function g3(){return Array.from(ci.values())}async function Cg(t){let e=!1;const n=t.name;ci.has(n)?(e=!0,ci.delete(n)):to.has(n)&&t.decRefCount()<=0&&(to.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function He(t,e,n){var r;let i=(r=c3[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(l.join(" "));return}Pn(new Rn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function xS(t,e){if(t!==null&&typeof t!="function")throw ln.create("invalid-log-argument");TA(t,e)}function RS(t){CA(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3="firebase-heartbeat-database",v3=1,ql="firebase-heartbeat-store";let lf=null;function PS(){return lf||(lf=DA(_3,v3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ql)}catch(n){console.warn(n)}}}}).catch(t=>{throw ln.create("idb-open",{originalErrorMessage:t.message})})),lf}async function y3(t){try{const n=(await PS()).transaction(ql),r=await n.objectStore(ql).get(NS(t));return await n.done,r}catch(e){if(e instanceof cn)mr.warn(e.message);else{const n=ln.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mr.warn(n.message)}}}async function ay(t,e){try{const r=(await PS()).transaction(ql,"readwrite");await r.objectStore(ql).put(e,NS(t)),await r.done}catch(n){if(n instanceof cn)mr.warn(n.message);else{const r=ln.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mr.warn(r.message)}}}function NS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=1024,E3=30*24*60*60*1e3;class S3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new T3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=uy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=E3}),this._storage.overwrite(this._heartbeatsCache))}catch(r){mr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=uy(),{heartbeatsToSend:r,unsentEntries:i}=C3(this._heartbeatsCache.heartbeats),s=Ec(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return mr.warn(n),""}}}function uy(){return new Date().toISOString().substring(0,10)}function C3(t,e=w3){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),cy(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),cy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class T3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oA()?lA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await y3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ay(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ay(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function cy(t){return Ec(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(t){Pn(new Rn("platform-logger",e=>new MA(e),"PRIVATE")),Pn(new Rn("heartbeat",e=>new S3(e),"PRIVATE")),He(kc,Dp,t),He(kc,Dp,"esm2017"),He("fire-js","")}k3("");const I3=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:cn,SDK_VERSION:An,_DEFAULT_ENTRY_NAME:ui,_addComponent:Kl,_addOrOverwriteComponent:TS,_apps:ci,_clearComponents:d3,_components:no,_getProvider:as,_isFirebaseApp:kS,_isFirebaseServerApp:yn,_registerComponent:Pn,_removeServiceInstance:h3,_serverApps:to,deleteApp:Cg,getApp:va,getApps:g3,initializeApp:Ph,initializeServerApp:m3,onLog:xS,registerVersion:He,setLogLevel:RS},Symbol.toStringTag,{value:"Module"}));function Tg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function AS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const x3=AS,OS=new ls("auth","Firebase",AS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new go("@firebase/auth");function R3(t,...e){Ic.logLevel<=ie.WARN&&Ic.warn(`Auth (${An}): ${t}`,...e)}function Lu(t,...e){Ic.logLevel<=ie.ERROR&&Ic.error(`Auth (${An}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t,...e){throw kg(t,...e)}function Bn(t,...e){return kg(t,...e)}function DS(t,e,n){const r=Object.assign(Object.assign({},x3()),{[e]:n});return new ls("auth","Firebase",r).create(e,{appName:t.name})}function ar(t){return DS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return OS.create(t,...e)}function G(t,e,...n){if(!t)throw kg(e,...n)}function rr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Lu(e),new Error(e)}function gr(t,e){t||rr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function P3(){return hy()==="http:"||hy()==="https:"}function hy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(P3()||iA()||"connection"in navigator)?navigator.onLine:!0}function A3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n){this.shortDelay=e,this.longDelay=n,gr(n>e,"Short delay should be less than long delay!"),this.isMobile=yg()||gS()}get(){return N3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(t,e){gr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=new ya(3e4,6e4);function yi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function wi(t,e,n,r,i={}){return bS(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=mo(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},s);return rA()||(c.referrerPolicy="no-referrer"),LS.fetch()(MS(t,t.config.apiHost,n,l),c)})}async function bS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},O3),e);try{const i=new b3(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw cu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw cu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw cu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw cu(t,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw DS(t,d,c);Nn(t,d)}}catch(i){if(i instanceof cn)throw i;Nn(t,"network-request-failed",{message:String(i)})}}async function wa(t,e,n,r,i={}){const s=await wi(t,e,n,r,i);return"mfaPendingCredential"in s&&Nn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function MS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Ig(t.config,i):`${t.config.apiScheme}://${i}`}function L3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class b3{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Bn(this.auth,"network-request-failed")),D3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Bn(t,e,r);return i.customData._tokenResponse=n,i}function dy(t){return t!==void 0&&t.enterprise!==void 0}class M3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return L3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function F3(t,e){return wi(t,"GET","/v2/recaptchaConfig",yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U3(t,e){return wi(t,"POST","/v1/accounts:delete",e)}async function FS(t,e){return wi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $3(t,e=!1){const n=We(t),r=await n.getIdToken(e),i=xg(r);G(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:_l(af(i.auth_time)),issuedAtTime:_l(af(i.iat)),expirationTime:_l(af(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function af(t){return Number(t)*1e3}function xg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Lu("JWT malformed, contained fewer than 3 sections"),null;try{const i=Sc(n);return i?JSON.parse(i):(Lu("Failed to decode base64 JWT payload"),null)}catch(i){return Lu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function fy(t){const e=xg(t);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof cn&&j3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function j3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_l(this.lastLoginAt),this.creationTime=_l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Yl(t,FS(n,{idToken:r}));G(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?US(s.providerUserInfo):[],l=V3(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),d=u?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new bp(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function B3(t){const e=We(t);await xc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function V3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function US(t){return t.map(e=>{var{providerId:n}=e,r=Tg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H3(t,e){const n=await bS(t,{},async()=>{const r=mo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=MS(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",LS.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function W3(t,e){return wi(t,"POST","/v2/accounts:revokeToken",yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){G(e.length!==0,"internal-error");const n=fy(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(G(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await H3(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new zs;return r&&(G(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(G(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(G(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zs,this.toJSON())}_performRefresh(){return rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(t,e){G(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ir{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Tg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new z3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new bp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Yl(this,this.stsTokenManager.getToken(this.auth,e));return G(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $3(this,e)}reload(){return B3(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ir(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await xc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yn(this.auth.app))return Promise.reject(ar(this.auth));const e=await this.getIdToken();return await Yl(this,U3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,u,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,P=(l=n.tenantId)!==null&&l!==void 0?l:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,S=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:y,emailVerified:A,isAnonymous:b,providerData:U,stsTokenManager:C}=n;G(y&&C,e,"internal-error");const _=zs.fromJSON(this.name,C);G(typeof y=="string",e,"internal-error"),Pr(f,e.name),Pr(m,e.name),G(typeof A=="boolean",e,"internal-error"),G(typeof b=="boolean",e,"internal-error"),Pr(w,e.name),Pr(E,e.name),Pr(P,e.name),Pr(N,e.name),Pr(S,e.name),Pr(v,e.name);const T=new ir({uid:y,auth:e,email:m,emailVerified:A,displayName:f,isAnonymous:b,photoURL:E,phoneNumber:w,tenantId:P,stsTokenManager:_,createdAt:S,lastLoginAt:v});return U&&Array.isArray(U)&&(T.providerData=U.map(I=>Object.assign({},I))),N&&(T._redirectEventId=N),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new zs;i.updateFromServerResponse(n);const s=new ir({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await xc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];G(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?US(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new zs;l.updateFromIdToken(r);const u=new ir({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new bp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py=new Map;function sr(t){gr(t instanceof Function,"Expected a class definition");let e=py.get(t);return e?(gr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,py.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$S.type="NONE";const my=$S;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t,e,n){return`firebase:${t}:${e}:${n}`}class Bs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=bu(this.userKey,i.apiKey,s),this.fullPersistenceKey=bu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ir._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Bs(sr(my),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||sr(my);const o=bu(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const d=await c._get(o);if(d){const f=ir._fromJSON(e,d);c!==s&&(l=f),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Bs(s,e,r):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Bs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WS(e))return"Blackberry";if(GS(e))return"Webos";if(zS(e))return"Safari";if((e.includes("chrome/")||BS(e))&&!e.includes("edge/"))return"Chrome";if(HS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jS(t=vt()){return/firefox\//i.test(t)}function zS(t=vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BS(t=vt()){return/crios\//i.test(t)}function VS(t=vt()){return/iemobile/i.test(t)}function HS(t=vt()){return/android/i.test(t)}function WS(t=vt()){return/blackberry/i.test(t)}function GS(t=vt()){return/webos/i.test(t)}function Rg(t=vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function G3(t=vt()){var e;return Rg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function K3(){return sA()&&document.documentMode===10}function KS(t=vt()){return Rg(t)||HS(t)||GS(t)||WS(t)||/windows phone/i.test(t)||VS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(t,e=[]){let n;switch(t){case"Browser":n=gy(vt());break;case"Worker":n=`${gy(vt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${An}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y3(t,e={}){return wi(t,"GET","/v2/passwordPolicy",yi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=6;class Q3{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:X3,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _y(this),this.idTokenSubscription=new _y(this),this.beforeStateQueue=new q3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=sr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Bs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await FS(this,{idToken:e}),r=await ir._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(yn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=A3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yn(this.app))return Promise.reject(ar(this));const n=e?We(e):null;return n&&G(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&G(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yn(this.app)?Promise.reject(ar(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yn(this.app)?Promise.reject(ar(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Y3(this),n=new Q3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ls("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await W3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&sr(e)||this._popupRedirectResolver;G(n,this,"argument-error"),this.redirectPersistenceManager=await Bs.create(this,[sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&R3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function us(t){return We(t)}class _y{constructor(e){this.auth=e,this.observer=null,this.addObserver=yS(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Z3(t){Nh=t}function YS(t){return Nh.loadJS(t)}function e4(){return Nh.recaptchaEnterpriseScript}function t4(){return Nh.gapiScript}function n4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const r4="recaptcha-enterprise",i4="NO_RECAPTCHA";class s4{constructor(e){this.type=r4,this.auth=us(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{F3(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new M3(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{l(u)})})}function i(s,o,l){const u=window.grecaptcha;dy(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(i4)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&dy(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=e4();u.length!==0&&(u+=l),YS(u).then(()=>{i(l,s,o)}).catch(c=>{o(c)})}}).catch(l=>{o(l)})})}}async function vy(t,e,n,r=!1){const i=new s4(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Mp(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await vy(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await vy(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(t,e){const n=as(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Tc(s,e??{}))return i;Nn(i,"already-initialized")}return n.initialize({options:e})}function l4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(sr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function a4(t,e,n){const r=us(t);G(r._canInitEmulator,r,"emulator-config-failed"),G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=XS(e),{host:o,port:l}=u4(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),c4()}function XS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function u4(t){const e=XS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:yy(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:yy(o)}}}function yy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function c4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rr("not implemented")}_getIdTokenResponse(e){return rr("not implemented")}_linkToIdToken(e,n){return rr("not implemented")}_getReauthenticationResolver(e){return rr("not implemented")}}async function h4(t,e){return wi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d4(t,e){return wa(t,"POST","/v1/accounts:signInWithPassword",yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f4(t,e){return wa(t,"POST","/v1/accounts:signInWithEmailLink",yi(t,e))}async function p4(t,e){return wa(t,"POST","/v1/accounts:signInWithEmailLink",yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends Pg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Xl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Xl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mp(e,n,"signInWithPassword",d4);case"emailLink":return f4(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mp(e,r,"signUpPassword",h4);case"emailLink":return p4(e,{idToken:n,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vs(t,e){return wa(t,"POST","/v1/accounts:signInWithIdp",yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4="http://localhost";class Xi extends Pg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Nn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Tg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Xi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Vs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Vs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vs(e,n)}buildRequest(){const e={requestUri:m4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _4(t){const e=tl(nl(t)).link,n=e?tl(nl(e)).deep_link_id:null,r=tl(nl(t)).deep_link_id;return(r?tl(nl(r)).link:null)||r||n||e||t}class Ng{constructor(e){var n,r,i,s,o,l;const u=tl(nl(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,d=(r=u.oobCode)!==null&&r!==void 0?r:null,f=g4((i=u.mode)!==null&&i!==void 0?i:null);G(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=_4(e);try{return new Ng(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.providerId=_o.PROVIDER_ID}static credential(e,n){return Xl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ng.parseLink(n);return G(r,"argument-error"),Xl._fromEmailAndCode(e,r.code,r.tenantId)}}_o.PROVIDER_ID="password";_o.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_o.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends QS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends Ea{constructor(){super("facebook.com")}static credential(e){return Xi._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fr.credential(e.oauthAccessToken)}catch{return null}}}Fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Ea{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xi._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ur.credential(n,r)}catch{return null}}}Ur.GOOGLE_SIGN_IN_METHOD="google.com";Ur.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Ea{constructor(){super("github.com")}static credential(e){return Xi._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.GITHUB_SIGN_IN_METHOD="github.com";$r.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Ea{constructor(){super("twitter.com")}static credential(e,n){return Xi._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return jr.credential(n,r)}catch{return null}}}jr.TWITTER_SIGN_IN_METHOD="twitter.com";jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v4(t,e){return wa(t,"POST","/v1/accounts:signUp",yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ir._fromIdTokenResponse(e,r,i),o=wy(r);return new Qi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=wy(r);return new Qi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function wy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends cn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Rc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Rc(e,n,r,i)}}function JS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Rc._fromErrorAndOperation(t,s,e,r):s})}async function y4(t,e,n=!1){const r=await Yl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w4(t,e,n=!1){const{auth:r}=t;if(yn(r.app))return Promise.reject(ar(r));const i="reauthenticate";try{const s=await Yl(t,JS(r,i,e,t),n);G(s.idToken,r,"internal-error");const o=xg(s.idToken);G(o,r,"internal-error");const{sub:l}=o;return G(t.uid===l,r,"user-mismatch"),Qi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Nn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZS(t,e,n=!1){if(yn(t.app))return Promise.reject(ar(t));const r="signIn",i=await JS(t,r,e),s=await Qi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function E4(t,e){return ZS(us(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eC(t){const e=us(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function S4(t,e,n){if(yn(t.app))return Promise.reject(ar(t));const r=us(t),o=await Mp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",v4).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&eC(t),u}),l=await Qi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function C4(t,e,n){return yn(t.app)?Promise.reject(ar(t)):E4(We(t),_o.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&eC(t),r})}function T4(t,e,n,r){return We(t).onIdTokenChanged(e,n,r)}function k4(t,e,n){return We(t).beforeAuthStateChanged(e,n)}function I4(t,e,n,r){return We(t).onAuthStateChanged(e,n,r)}const Pc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Pc,"1"),this.storage.removeItem(Pc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=1e3,R4=10;class nC extends tC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);K3()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,R4):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},x4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nC.type="LOCAL";const P4=nC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC extends tC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rC.type="SESSION";const iC=rC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ah(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async c=>c(n.origin,s)),u=await N4(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ah.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const c=Ag("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return window}function O4(t){Vn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(){return typeof Vn().WorkerGlobalScope<"u"&&typeof Vn().importScripts=="function"}async function D4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function L4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function b4(){return sC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="firebaseLocalStorageDb",M4=1,Nc="firebaseLocalStorage",lC="fbase_key";class Sa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Oh(t,e){return t.transaction([Nc],e?"readwrite":"readonly").objectStore(Nc)}function F4(){const t=indexedDB.deleteDatabase(oC);return new Sa(t).toPromise()}function Fp(){const t=indexedDB.open(oC,M4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Nc,{keyPath:lC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Nc)?e(r):(r.close(),await F4(),e(await Fp()))})})}async function Ey(t,e,n){const r=Oh(t,!0).put({[lC]:e,value:n});return new Sa(r).toPromise()}async function U4(t,e){const n=Oh(t,!1).get(e),r=await new Sa(n).toPromise();return r===void 0?null:r.value}function Sy(t,e){const n=Oh(t,!0).delete(e);return new Sa(n).toPromise()}const $4=800,j4=3;class aC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>j4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ah._getInstance(b4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await D4(),!this.activeServiceWorker)return;this.sender=new A4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||L4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fp();return await Ey(e,Pc,"1"),await Sy(e,Pc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ey(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>U4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Sy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Oh(i,!1).getAll();return new Sa(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aC.type="LOCAL";const z4=aC;new ya(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(t,e){return e?sr(e):(G(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og extends Pg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function V4(t){return ZS(t.auth,new Og(t),t.bypassAuthState)}function H4(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),w4(n,new Og(t),t.bypassAuthState)}async function W4(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),y4(n,new Og(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return V4;case"linkViaPopup":case"linkViaRedirect":return W4;case"reauthViaPopup":case"reauthViaRedirect":return H4;default:Nn(this.auth,"internal-error")}}resolve(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=new ya(2e3,1e4);class Ds extends uC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ds.currentPopupAction&&Ds.currentPopupAction.cancel(),Ds.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return G(e,this.auth,"internal-error"),e}async onExecution(){gr(this.filter.length===1,"Popup operations only handle one event");const e=Ag();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ds.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,G4.get())};e()}}Ds.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4="pendingRedirect",Mu=new Map;class q4 extends uC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Mu.get(this.auth._key());if(!e){try{const r=await Y4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Mu.set(this.auth._key(),e)}return this.bypassAuthState||Mu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Y4(t,e){const n=J4(e),r=Q4(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function X4(t,e){Mu.set(t._key(),e)}function Q4(t){return sr(t._redirectPersistence)}function J4(t){return bu(K4,t.config.apiKey,t.name)}async function Z4(t,e,n=!1){if(yn(t.app))return Promise.reject(ar(t));const r=us(t),i=B4(r,e),o=await new q4(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=10*60*1e3;class tO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!cC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Bn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cy(e))}saveEventToCache(e){this.cachedEventUids.add(Cy(e)),this.lastProcessedEventTime=Date.now()}}function Cy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rO(t,e={}){return wi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sO=/^https?/;async function oO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await rO(t);for(const n of e)try{if(lO(n))return}catch{}Nn(t,"unauthorized-domain")}function lO(t){const e=Lp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!sO.test(n))return!1;if(iO.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=new ya(3e4,6e4);function Ty(){const t=Vn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function uO(t){return new Promise((e,n)=>{var r,i,s;function o(){Ty(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ty(),n(Bn(t,"network-request-failed"))},timeout:aO.get()})}if(!((i=(r=Vn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Vn().gapi)===null||s===void 0)&&s.load)o();else{const l=n4("iframefcb");return Vn()[l]=()=>{gapi.load?o():n(Bn(t,"network-request-failed"))},YS(`${t4()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Fu=null,e})}let Fu=null;function cO(t){return Fu=Fu||uO(t),Fu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=new ya(5e3,15e3),dO="__/auth/iframe",fO="emulator/auth/iframe",pO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gO(t){const e=t.config;G(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ig(e,fO):`https://${t.config.authDomain}/${dO}`,r={apiKey:e.apiKey,appName:t.name,v:An},i=mO.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${mo(r).slice(1)}`}async function _O(t){const e=await cO(t),n=Vn().gapi;return G(n,t,"internal-error"),e.open({where:document.body,url:gO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pO,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Bn(t,"network-request-failed"),l=Vn().setTimeout(()=>{s(o)},hO.get());function u(){Vn().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yO=500,wO=600,EO="_blank",SO="http://localhost";class ky{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CO(t,e,n,r=yO,i=wO){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},vO),{width:r.toString(),height:i.toString(),top:s,left:o}),c=vt().toLowerCase();n&&(l=BS(c)?EO:n),jS(c)&&(e=e||SO,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[w,E])=>`${m}${w}=${E},`,"");if(G3(c)&&l!=="_self")return TO(e||"",l),new ky(null);const f=window.open(e||"",l,d);G(f,t,"popup-blocked");try{f.focus()}catch{}return new ky(f)}function TO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO="__/auth/handler",IO="emulator/auth/handler",xO=encodeURIComponent("fac");async function Iy(t,e,n,r,i,s){G(t.config.authDomain,t,"auth-domain-config-required"),G(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:An,eventId:i};if(e instanceof QS){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Np(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Ea){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await t._getAppCheckToken(),c=u?`#${xO}=${encodeURIComponent(u)}`:"";return`${RO(t)}?${mo(l).slice(1)}${c}`}function RO({config:t}){return t.emulator?Ig(t,IO):`https://${t.authDomain}/${kO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf="webStorageSupport";class PO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iC,this._completeRedirectFn=Z4,this._overrideRedirectResult=X4}async _openPopup(e,n,r,i){var s;gr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Iy(e,n,r,Lp(),i);return CO(e,o,Ag())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Iy(e,n,r,Lp(),i);return O4(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(gr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _O(e),r=new tO(e);return n.register("authEvent",i=>(G(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(uf,{type:uf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[uf];o!==void 0&&n(!!o),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return KS()||zS()||Rg()}}const NO=PO;var xy="@firebase/auth",Ry="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DO(t){Pn(new Rn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;G(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qS(t)},c=new J3(r,i,s,u);return l4(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Pn(new Rn("auth-internal",e=>{const n=us(e.getProvider("auth").getImmediate());return(r=>new AO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),He(xy,Ry,OO(t)),He(xy,Ry,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=5*60,bO=pS("authIdTokenMaxAge")||LO;let Py=null;const MO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>bO)return;const i=n==null?void 0:n.token;Py!==i&&(Py=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Dg(t=va()){const e=as(t,"auth");if(e.isInitialized())return e.getImmediate();const n=o4(t,{popupRedirectResolver:NO,persistence:[z4,P4,iC]}),r=pS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=MO(s.toString());k4(n,o,()=>o(n.currentUser)),T4(n,l=>o(l))}}const i=dS("auth");return i&&a4(n,`http://${i}`),n}function FO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Z3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Bn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",FO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DO("Browser");const UO="_form_19nex_1",$O="_headerText_19nex_11",hu={form:UO,headerText:$O};var Ny={};const Ay="@firebase/database",Oy="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hC="";function jO(t){hC=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Me(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Gl(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return xn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new zO(e)}}catch{}return new BO},Fi=dC("localStorage"),VO=dC("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new go("@firebase/database"),HO=function(){let t=1;return function(){return t++}}(),fC=function(t){const e=gA(t),n=new fA;n.update(e);const r=n.digest();return mg.encodeByteArray(r)},Ca=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ca.apply(null,r):typeof r=="object"?e+=Me(r):e+=r,e+=" "}return e};let vl=null,Dy=!0;const WO=function(t,e){$(!e,"Can't turn on custom loggers persistently."),Hs.logLevel=ie.VERBOSE,vl=Hs.log.bind(Hs)},lt=function(...t){if(Dy===!0&&(Dy=!1,vl===null&&VO.get("logging_enabled")===!0&&WO()),vl){const e=Ca.apply(null,t);vl(e)}},Ta=function(t){return function(...e){lt(t,...e)}},Up=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ca(...t);Hs.error(e)},_r=function(...t){const e=`FIREBASE FATAL ERROR: ${Ca(...t)}`;throw Hs.error(e),new Error(e)},Dt=function(...t){const e="FIREBASE WARNING: "+Ca(...t);Hs.warn(e)},GO=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Dt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},pC=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},KO=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ro="[MIN_NAME]",Ji="[MAX_NAME]",vo=function(t,e){if(t===e)return 0;if(t===ro||e===Ji)return-1;if(e===ro||t===Ji)return 1;{const n=Ly(t),r=Ly(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},qO=function(t,e){return t===e?0:t<e?-1:1},Go=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Me(e))},Lg=function(t){if(typeof t!="object"||t===null)return Me(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Me(e[r]),n+=":",n+=Lg(t[e[r]]);return n+="}",n},mC=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Lt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const gC=function(t){$(!pC(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,u;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(u=n;u;u-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(u=e;u;u-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const d=c.join("");let f="";for(u=0;u<64;u+=8){let m=parseInt(d.substr(u,8),2).toString(16);m.length===1&&(m="0"+m),f=f+m}return f.toLowerCase()},YO=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},XO=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function QO(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const JO=new RegExp("^-?(0*)\\d{1,10}$"),ZO=-2147483648,eD=2147483647,Ly=function(t){if(JO.test(t)){const e=Number(t);if(e>=ZO&&e<=eD)return e}return null},yo=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Dt("Exception was thrown by user callback.",n),e},Math.floor(0))}},tD=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},yl=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Dt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(lt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Dt(e)}}class Uu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Uu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="5",_C="v",vC="s",yC="r",wC="f",EC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,SC="ls",CC="p",$p="ac",TC="websocket",kC="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n,r,i,s=!1,o="",l=!1,u=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Fi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Fi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function iD(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function xC(t,e,n){$(typeof e=="string","typeof type must == string"),$(typeof n=="object","typeof params must == object");let r;if(e===TC)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===kC)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);iD(t)&&(n.ns=t.namespace);const i=[];return Lt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.counters_={}}incrementCounter(e,n=1){xn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return QN(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf={},hf={};function Mg(t){const e=t.toString();return cf[e]||(cf[e]=new sD),cf[e]}function oD(t,e){const n=t.toString();return hf[n]||(hf[n]=e()),hf[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&yo(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="start",aD="close",uD="pLPCommand",cD="pRTLPCB",RC="id",PC="pw",NC="ser",hD="cb",dD="seg",fD="ts",pD="d",mD="dframe",AC=1870,OC=30,gD=AC-OC,_D=25e3,vD=3e4;class Ls{constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ta(e),this.stats_=Mg(n),this.urlFn=u=>(this.appCheckToken&&(u[$p]=this.appCheckToken),xC(n,kC,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new lD(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(vD)),KO(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Fg((...s)=>{const[o,l,u,c,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===by)this.id=l,this.password=u;else if(o===aD)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[by]="t",r[NC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[hD]=this.scriptTagHolder.uniqueCallbackIdentifier),r[_C]=bg,this.transportSessionId&&(r[vC]=this.transportSessionId),this.lastSessionId&&(r[SC]=this.lastSessionId),this.applicationId&&(r[CC]=this.applicationId),this.appCheckToken&&(r[$p]=this.appCheckToken),typeof location<"u"&&location.hostname&&EC.test(location.hostname)&&(r[yC]=wC);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ls.forceAllow_=!0}static forceDisallow(){Ls.forceDisallow_=!0}static isAvailable(){return Ls.forceAllow_?!0:!Ls.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!YO()&&!XO()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Me(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=cS(n),i=mC(r,gD);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[mD]="t",r[RC]=e,r[PC]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Me(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Fg{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=HO(),window[uD+this.uniqueCallbackIdentifier]=e,window[cD+this.uniqueCallbackIdentifier]=n,this.myIFrame=Fg.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){lt("frame writing exception"),l.stack&&lt(l.stack),lt(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||lt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[RC]=this.myID,e[PC]=this.myPW,e[NC]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+OC+r.length<=AC;){const o=this.pendingSegs.shift();r=r+"&"+dD+i+"="+o.seg+"&"+fD+i+"="+o.ts+"&"+pD+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(_D)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{lt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=16384,wD=45e3;let Ac=null;typeof MozWebSocket<"u"?Ac=MozWebSocket:typeof WebSocket<"u"&&(Ac=WebSocket);class _n{constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ta(this.connId),this.stats_=Mg(n),this.connURL=_n.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[_C]=bg,typeof location<"u"&&location.hostname&&EC.test(location.hostname)&&(o[yC]=wC),n&&(o[vC]=n),r&&(o[SC]=r),i&&(o[$p]=i),s&&(o[CC]=s),xC(e,TC,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Fi.set("previous_websocket_failure",!0);try{let r;_S(),this.mySock=new Ac(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){_n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Ac!==null&&!_n.forceDisallow_}static previouslyFailed(){return Fi.isInMemoryStorage||Fi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Fi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Gl(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if($(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Me(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=mC(n,yD);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(wD))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}_n.responsesRequiredToBeHealthy=2;_n.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ls,_n]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=_n&&_n.isAvailable();let r=n&&!_n.previouslyFailed();if(e.webSocketOnly&&(n||Dt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[_n];else{const i=this.transports_=[];for(const s of Ql.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Ql.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ql.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=6e4,SD=5e3,CD=10*1024,TD=100*1024,df="t",My="d",kD="s",Fy="r",ID="e",Uy="o",$y="a",jy="n",zy="p",xD="h";class RD{constructor(e,n,r,i,s,o,l,u,c,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ta("c:"+this.id+":"),this.transportManager_=new Ql(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=yl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>TD?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>CD?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(df in e){const n=e[df];n===$y?this.upgradeIfSecondaryHealthy_():n===Fy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Uy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Go("t",e),r=Go("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:zy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:$y,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:jy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Go("t",e),r=Go("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Go(df,e);if(My in e){const r=e[My];if(n===xD){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===jy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===kD?this.onConnectionShutdown_(r):n===Fy?this.onReset_(r):n===ID?Up("Server Error: "+r):n===Uy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Up("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),bg!==r&&Dt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),yl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(ED))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):yl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(SD))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:zy,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Fi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.allowedEvents_=e,this.listeners_={},$(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){$(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends LC{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!yg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Oc}getInitialEvent(e){return $(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=32,Vy=768;class he{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function le(){return new he("")}function Q(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function hi(t){return t.pieces_.length-t.pieceNum_}function pe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new he(t.pieces_,e)}function bC(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function PD(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function MC(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function FC(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new he(e,0)}function Fe(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof he)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new he(n,0)}function ee(t){return t.pieceNum_>=t.pieces_.length}function gt(t,e){const n=Q(t),r=Q(e);if(n===null)return e;if(n===r)return gt(pe(t),pe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Ug(t,e){if(hi(t)!==hi(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function wn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(hi(t)>hi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class ND{constructor(e,n){this.errorPrefix_=n,this.parts_=MC(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Rh(this.parts_[r]);UC(this)}}function AD(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Rh(e),UC(t)}function OD(t){const e=t.parts_.pop();t.byteLength_-=Rh(e),t.parts_.length>0&&(t.byteLength_-=1)}function UC(t){if(t.byteLength_>Vy)throw new Error(t.errorPrefix_+"has a key path longer than "+Vy+" bytes ("+t.byteLength_+").");if(t.parts_.length>By)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+By+") or object contains a cycle "+Pi(t))}function Pi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g extends LC{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new $g}getInitialEvent(e){return $(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=1e3,DD=60*5*1e3,Hy=30*1e3,LD=1.3,bD=3e4,MD="server_kill",Wy=3;class ur extends DC{constructor(e,n,r,i,s,o,l,u){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=ur.nextPersistentConnectionId_++,this.log_=Ta("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ko,this.maxReconnectDelay_=DD,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!_S())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$g.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Oc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Me(s)),$(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new xh,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),$(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),$(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const u=l.d,c=l.s;ur.warnOnListenWarnings_(u,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,u))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&xn(e,"w")){const r=eo(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Dt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||dA(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Hy)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=hA(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),$(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Me(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Up("Unrecognized action received from server: "+Me(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){$(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ko,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ko,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>bD&&(this.reconnectDelay_=Ko),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*LD)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+ur.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const u=function(){l?l.close():(o=!0,r())},c=function(f){$(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:u,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,m]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?lt("getToken() completed but was canceled"):(lt("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=m&&m.token,l=new RD(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,w=>{Dt(w+" ("+this.repoInfo_.toString()+")"),this.interrupt(MD)},s))}catch(f){this.log_("Failed to get token: "+f),o||(this.repoInfo_.nodeAdmin&&Dt(f),u())}}}interrupt(e){lt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){lt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Np(this.interruptReasons_)&&(this.reconnectDelay_=Ko,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Lg(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new he(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){lt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Wy&&(this.reconnectDelay_=Hy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){lt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Wy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+hC.replace(/\./g,"-")]=1,yg()?e["framework.cordova"]=1:gS()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Oc.getInstance().currentlyOnline();return Np(this.interruptReasons_)&&e}}ur.nextPersistentConnectionId_=0;ur.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Z(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Z(ro,e),i=new Z(ro,n);return this.compare(r,i)!==0}minPost(){return Z.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let du;class $C extends Dh{static get __EMPTY_NODE(){return du}static set __EMPTY_NODE(e){du=e}compare(e,n){return vo(e.name,n.name)}isDefinedOn(e){throw po("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Z.MIN}maxPost(){return new Z(Ji,du)}makePost(e,n){return $(typeof e=="string","KeyIndex indexValue must always be a string."),new Z(e,du)}toString(){return".key"}}const Ws=new $C;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ze{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ze.RED,this.left=i??Pt.EMPTY_NODE,this.right=s??Pt.EMPTY_NODE}copy(e,n,r,i,s){return new ze(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Pt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Pt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ze.RED=!0;ze.BLACK=!1;class FD{copy(e,n,r,i,s){return this}insert(e,n,r){return new ze(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Pt{constructor(e,n=Pt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Pt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ze.BLACK,null,null))}remove(e){return new Pt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ze.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new fu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new fu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new fu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new fu(this.root_,null,this.comparator_,!0,e)}}Pt.EMPTY_NODE=new FD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(t,e){return vo(t.name,e.name)}function jg(t,e){return vo(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jp;function $D(t){jp=t}const jC=function(t){return typeof t=="number"?"number:"+gC(t):"string:"+t},zC=function(t){if(t.isLeafNode()){const e=t.val();$(typeof e=="string"||typeof e=="number"||typeof e=="object"&&xn(e,".sv"),"Priority must be a string or number.")}else $(t===jp||t.isEmpty(),"priority of unexpected type.");$(t===jp||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gy;class $e{constructor(e,n=$e.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,$(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),zC(this.priorityNode_)}static set __childrenNodeConstructor(e){Gy=e}static get __childrenNodeConstructor(){return Gy}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new $e(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:$e.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ee(e)?this:Q(e)===".priority"?this.priorityNode_:$e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:$e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Q(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:($(r!==".priority"||hi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,$e.__childrenNodeConstructor.EMPTY_NODE.updateChild(pe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+jC(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=gC(this.value_):e+=this.value_,this.lazyHash_=fC(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===$e.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof $e.__childrenNodeConstructor?-1:($(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=$e.VALUE_TYPE_ORDER.indexOf(n),s=$e.VALUE_TYPE_ORDER.indexOf(r);return $(i>=0,"Unknown leaf type: "+n),$(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}$e.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BC,VC;function jD(t){BC=t}function zD(t){VC=t}class BD extends Dh{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?vo(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Z.MIN}maxPost(){return new Z(Ji,new $e("[PRIORITY-POST]",VC))}makePost(e,n){const r=BC(e);return new Z(n,new $e("[PRIORITY-POST]",r))}toString(){return".priority"}}const Pe=new BD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=Math.log(2);class HD{constructor(e){const n=s=>parseInt(Math.log(s)/VD,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Dc=function(t,e,n,r){t.sort(e);const i=function(u,c){const d=c-u;let f,m;if(d===0)return null;if(d===1)return f=t[u],m=n?n(f):f,new ze(m,f.node,ze.BLACK,null,null);{const w=parseInt(d/2,10)+u,E=i(u,w),P=i(w+1,c);return f=t[w],m=n?n(f):f,new ze(m,f.node,ze.BLACK,E,P)}},s=function(u){let c=null,d=null,f=t.length;const m=function(E,P){const N=f-E,S=f;f-=E;const v=i(N+1,S),y=t[N],A=n?n(y):y;w(new ze(A,y.node,P,null,v))},w=function(E){c?(c.left=E,c=E):(d=E,c=E)};for(let E=0;E<u.count;++E){const P=u.nextBitIsOne(),N=Math.pow(2,u.count-(E+1));P?m(N,ze.BLACK):(m(N,ze.BLACK),m(N,ze.RED))}return d},o=new HD(t.length),l=s(o);return new Pt(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ff;const _s={};class or{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return $(_s&&Pe,"ChildrenNode.ts has not been loaded"),ff=ff||new or({".priority":_s},{".priority":Pe}),ff}get(e){const n=eo(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Pt?n:null}hasIndex(e){return xn(this.indexSet_,e.toString())}addIndex(e,n){$(e!==Ws,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Z.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=Dc(r,e.getCompare()):l=_s;const u=e.toString(),c=Object.assign({},this.indexSet_);c[u]=e;const d=Object.assign({},this.indexes_);return d[u]=l,new or(d,c)}addToIndexes(e,n){const r=Cc(this.indexes_,(i,s)=>{const o=eo(this.indexSet_,s);if($(o,"Missing index implementation for "+s),i===_s)if(o.isDefinedOn(e.node)){const l=[],u=n.getIterator(Z.Wrap);let c=u.getNext();for(;c;)c.name!==e.name&&l.push(c),c=u.getNext();return l.push(e),Dc(l,o.getCompare())}else return _s;else{const l=n.get(e.name);let u=i;return l&&(u=u.remove(new Z(e.name,l))),u.insert(e,e.node)}});return new or(r,this.indexSet_)}removeFromIndexes(e,n){const r=Cc(this.indexes_,i=>{if(i===_s)return i;{const s=n.get(e.name);return s?i.remove(new Z(e.name,s)):i}});return new or(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo;class W{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&zC(this.priorityNode_),this.children_.isEmpty()&&$(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return qo||(qo=new W(new Pt(jg),null,or.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||qo}updatePriority(e){return this.children_.isEmpty()?this:new W(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?qo:n}}getChild(e){const n=Q(e);return n===null?this:this.getImmediateChild(n).getChild(pe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if($(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Z(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?qo:this.priorityNode_;return new W(i,o,s)}}updateChild(e,n){const r=Q(e);if(r===null)return n;{$(Q(e)!==".priority"||hi(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(pe(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Pe,(o,l)=>{n[o]=l.val(e),r++,s&&W.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+jC(this.getPriority().val())+":"),this.forEachChild(Pe,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":fC(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Z(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Z(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Z(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Z.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Z.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ka?-1:0}withIndex(e){if(e===Ws||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new W(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ws||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Pe),i=n.getIterator(Pe);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ws?null:this.indexMap_.get(e.toString())}}W.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class WD extends W{constructor(){super(new Pt(jg),W.EMPTY_NODE,or.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return W.EMPTY_NODE}isEmpty(){return!1}}const ka=new WD;Object.defineProperties(Z,{MIN:{value:new Z(ro,W.EMPTY_NODE)},MAX:{value:new Z(Ji,ka)}});$C.__EMPTY_NODE=W.EMPTY_NODE;$e.__childrenNodeConstructor=W;$D(ka);zD(ka);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=!0;function Be(t,e=null){if(t===null)return W.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),$(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new $e(n,Be(e))}if(!(t instanceof Array)&&GD){const n=[];let r=!1;if(Lt(t,(o,l)=>{if(o.substring(0,1)!=="."){const u=Be(l);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new Z(o,u)))}}),n.length===0)return W.EMPTY_NODE;const s=Dc(n,UD,o=>o.name,jg);if(r){const o=Dc(n,Pe.getCompare());return new W(s,Be(e),new or({".priority":o},{".priority":Pe}))}else return new W(s,Be(e),or.Default)}else{let n=W.EMPTY_NODE;return Lt(t,(r,i)=>{if(xn(t,r)&&r.substring(0,1)!=="."){const s=Be(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Be(e))}}jD(Be);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD extends Dh{constructor(e){super(),this.indexPath_=e,$(!ee(e)&&Q(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?vo(e.name,n.name):s}makePost(e,n){const r=Be(e),i=W.EMPTY_NODE.updateChild(this.indexPath_,r);return new Z(n,i)}maxPost(){const e=W.EMPTY_NODE.updateChild(this.indexPath_,ka);return new Z(Ji,e)}toString(){return MC(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD extends Dh{compare(e,n){const r=e.node.compareTo(n.node);return r===0?vo(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Z.MIN}maxPost(){return Z.MAX}makePost(e,n){const r=Be(e);return new Z(n,r)}toString(){return".value"}}const YD=new qD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(t){return{type:"value",snapshotNode:t}}function io(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Jl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Zl(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function XD(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){$(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Jl(n,l)):$(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(io(n,r)):o.trackChildChange(Zl(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Pe,(i,s)=>{n.hasChild(i)||r.trackChildChange(Jl(i,s))}),n.isLeafNode()||n.forEachChild(Pe,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Zl(i,s,o))}else r.trackChildChange(io(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?W.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.indexedFilter_=new zg(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ea.getStartPost_(e),this.endPost_=ea.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new Z(n,r))||(r=W.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=W.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(W.EMPTY_NODE);const s=this;return n.forEachChild(Pe,(o,l)=>{s.matches(new Z(o,l))||(i=i.updateImmediateChild(o,W.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ea(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new Z(n,r))||(r=W.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=W.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=W.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(W.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,W.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const f=this.index_.getCompare();o=(m,w)=>f(w,m)}else o=this.index_.getCompare();const l=e;$(l.numChildren()===this.limit_,"");const u=new Z(n,r),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),d=this.rangedFilter_.matches(u);if(l.hasChild(n)){const f=l.getImmediateChild(n);let m=i.getChildAfterChild(this.index_,c,this.reverse_);for(;m!=null&&(m.name===n||l.hasChild(m.name));)m=i.getChildAfterChild(this.index_,m,this.reverse_);const w=m==null?1:o(m,u);if(d&&!r.isEmpty()&&w>=0)return s!=null&&s.trackChildChange(Zl(n,r,f)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Jl(n,f));const P=l.updateImmediateChild(n,W.EMPTY_NODE);return m!=null&&this.rangedFilter_.matches(m)?(s!=null&&s.trackChildChange(io(m.name,m.node)),P.updateImmediateChild(m.name,m.node)):P}}else return r.isEmpty()?e:d&&o(c,u)>=0?(s!=null&&(s.trackChildChange(Jl(c.name,c.node)),s.trackChildChange(io(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(c.name,W.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Pe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return $(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return $(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ro}hasEnd(){return this.endSet_}getIndexEndValue(){return $(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return $(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ji}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return $(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Pe}copy(){const e=new Bg;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function JD(t){return t.loadsAllData()?new zg(t.getIndex()):t.hasLimit()?new QD(t):new ea(t)}function Ky(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Pe?n="$priority":t.index_===YD?n="$value":t.index_===Ws?n="$key":($(t.index_ instanceof KD,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Me(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Me(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Me(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Me(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Me(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function qy(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Pe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends DC{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ta("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:($(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Lc.getListenId_(e,r),l={};this.listens_[o]=l;const u=Ky(e._queryParams);this.restRequest_(s+".json",u,(c,d)=>{let f=d;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(s,f,!1,r),eo(this.listens_,o)===l){let m;c?c===401?m="permission_denied":m="rest_error:"+c:m="ok",i(m,null)}})}unlisten(e,n){const r=Lc.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Ky(e._queryParams),r=e._path.toString(),i=new xh;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+mo(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let u=null;if(l.status>=200&&l.status<300){try{u=Gl(l.responseText)}catch{Dt("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,u)}else l.status!==401&&l.status!==404&&Dt("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.rootNode_=W.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(){return{value:null,children:new Map}}function WC(t,e,n){if(ee(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Q(e);t.children.has(r)||t.children.set(r,bc());const i=t.children.get(r);e=pe(e),WC(i,e,n)}}function zp(t,e,n){t.value!==null?n(e,t.value):eL(t,(r,i)=>{const s=new he(e.toString()+"/"+r);zp(i,s,n)})}function eL(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Lt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=10*1e3,nL=30*1e3,rL=5*60*1e3;class iL{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new tL(e);const r=Yy+(nL-Yy)*Math.random();yl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Lt(e,(i,s)=>{s>0&&xn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),yl(this.reportStats_.bind(this),Math.floor(Math.random()*2*rL))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var En;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(En||(En={}));function GC(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Vg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Hg(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=En.ACK_USER_WRITE,this.source=GC()}operationForChild(e){if(ee(this.path)){if(this.affectedTree.value!=null)return $(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new he(e));return new Mc(le(),n,this.revert)}}else return $(Q(this.path)===e,"operationForChild called for unrelated child."),new Mc(pe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n){this.source=e,this.path=n,this.type=En.LISTEN_COMPLETE}operationForChild(e){return ee(this.path)?new ta(this.source,le()):new ta(this.source,pe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=En.OVERWRITE}operationForChild(e){return ee(this.path)?new Zi(this.source,le(),this.snap.getImmediateChild(e)):new Zi(this.source,pe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=En.MERGE}operationForChild(e){if(ee(this.path)){const n=this.children.subtree(new he(e));return n.isEmpty()?null:n.value?new Zi(this.source,le(),n.value):new na(this.source,le(),n)}else return $(Q(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new na(this.source,pe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ee(e))return this.isFullyInitialized()&&!this.filtered_;const n=Q(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function oL(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(XD(o.childName,o.snapshotNode))}),Yo(t,i,"child_removed",e,r,n),Yo(t,i,"child_added",e,r,n),Yo(t,i,"child_moved",s,r,n),Yo(t,i,"child_changed",e,r,n),Yo(t,i,"value",e,r,n),i}function Yo(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,u)=>aL(t,l,u)),o.forEach(l=>{const u=lL(t,l,s);i.forEach(c=>{c.respondsTo(l.type)&&e.push(c.createEvent(u,t.query_))})})}function lL(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function aL(t,e,n){if(e.childName==null||n.childName==null)throw po("Should only compare child_ events.");const r=new Z(e.childName,e.snapshotNode),i=new Z(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(t,e){return{eventCache:t,serverCache:e}}function wl(t,e,n,r){return Lh(new di(e,n,r),t.serverCache)}function KC(t,e,n,r){return Lh(t.eventCache,new di(e,n,r))}function Fc(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function es(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf;const uL=()=>(pf||(pf=new Pt(qO)),pf);class ve{constructor(e,n=uL()){this.value=e,this.children=n}static fromObject(e){let n=new ve(null);return Lt(e,(r,i)=>{n=n.set(new he(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:le(),value:this.value};if(ee(e))return null;{const r=Q(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(pe(e),n);return s!=null?{path:Fe(new he(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ee(e))return this;{const n=Q(e),r=this.children.get(n);return r!==null?r.subtree(pe(e)):new ve(null)}}set(e,n){if(ee(e))return new ve(n,this.children);{const r=Q(e),s=(this.children.get(r)||new ve(null)).set(pe(e),n),o=this.children.insert(r,s);return new ve(this.value,o)}}remove(e){if(ee(e))return this.children.isEmpty()?new ve(null):new ve(null,this.children);{const n=Q(e),r=this.children.get(n);if(r){const i=r.remove(pe(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ve(null):new ve(this.value,s)}else return this}}get(e){if(ee(e))return this.value;{const n=Q(e),r=this.children.get(n);return r?r.get(pe(e)):null}}setTree(e,n){if(ee(e))return n;{const r=Q(e),s=(this.children.get(r)||new ve(null)).setTree(pe(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ve(this.value,o)}}fold(e){return this.fold_(le(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Fe(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,le(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(ee(e))return null;{const s=Q(e),o=this.children.get(s);return o?o.findOnPath_(pe(e),Fe(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,le(),n)}foreachOnPath_(e,n,r){if(ee(e))return this;{this.value&&r(n,this.value);const i=Q(e),s=this.children.get(i);return s?s.foreachOnPath_(pe(e),Fe(n,i),r):new ve(null)}}foreach(e){this.foreach_(le(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Fe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.writeTree_=e}static empty(){return new Tn(new ve(null))}}function El(t,e,n){if(ee(e))return new Tn(new ve(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=gt(i,e);return s=s.updateChild(o,n),new Tn(t.writeTree_.set(i,s))}else{const i=new ve(n),s=t.writeTree_.setTree(e,i);return new Tn(s)}}}function Xy(t,e,n){let r=t;return Lt(n,(i,s)=>{r=El(r,Fe(e,i),s)}),r}function Qy(t,e){if(ee(e))return Tn.empty();{const n=t.writeTree_.setTree(e,new ve(null));return new Tn(n)}}function Bp(t,e){return cs(t,e)!=null}function cs(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(gt(n.path,e)):null}function Jy(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Pe,(r,i)=>{e.push(new Z(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Z(r,i.value))}),e}function ri(t,e){if(ee(e))return t;{const n=cs(t,e);return n!=null?new Tn(new ve(n)):new Tn(t.writeTree_.subtree(e))}}function Vp(t){return t.writeTree_.isEmpty()}function so(t,e){return qC(le(),t.writeTree_,e)}function qC(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?($(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=qC(Fe(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Fe(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(t,e){return JC(e,t)}function cL(t,e,n,r,i){$(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=El(t.visibleWrites,e,n)),t.lastWriteId=r}function hL(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function dL(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);$(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&fL(l,r.path)?i=!1:wn(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return pL(t),!0;if(r.snap)t.visibleWrites=Qy(t.visibleWrites,r.path);else{const l=r.children;Lt(l,u=>{t.visibleWrites=Qy(t.visibleWrites,Fe(r.path,u))})}return!0}else return!1}function fL(t,e){if(t.snap)return wn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&wn(Fe(t.path,n),e))return!0;return!1}function pL(t){t.visibleWrites=YC(t.allWrites,mL,le()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function mL(t){return t.visible}function YC(t,e,n){let r=Tn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)wn(n,o)?(l=gt(n,o),r=El(r,l,s.snap)):wn(o,n)&&(l=gt(o,n),r=El(r,le(),s.snap.getChild(l)));else if(s.children){if(wn(n,o))l=gt(n,o),r=Xy(r,l,s.children);else if(wn(o,n))if(l=gt(o,n),ee(l))r=Xy(r,le(),s.children);else{const u=eo(s.children,Q(l));if(u){const c=u.getChild(pe(l));r=El(r,le(),c)}}}else throw po("WriteRecord should have .snap or .children")}}return r}function XC(t,e,n,r,i){if(!r&&!i){const s=cs(t.visibleWrites,e);if(s!=null)return s;{const o=ri(t.visibleWrites,e);if(Vp(o))return n;if(n==null&&!Bp(o,le()))return null;{const l=n||W.EMPTY_NODE;return so(o,l)}}}else{const s=ri(t.visibleWrites,e);if(!i&&Vp(s))return n;if(!i&&n==null&&!Bp(s,le()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(wn(c.path,e)||wn(e,c.path))},l=YC(t.allWrites,o,e),u=n||W.EMPTY_NODE;return so(l,u)}}}function gL(t,e,n){let r=W.EMPTY_NODE;const i=cs(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Pe,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=ri(t.visibleWrites,e);return n.forEachChild(Pe,(o,l)=>{const u=so(ri(s,new he(o)),l);r=r.updateImmediateChild(o,u)}),Jy(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=ri(t.visibleWrites,e);return Jy(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function _L(t,e,n,r,i){$(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Fe(e,n);if(Bp(t.visibleWrites,s))return null;{const o=ri(t.visibleWrites,s);return Vp(o)?i.getChild(n):so(o,i.getChild(n))}}function vL(t,e,n,r){const i=Fe(e,n),s=cs(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=ri(t.visibleWrites,i);return so(o,r.getNode().getImmediateChild(n))}else return null}function yL(t,e){return cs(t.visibleWrites,e)}function wL(t,e,n,r,i,s,o){let l;const u=ri(t.visibleWrites,e),c=cs(u,le());if(c!=null)l=c;else if(n!=null)l=so(u,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const d=[],f=o.getCompare(),m=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let w=m.getNext();for(;w&&d.length<i;)f(w,r)!==0&&d.push(w),w=m.getNext();return d}else return[]}function EL(){return{visibleWrites:Tn.empty(),allWrites:[],lastWriteId:-1}}function Uc(t,e,n,r){return XC(t.writeTree,t.treePath,e,n,r)}function Wg(t,e){return gL(t.writeTree,t.treePath,e)}function Zy(t,e,n,r){return _L(t.writeTree,t.treePath,e,n,r)}function $c(t,e){return yL(t.writeTree,Fe(t.treePath,e))}function SL(t,e,n,r,i,s){return wL(t.writeTree,t.treePath,e,n,r,i,s)}function Gg(t,e,n){return vL(t.writeTree,t.treePath,e,n)}function QC(t,e){return JC(Fe(t.treePath,e),t.writeTree)}function JC(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;$(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),$(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Zl(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Jl(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,io(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Zl(r,e.snapshotNode,i.oldSnap));else throw po("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const ZC=new TL;class Kg{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new di(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Gg(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:es(this.viewCache_),s=SL(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t){return{filter:t}}function IL(t,e){$(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),$(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function xL(t,e,n,r,i){const s=new CL;let o,l;if(n.type===En.OVERWRITE){const c=n;c.source.fromUser?o=Hp(t,e,c.path,c.snap,r,i,s):($(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered()&&!ee(c.path),o=jc(t,e,c.path,c.snap,r,i,l,s))}else if(n.type===En.MERGE){const c=n;c.source.fromUser?o=PL(t,e,c.path,c.children,r,i,s):($(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered(),o=Wp(t,e,c.path,c.children,r,i,l,s))}else if(n.type===En.ACK_USER_WRITE){const c=n;c.revert?o=OL(t,e,c.path,r,i,s):o=NL(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===En.LISTEN_COMPLETE)o=AL(t,e,n.path,r,s);else throw po("Unknown operation type: "+n.type);const u=s.getChanges();return RL(e,o,u),{viewCache:o,changes:u}}function RL(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Fc(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(HC(Fc(e)))}}function eT(t,e,n,r,i,s){const o=e.eventCache;if($c(r,n)!=null)return e;{let l,u;if(ee(n))if($(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=es(e),d=c instanceof W?c:W.EMPTY_NODE,f=Wg(r,d);l=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const c=Uc(r,es(e));l=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=Q(n);if(c===".priority"){$(hi(n)===1,"Can't have a priority with additional path components");const d=o.getNode();u=e.serverCache.getNode();const f=Zy(r,n,d,u);f!=null?l=t.filter.updatePriority(d,f):l=o.getNode()}else{const d=pe(n);let f;if(o.isCompleteForChild(c)){u=e.serverCache.getNode();const m=Zy(r,n,o.getNode(),u);m!=null?f=o.getNode().getImmediateChild(c).updateChild(d,m):f=o.getNode().getImmediateChild(c)}else f=Gg(r,c,e.serverCache);f!=null?l=t.filter.updateChild(o.getNode(),c,f,d,i,s):l=o.getNode()}}return wl(e,l,o.isFullyInitialized()||ee(n),t.filter.filtersNodes())}}function jc(t,e,n,r,i,s,o,l){const u=e.serverCache;let c;const d=o?t.filter:t.filter.getIndexedFilter();if(ee(n))c=d.updateFullNode(u.getNode(),r,null);else if(d.filtersNodes()&&!u.isFiltered()){const w=u.getNode().updateChild(n,r);c=d.updateFullNode(u.getNode(),w,null)}else{const w=Q(n);if(!u.isCompleteForPath(n)&&hi(n)>1)return e;const E=pe(n),N=u.getNode().getImmediateChild(w).updateChild(E,r);w===".priority"?c=d.updatePriority(u.getNode(),N):c=d.updateChild(u.getNode(),w,N,E,ZC,null)}const f=KC(e,c,u.isFullyInitialized()||ee(n),d.filtersNodes()),m=new Kg(i,f,s);return eT(t,f,n,i,m,l)}function Hp(t,e,n,r,i,s,o){const l=e.eventCache;let u,c;const d=new Kg(i,e,s);if(ee(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),u=wl(e,c,!0,t.filter.filtersNodes());else{const f=Q(n);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),u=wl(e,c,l.isFullyInitialized(),l.isFiltered());else{const m=pe(n),w=l.getNode().getImmediateChild(f);let E;if(ee(m))E=r;else{const P=d.getCompleteChild(f);P!=null?bC(m)===".priority"&&P.getChild(FC(m)).isEmpty()?E=P:E=P.updateChild(m,r):E=W.EMPTY_NODE}if(w.equals(E))u=e;else{const P=t.filter.updateChild(l.getNode(),f,E,m,d,o);u=wl(e,P,l.isFullyInitialized(),t.filter.filtersNodes())}}}return u}function e1(t,e){return t.eventCache.isCompleteForChild(e)}function PL(t,e,n,r,i,s,o){let l=e;return r.foreach((u,c)=>{const d=Fe(n,u);e1(e,Q(d))&&(l=Hp(t,l,d,c,i,s,o))}),r.foreach((u,c)=>{const d=Fe(n,u);e1(e,Q(d))||(l=Hp(t,l,d,c,i,s,o))}),l}function t1(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Wp(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,c;ee(n)?c=r:c=new ve(null).setTree(n,r);const d=e.serverCache.getNode();return c.children.inorderTraversal((f,m)=>{if(d.hasChild(f)){const w=e.serverCache.getNode().getImmediateChild(f),E=t1(t,w,m);u=jc(t,u,new he(f),E,i,s,o,l)}}),c.children.inorderTraversal((f,m)=>{const w=!e.serverCache.isCompleteForChild(f)&&m.value===null;if(!d.hasChild(f)&&!w){const E=e.serverCache.getNode().getImmediateChild(f),P=t1(t,E,m);u=jc(t,u,new he(f),P,i,s,o,l)}}),u}function NL(t,e,n,r,i,s,o){if($c(i,n)!=null)return e;const l=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(ee(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return jc(t,e,n,u.getNode().getChild(n),i,s,l,o);if(ee(n)){let c=new ve(null);return u.getNode().forEachChild(Ws,(d,f)=>{c=c.set(new he(d),f)}),Wp(t,e,n,c,i,s,l,o)}else return e}else{let c=new ve(null);return r.foreach((d,f)=>{const m=Fe(n,d);u.isCompleteForPath(m)&&(c=c.set(d,u.getNode().getChild(m)))}),Wp(t,e,n,c,i,s,l,o)}}function AL(t,e,n,r,i){const s=e.serverCache,o=KC(e,s.getNode(),s.isFullyInitialized()||ee(n),s.isFiltered());return eT(t,o,n,r,ZC,i)}function OL(t,e,n,r,i,s){let o;if($c(r,n)!=null)return e;{const l=new Kg(r,e,i),u=e.eventCache.getNode();let c;if(ee(n)||Q(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Uc(r,es(e));else{const f=e.serverCache.getNode();$(f instanceof W,"serverChildren would be complete if leaf node"),d=Wg(r,f)}d=d,c=t.filter.updateFullNode(u,d,s)}else{const d=Q(n);let f=Gg(r,d,e.serverCache);f==null&&e.serverCache.isCompleteForChild(d)&&(f=u.getImmediateChild(d)),f!=null?c=t.filter.updateChild(u,d,f,pe(n),l,s):e.eventCache.getNode().hasChild(d)?c=t.filter.updateChild(u,d,W.EMPTY_NODE,pe(n),l,s):c=u,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Uc(r,es(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||$c(r,le())!=null,wl(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new zg(r.getIndex()),s=JD(r);this.processor_=kL(s);const o=n.serverCache,l=n.eventCache,u=i.updateFullNode(W.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(W.EMPTY_NODE,l.getNode(),null),d=new di(u,o.isFullyInitialized(),i.filtersNodes()),f=new di(c,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=Lh(f,d),this.eventGenerator_=new sL(this.query_)}get query(){return this.query_}}function LL(t){return t.viewCache_.serverCache.getNode()}function bL(t){return Fc(t.viewCache_)}function ML(t,e){const n=es(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ee(e)&&!n.getImmediateChild(Q(e)).isEmpty())?n.getChild(e):null}function n1(t){return t.eventRegistrations_.length===0}function FL(t,e){t.eventRegistrations_.push(e)}function r1(t,e,n){const r=[];if(n){$(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function i1(t,e,n,r){e.type===En.MERGE&&e.source.queryId!==null&&($(es(t.viewCache_),"We should always have a full cache before handling merges"),$(Fc(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=xL(t.processor_,i,e,n,r);return IL(t.processor_,s.viewCache),$(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,tT(t,s.changes,s.viewCache.eventCache.getNode(),null)}function UL(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Pe,(s,o)=>{r.push(io(s,o))}),n.isFullyInitialized()&&r.push(HC(n.getNode())),tT(t,r,n.getNode(),e)}function tT(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return oL(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc;class nT{constructor(){this.views=new Map}}function $L(t){$(!zc,"__referenceConstructor has already been defined"),zc=t}function jL(){return $(zc,"Reference.ts has not been loaded"),zc}function zL(t){return t.views.size===0}function qg(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return $(s!=null,"SyncTree gave us an op for an invalid query."),i1(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(i1(o,e,n,r));return s}}function rT(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let l=Uc(n,i?r:null),u=!1;l?u=!0:r instanceof W?(l=Wg(n,r),u=!1):(l=W.EMPTY_NODE,u=!1);const c=Lh(new di(l,u,!1),new di(r,i,!1));return new DL(e,c)}return o}function BL(t,e,n,r,i,s){const o=rT(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),FL(o,n),UL(o,n)}function VL(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const l=fi(t);if(i==="default")for(const[u,c]of t.views.entries())o=o.concat(r1(c,n,r)),n1(c)&&(t.views.delete(u),c.query._queryParams.loadsAllData()||s.push(c.query));else{const u=t.views.get(i);u&&(o=o.concat(r1(u,n,r)),n1(u)&&(t.views.delete(i),u.query._queryParams.loadsAllData()||s.push(u.query)))}return l&&!fi(t)&&s.push(new(jL())(e._repo,e._path)),{removed:s,events:o}}function iT(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ii(t,e){let n=null;for(const r of t.views.values())n=n||ML(r,e);return n}function sT(t,e){if(e._queryParams.loadsAllData())return Mh(t);{const r=e._queryIdentifier;return t.views.get(r)}}function oT(t,e){return sT(t,e)!=null}function fi(t){return Mh(t)!=null}function Mh(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc;function HL(t){$(!Bc,"__referenceConstructor has already been defined"),Bc=t}function WL(){return $(Bc,"Reference.ts has not been loaded"),Bc}let GL=1;class s1{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ve(null),this.pendingWriteTree_=EL(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function lT(t,e,n,r,i){return cL(t.pendingWriteTree_,e,n,r,i),i?xa(t,new Zi(GC(),e,n)):[]}function Ui(t,e,n=!1){const r=hL(t.pendingWriteTree_,e);if(dL(t.pendingWriteTree_,e)){let s=new ve(null);return r.snap!=null?s=s.set(le(),!0):Lt(r.children,o=>{s=s.set(new he(o),!0)}),xa(t,new Mc(r.path,s,n))}else return[]}function Ia(t,e,n){return xa(t,new Zi(Vg(),e,n))}function KL(t,e,n){const r=ve.fromObject(n);return xa(t,new na(Vg(),e,r))}function qL(t,e){return xa(t,new ta(Vg(),e))}function YL(t,e,n){const r=Xg(t,n);if(r){const i=Qg(r),s=i.path,o=i.queryId,l=gt(s,e),u=new ta(Hg(o),l);return Jg(t,s,u)}else return[]}function Vc(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let l=[];if(o&&(e._queryIdentifier==="default"||oT(o,e))){const u=VL(o,e,n,r);zL(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=u.removed;if(l=u.events,!i){const d=c.findIndex(m=>m._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(s,(m,w)=>fi(w));if(d&&!f){const m=t.syncPointTree_.subtree(s);if(!m.isEmpty()){const w=JL(m);for(let E=0;E<w.length;++E){const P=w[E],N=P.query,S=hT(t,P);t.listenProvider_.startListening(Sl(N),ra(t,N),S.hashFn,S.onComplete)}}}!f&&c.length>0&&!r&&(d?t.listenProvider_.stopListening(Sl(e),null):c.forEach(m=>{const w=t.queryToTagMap.get(Fh(m));t.listenProvider_.stopListening(Sl(m),w)}))}ZL(t,c)}return l}function aT(t,e,n,r){const i=Xg(t,r);if(i!=null){const s=Qg(i),o=s.path,l=s.queryId,u=gt(o,e),c=new Zi(Hg(l),u,n);return Jg(t,o,c)}else return[]}function XL(t,e,n,r){const i=Xg(t,r);if(i){const s=Qg(i),o=s.path,l=s.queryId,u=gt(o,e),c=ve.fromObject(n),d=new na(Hg(l),u,c);return Jg(t,o,d)}else return[]}function Gp(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(m,w)=>{const E=gt(m,i);s=s||ii(w,E),o=o||fi(w)});let l=t.syncPointTree_.get(i);l?(o=o||fi(l),s=s||ii(l,le())):(l=new nT,t.syncPointTree_=t.syncPointTree_.set(i,l));let u;s!=null?u=!0:(u=!1,s=W.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((w,E)=>{const P=ii(E,le());P&&(s=s.updateImmediateChild(w,P))}));const c=oT(l,e);if(!c&&!e._queryParams.loadsAllData()){const m=Fh(e);$(!t.queryToTagMap.has(m),"View does not exist, but we have a tag");const w=e5();t.queryToTagMap.set(m,w),t.tagToQueryMap.set(w,m)}const d=bh(t.pendingWriteTree_,i);let f=BL(l,e,n,d,s,u);if(!c&&!o&&!r){const m=sT(l,e);f=f.concat(t5(t,e,m))}return f}function Yg(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const u=gt(o,e),c=ii(l,u);if(c)return c});return XC(i,e,s,n,!0)}function QL(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,d)=>{const f=gt(c,n);r=r||ii(d,f)});let i=t.syncPointTree_.get(n);i?r=r||ii(i,le()):(i=new nT,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new di(r,!0,!1):null,l=bh(t.pendingWriteTree_,e._path),u=rT(i,e,l,s?o.getNode():W.EMPTY_NODE,s);return bL(u)}function xa(t,e){return uT(e,t.syncPointTree_,null,bh(t.pendingWriteTree_,le()))}function uT(t,e,n,r){if(ee(t.path))return cT(t,e,n,r);{const i=e.get(le());n==null&&i!=null&&(n=ii(i,le()));let s=[];const o=Q(t.path),l=t.operationForChild(o),u=e.children.get(o);if(u&&l){const c=n?n.getImmediateChild(o):null,d=QC(r,o);s=s.concat(uT(l,u,c,d))}return i&&(s=s.concat(qg(i,t,r,n))),s}}function cT(t,e,n,r){const i=e.get(le());n==null&&i!=null&&(n=ii(i,le()));let s=[];return e.children.inorderTraversal((o,l)=>{const u=n?n.getImmediateChild(o):null,c=QC(r,o),d=t.operationForChild(o);d&&(s=s.concat(cT(d,l,u,c)))}),i&&(s=s.concat(qg(i,t,r,n))),s}function hT(t,e){const n=e.query,r=ra(t,n);return{hashFn:()=>(LL(e)||W.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?YL(t,n._path,r):qL(t,n._path);{const s=QO(i,n);return Vc(t,n,null,s)}}}}function ra(t,e){const n=Fh(e);return t.queryToTagMap.get(n)}function Fh(t){return t._path.toString()+"$"+t._queryIdentifier}function Xg(t,e){return t.tagToQueryMap.get(e)}function Qg(t){const e=t.indexOf("$");return $(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new he(t.substr(0,e))}}function Jg(t,e,n){const r=t.syncPointTree_.get(e);$(r,"Missing sync point for query tag that we're tracking");const i=bh(t.pendingWriteTree_,e);return qg(r,n,i,null)}function JL(t){return t.fold((e,n,r)=>{if(n&&fi(n))return[Mh(n)];{let i=[];return n&&(i=iT(n)),Lt(r,(s,o)=>{i=i.concat(o)}),i}})}function Sl(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(WL())(t._repo,t._path):t}function ZL(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Fh(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function e5(){return GL++}function t5(t,e,n){const r=e._path,i=ra(t,e),s=hT(t,n),o=t.listenProvider_.startListening(Sl(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)$(!fi(l.value),"If we're adding a query, it shouldn't be shadowed");else{const u=l.fold((c,d,f)=>{if(!ee(c)&&d&&fi(d))return[Mh(d).query];{let m=[];return d&&(m=m.concat(iT(d).map(w=>w.query))),Lt(f,(w,E)=>{m=m.concat(E)}),m}});for(let c=0;c<u.length;++c){const d=u[c];t.listenProvider_.stopListening(Sl(d),ra(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Zg(n)}node(){return this.node_}}class e0{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Fe(this.path_,e);return new e0(this.syncTree_,n)}node(){return Yg(this.syncTree_,this.path_)}}const n5=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},o1=function(t,e,n){if(!t||typeof t!="object")return t;if($(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return r5(t[".sv"],e,n);if(typeof t[".sv"]=="object")return i5(t[".sv"],e);$(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},r5=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:$(!1,"Unexpected server value: "+t)}},i5=function(t,e,n){t.hasOwnProperty("increment")||$(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&$(!1,"Unexpected increment value: "+r);const i=e.node();if($(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},s5=function(t,e,n,r){return t0(e,new e0(n,t),r)},dT=function(t,e,n){return t0(t,new Zg(e),n)};function t0(t,e,n){const r=t.getPriority().val(),i=o1(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=o1(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new $e(l,Be(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new $e(i))),o.forEachChild(Pe,(l,u)=>{const c=t0(u,e.getImmediateChild(l),n);c!==u&&(s=s.updateImmediateChild(l,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function r0(t,e){let n=e instanceof he?e:new he(e),r=t,i=Q(n);for(;i!==null;){const s=eo(r.node.children,i)||{children:{},childCount:0};r=new n0(i,r,s),n=pe(n),i=Q(n)}return r}function wo(t){return t.node.value}function fT(t,e){t.node.value=e,Kp(t)}function pT(t){return t.node.childCount>0}function o5(t){return wo(t)===void 0&&!pT(t)}function Uh(t,e){Lt(t.node.children,(n,r)=>{e(new n0(n,t,r))})}function mT(t,e,n,r){n&&!r&&e(t),Uh(t,i=>{mT(i,e,!0,r)}),n&&r&&e(t)}function l5(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ra(t){return new he(t.parent===null?t.name:Ra(t.parent)+"/"+t.name)}function Kp(t){t.parent!==null&&a5(t.parent,t.name,t)}function a5(t,e,n){const r=o5(n),i=xn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Kp(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Kp(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5=/[\[\].#$\/\u0000-\u001F\u007F]/,c5=/[\[\].#$\u0000-\u001F\u007F]/,mf=10*1024*1024,gT=function(t){return typeof t=="string"&&t.length!==0&&!u5.test(t)},_T=function(t){return typeof t=="string"&&t.length!==0&&!c5.test(t)},h5=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),_T(t)},d5=function(t,e,n,r){i0(wg(t,"value"),e,n)},i0=function(t,e,n){const r=n instanceof he?new ND(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Pi(r));if(typeof e=="function")throw new Error(t+"contains a function "+Pi(r)+" with contents = "+e.toString());if(pC(e))throw new Error(t+"contains "+e.toString()+" "+Pi(r));if(typeof e=="string"&&e.length>mf/3&&Rh(e)>mf)throw new Error(t+"contains a string greater than "+mf+" utf8 bytes "+Pi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Lt(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!gT(o)))throw new Error(t+" contains an invalid key ("+o+") "+Pi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);AD(r,o),i0(t,l,r),OD(r)}),i&&s)throw new Error(t+' contains ".value" child '+Pi(r)+" in addition to actual children.")}},vT=function(t,e,n,r){if(!_T(n))throw new Error(wg(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},f5=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),vT(t,e,n)},p5=function(t,e){if(Q(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},m5=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!gT(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!h5(n))throw new Error(wg(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function s0(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Ug(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function yT(t,e,n){s0(t,n),wT(t,r=>Ug(r,e))}function Hn(t,e,n){s0(t,n),wT(t,r=>wn(r,e)||wn(e,r))}function wT(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(_5(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function _5(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();vl&&lt("event: "+n.toString()),yo(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5="repo_interrupt",y5=25;class w5{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new g5,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=bc(),this.transactionQueueTree_=new n0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function E5(t,e,n){if(t.stats_=Mg(t.repoInfo_),t.forceRestClient_||tD())t.server_=new Lc(t.repoInfo_,(r,i,s,o)=>{l1(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>a1(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Me(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ur(t.repoInfo_,e,(r,i,s,o)=>{l1(t,r,i,s,o)},r=>{a1(t,r)},r=>{C5(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=oD(t.repoInfo_,()=>new iL(t.stats_,t.server_)),t.infoData_=new ZD,t.infoSyncTree_=new s1({startListening:(r,i,s,o)=>{let l=[];const u=t.infoData_.getNode(r._path);return u.isEmpty()||(l=Ia(t.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),l0(t,"connected",!1),t.serverSyncTree_=new s1({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(l,u)=>{const c=o(l,u);Hn(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function S5(t){const n=t.infoData_.getNode(new he(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function o0(t){return n5({timestamp:S5(t)})}function l1(t,e,n,r,i){t.dataUpdateCount++;const s=new he(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const u=Cc(n,c=>Be(c));o=XL(t.serverSyncTree_,s,u,i)}else{const u=Be(n);o=aT(t.serverSyncTree_,s,u,i)}else if(r){const u=Cc(n,c=>Be(c));o=KL(t.serverSyncTree_,s,u)}else{const u=Be(n);o=Ia(t.serverSyncTree_,s,u)}let l=s;o.length>0&&(l=jh(t,s)),Hn(t.eventQueue_,l,o)}function a1(t,e){l0(t,"connected",e),e===!1&&I5(t)}function C5(t,e){Lt(e,(n,r)=>{l0(t,n,r)})}function l0(t,e,n){const r=new he("/.info/"+e),i=Be(n);t.infoData_.updateSnapshot(r,i);const s=Ia(t.infoSyncTree_,r,i);Hn(t.eventQueue_,r,s)}function ET(t){return t.nextWriteId_++}function T5(t,e,n){const r=QL(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Be(i).withIndex(e._queryParams.getIndex());Gp(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Ia(t.serverSyncTree_,e._path,s);else{const l=ra(t.serverSyncTree_,e);o=aT(t.serverSyncTree_,e._path,s,l)}return Hn(t.eventQueue_,e._path,o),Vc(t.serverSyncTree_,e,n,null,!0),s},i=>($h(t,"get for query "+Me(e)+" failed: "+i),Promise.reject(new Error(i))))}function k5(t,e,n,r,i){$h(t,"set",{path:e.toString(),value:n,priority:r});const s=o0(t),o=Be(n,r),l=Yg(t.serverSyncTree_,e),u=dT(o,l,s),c=ET(t),d=lT(t.serverSyncTree_,e,u,c,!0);s0(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(m,w)=>{const E=m==="ok";E||Dt("set at "+e+" failed: "+m);const P=Ui(t.serverSyncTree_,c,!E);Hn(t.eventQueue_,e,P),N5(t,i,m,w)});const f=IT(t,e);jh(t,f),Hn(t.eventQueue_,f,[])}function I5(t){$h(t,"onDisconnectEvents");const e=o0(t),n=bc();zp(t.onDisconnect_,le(),(i,s)=>{const o=s5(i,s,t.serverSyncTree_,e);WC(n,i,o)});let r=[];zp(n,le(),(i,s)=>{r=r.concat(Ia(t.serverSyncTree_,i,s));const o=IT(t,i);jh(t,o)}),t.onDisconnect_=bc(),Hn(t.eventQueue_,le(),r)}function x5(t,e,n){let r;Q(e._path)===".info"?r=Gp(t.infoSyncTree_,e,n):r=Gp(t.serverSyncTree_,e,n),yT(t.eventQueue_,e._path,r)}function R5(t,e,n){let r;Q(e._path)===".info"?r=Vc(t.infoSyncTree_,e,n):r=Vc(t.serverSyncTree_,e,n),yT(t.eventQueue_,e._path,r)}function P5(t){t.persistentConnection_&&t.persistentConnection_.interrupt(v5)}function $h(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),lt(n,...e)}function N5(t,e,n,r){e&&yo(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function ST(t,e,n){return Yg(t.serverSyncTree_,e,n)||W.EMPTY_NODE}function a0(t,e=t.transactionQueueTree_){if(e||zh(t,e),wo(e)){const n=TT(t,e);$(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&A5(t,Ra(e),n)}else pT(e)&&Uh(e,n=>{a0(t,n)})}function A5(t,e,n){const r=n.map(c=>c.currentWriteId),i=ST(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const d=n[c];$(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const f=gt(e,d.path);s=s.updateChild(f,d.currentOutputSnapshotRaw)}const l=s.val(!0),u=e;t.server_.put(u.toString(),l,c=>{$h(t,"transaction put response",{path:u.toString(),status:c});let d=[];if(c==="ok"){const f=[];for(let m=0;m<n.length;m++)n[m].status=2,d=d.concat(Ui(t.serverSyncTree_,n[m].currentWriteId)),n[m].onComplete&&f.push(()=>n[m].onComplete(null,!0,n[m].currentOutputSnapshotResolved)),n[m].unwatcher();zh(t,r0(t.transactionQueueTree_,e)),a0(t,t.transactionQueueTree_),Hn(t.eventQueue_,e,d);for(let m=0;m<f.length;m++)yo(f[m])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{Dt("transaction at "+u.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}jh(t,e)}},o)}function jh(t,e){const n=CT(t,e),r=Ra(n),i=TT(t,n);return O5(t,i,r),r}function O5(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const u=e[l],c=gt(n,u.path);let d=!1,f;if($(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)d=!0,f=u.abortReason,i=i.concat(Ui(t.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=y5)d=!0,f="maxretry",i=i.concat(Ui(t.serverSyncTree_,u.currentWriteId,!0));else{const m=ST(t,u.path,o);u.currentInputSnapshot=m;const w=e[l].update(m.val());if(w!==void 0){i0("transaction failed: Data returned ",w,u.path);let E=Be(w);typeof w=="object"&&w!=null&&xn(w,".priority")||(E=E.updatePriority(m.getPriority()));const N=u.currentWriteId,S=o0(t),v=dT(E,m,S);u.currentOutputSnapshotRaw=E,u.currentOutputSnapshotResolved=v,u.currentWriteId=ET(t),o.splice(o.indexOf(N),1),i=i.concat(lT(t.serverSyncTree_,u.path,v,u.currentWriteId,u.applyLocally)),i=i.concat(Ui(t.serverSyncTree_,N,!0))}else d=!0,f="nodata",i=i.concat(Ui(t.serverSyncTree_,u.currentWriteId,!0))}Hn(t.eventQueue_,n,i),i=[],d&&(e[l].status=2,function(m){setTimeout(m,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(f==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(f),!1,null))))}zh(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)yo(r[l]);a0(t,t.transactionQueueTree_)}function CT(t,e){let n,r=t.transactionQueueTree_;for(n=Q(e);n!==null&&wo(r)===void 0;)r=r0(r,n),e=pe(e),n=Q(e);return r}function TT(t,e){const n=[];return kT(t,e,n),n.sort((r,i)=>r.order-i.order),n}function kT(t,e,n){const r=wo(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Uh(e,i=>{kT(t,i,n)})}function zh(t,e){const n=wo(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,fT(e,n.length>0?n:void 0)}Uh(e,r=>{zh(t,r)})}function IT(t,e){const n=Ra(CT(t,e)),r=r0(t.transactionQueueTree_,e);return l5(r,i=>{gf(t,i)}),gf(t,r),mT(r,i=>{gf(t,i)}),n}function gf(t,e){const n=wo(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?($(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):($(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Ui(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?fT(e,void 0):n.length=s+1,Hn(t.eventQueue_,Ra(e),i);for(let o=0;o<r.length;o++)yo(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function L5(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Dt(`Invalid query segment '${n}' in query '${t}'`)}return e}const u1=function(t,e){const n=b5(t),r=n.namespace;n.domain==="firebase.com"&&_r(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&_r("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||GO();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new IC(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new he(n.pathString)}},b5=function(t){let e="",n="",r="",i="",s="",o=!0,l="https",u=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(l=t.substring(0,c-1),t=t.substring(c+2));let d=t.indexOf("/");d===-1&&(d=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(d,f)),d<f&&(i=D5(t.substring(d,f)));const m=L5(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(o=l==="https"||l==="wss",u=parseInt(e.substring(c+1),10)):c=e.length;const w=e.slice(0,c);if(w.toLowerCase()==="localhost")n="localhost";else if(w.split(".").length<=2)n=w;else{const E=e.indexOf(".");r=e.substring(0,E).toLowerCase(),n=e.substring(E+1),s=r}"ns"in m&&(s=m.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Me(this.snapshot.exportVal())}}class F5{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return $(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ee(this._path)?null:bC(this._path)}get ref(){return new Tr(this._repo,this._path)}get _queryIdentifier(){const e=qy(this._queryParams),n=Lg(e);return n==="{}"?"default":n}get _queryObject(){return qy(this._queryParams)}isEqual(e){if(e=We(e),!(e instanceof u0))return!1;const n=this._repo===e._repo,r=Ug(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+PD(this._path)}}class Tr extends u0{constructor(e,n){super(e,n,new Bg,!1)}get parent(){const e=FC(this._path);return e===null?null:new Tr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ia{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new he(e),r=qp(this.ref,e);return new ia(this._node.getChild(n),r,Pe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new ia(i,qp(this.ref,r),Pe)))}hasChild(e){const n=new he(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function pi(t,e){return t=We(t),t._checkNotDeleted("ref"),e!==void 0?qp(t._root,e):t._root}function qp(t,e){return t=We(t),Q(t._path)===null?f5("child","path",e):vT("child","path",e),new Tr(t._repo,Fe(t._path,e))}function Hc(t,e){t=We(t),p5("set",t._path),d5("set",e,t._path);const n=new xh;return k5(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Wc(t){t=We(t);const e=new xT(()=>{}),n=new Bh(e);return T5(t._repo,t,n).then(r=>new ia(r,new Tr(t._repo,t._path),t._queryParams.getIndex()))}class Bh{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new M5("value",this,new ia(e.snapshotNode,new Tr(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new F5(this,e,n):null}matches(e){return e instanceof Bh?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function U5(t,e,n,r,i){const s=new xT(n,void 0),o=new Bh(s);return x5(t._repo,t,o),()=>R5(t._repo,t,o)}function Vh(t,e,n,r){return U5(t,"value",e)}$L(Tr);HL(Tr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5="FIREBASE_DATABASE_EMULATOR_HOST",Yp={};let j5=!1;function z5(t,e,n,r){t.repoInfo_=new IC(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function B5(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||_r("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),lt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=u1(s,i),l=o.repoInfo,u;typeof process<"u"&&Ny&&(u=Ny[$5]),u?(s=`http://${u}?ns=${l.namespace}`,o=u1(s,i),l=o.repoInfo):o.repoInfo.secure;const c=new rD(t.name,t.options,e);m5("Invalid Firebase Database URL",o),ee(o.path)||_r("Database URL must point to the root of a Firebase Database (not including a child path).");const d=H5(l,t,c,new nD(t.name,n));return new W5(d,t)}function V5(t,e){const n=Yp[e];(!n||n[t.key]!==t)&&_r(`Database ${e}(${t.repoInfo_}) has already been deleted.`),P5(t),delete n[t.key]}function H5(t,e,n,r){let i=Yp[e.name];i||(i={},Yp[e.name]=i);let s=i[t.toURLString()];return s&&_r("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new w5(t,j5,n,r),i[t.toURLString()]=s,s}class W5{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(E5(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Tr(this._repo,le())),this._rootInternal}_delete(){return this._rootInternal!==null&&(V5(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&_r("Cannot call "+e+" on a deleted database.")}}function Ei(t=va(),e){const n=as(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=_g("database");r&&G5(n,...r)}return n}function G5(t,e,n,r={}){t=We(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&_r("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&_r('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Uu(Uu.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:vg(r.mockUserToken,t.app.options.projectId);s=new Uu(o)}z5(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(t){jO(An),Pn(new Rn("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return B5(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),He(Ay,Oy,t),He(Ay,Oy,"esm2017")}ur.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ur.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};K5();var q5="firebase",Y5="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */He(q5,Y5,"app");var c1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var RT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,_){function T(){}T.prototype=_.prototype,C.D=_.prototype,C.prototype=new T,C.prototype.constructor=C,C.C=function(I,R,D){for(var k=Array(arguments.length-2),Jt=2;Jt<arguments.length;Jt++)k[Jt-2]=arguments[Jt];return _.prototype[R].apply(I,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,_,T){T||(T=0);var I=Array(16);if(typeof _=="string")for(var R=0;16>R;++R)I[R]=_.charCodeAt(T++)|_.charCodeAt(T++)<<8|_.charCodeAt(T++)<<16|_.charCodeAt(T++)<<24;else for(R=0;16>R;++R)I[R]=_[T++]|_[T++]<<8|_[T++]<<16|_[T++]<<24;_=C.g[0],T=C.g[1],R=C.g[2];var D=C.g[3],k=_+(D^T&(R^D))+I[0]+3614090360&4294967295;_=T+(k<<7&4294967295|k>>>25),k=D+(R^_&(T^R))+I[1]+3905402710&4294967295,D=_+(k<<12&4294967295|k>>>20),k=R+(T^D&(_^T))+I[2]+606105819&4294967295,R=D+(k<<17&4294967295|k>>>15),k=T+(_^R&(D^_))+I[3]+3250441966&4294967295,T=R+(k<<22&4294967295|k>>>10),k=_+(D^T&(R^D))+I[4]+4118548399&4294967295,_=T+(k<<7&4294967295|k>>>25),k=D+(R^_&(T^R))+I[5]+1200080426&4294967295,D=_+(k<<12&4294967295|k>>>20),k=R+(T^D&(_^T))+I[6]+2821735955&4294967295,R=D+(k<<17&4294967295|k>>>15),k=T+(_^R&(D^_))+I[7]+4249261313&4294967295,T=R+(k<<22&4294967295|k>>>10),k=_+(D^T&(R^D))+I[8]+1770035416&4294967295,_=T+(k<<7&4294967295|k>>>25),k=D+(R^_&(T^R))+I[9]+2336552879&4294967295,D=_+(k<<12&4294967295|k>>>20),k=R+(T^D&(_^T))+I[10]+4294925233&4294967295,R=D+(k<<17&4294967295|k>>>15),k=T+(_^R&(D^_))+I[11]+2304563134&4294967295,T=R+(k<<22&4294967295|k>>>10),k=_+(D^T&(R^D))+I[12]+1804603682&4294967295,_=T+(k<<7&4294967295|k>>>25),k=D+(R^_&(T^R))+I[13]+4254626195&4294967295,D=_+(k<<12&4294967295|k>>>20),k=R+(T^D&(_^T))+I[14]+2792965006&4294967295,R=D+(k<<17&4294967295|k>>>15),k=T+(_^R&(D^_))+I[15]+1236535329&4294967295,T=R+(k<<22&4294967295|k>>>10),k=_+(R^D&(T^R))+I[1]+4129170786&4294967295,_=T+(k<<5&4294967295|k>>>27),k=D+(T^R&(_^T))+I[6]+3225465664&4294967295,D=_+(k<<9&4294967295|k>>>23),k=R+(_^T&(D^_))+I[11]+643717713&4294967295,R=D+(k<<14&4294967295|k>>>18),k=T+(D^_&(R^D))+I[0]+3921069994&4294967295,T=R+(k<<20&4294967295|k>>>12),k=_+(R^D&(T^R))+I[5]+3593408605&4294967295,_=T+(k<<5&4294967295|k>>>27),k=D+(T^R&(_^T))+I[10]+38016083&4294967295,D=_+(k<<9&4294967295|k>>>23),k=R+(_^T&(D^_))+I[15]+3634488961&4294967295,R=D+(k<<14&4294967295|k>>>18),k=T+(D^_&(R^D))+I[4]+3889429448&4294967295,T=R+(k<<20&4294967295|k>>>12),k=_+(R^D&(T^R))+I[9]+568446438&4294967295,_=T+(k<<5&4294967295|k>>>27),k=D+(T^R&(_^T))+I[14]+3275163606&4294967295,D=_+(k<<9&4294967295|k>>>23),k=R+(_^T&(D^_))+I[3]+4107603335&4294967295,R=D+(k<<14&4294967295|k>>>18),k=T+(D^_&(R^D))+I[8]+1163531501&4294967295,T=R+(k<<20&4294967295|k>>>12),k=_+(R^D&(T^R))+I[13]+2850285829&4294967295,_=T+(k<<5&4294967295|k>>>27),k=D+(T^R&(_^T))+I[2]+4243563512&4294967295,D=_+(k<<9&4294967295|k>>>23),k=R+(_^T&(D^_))+I[7]+1735328473&4294967295,R=D+(k<<14&4294967295|k>>>18),k=T+(D^_&(R^D))+I[12]+2368359562&4294967295,T=R+(k<<20&4294967295|k>>>12),k=_+(T^R^D)+I[5]+4294588738&4294967295,_=T+(k<<4&4294967295|k>>>28),k=D+(_^T^R)+I[8]+2272392833&4294967295,D=_+(k<<11&4294967295|k>>>21),k=R+(D^_^T)+I[11]+1839030562&4294967295,R=D+(k<<16&4294967295|k>>>16),k=T+(R^D^_)+I[14]+4259657740&4294967295,T=R+(k<<23&4294967295|k>>>9),k=_+(T^R^D)+I[1]+2763975236&4294967295,_=T+(k<<4&4294967295|k>>>28),k=D+(_^T^R)+I[4]+1272893353&4294967295,D=_+(k<<11&4294967295|k>>>21),k=R+(D^_^T)+I[7]+4139469664&4294967295,R=D+(k<<16&4294967295|k>>>16),k=T+(R^D^_)+I[10]+3200236656&4294967295,T=R+(k<<23&4294967295|k>>>9),k=_+(T^R^D)+I[13]+681279174&4294967295,_=T+(k<<4&4294967295|k>>>28),k=D+(_^T^R)+I[0]+3936430074&4294967295,D=_+(k<<11&4294967295|k>>>21),k=R+(D^_^T)+I[3]+3572445317&4294967295,R=D+(k<<16&4294967295|k>>>16),k=T+(R^D^_)+I[6]+76029189&4294967295,T=R+(k<<23&4294967295|k>>>9),k=_+(T^R^D)+I[9]+3654602809&4294967295,_=T+(k<<4&4294967295|k>>>28),k=D+(_^T^R)+I[12]+3873151461&4294967295,D=_+(k<<11&4294967295|k>>>21),k=R+(D^_^T)+I[15]+530742520&4294967295,R=D+(k<<16&4294967295|k>>>16),k=T+(R^D^_)+I[2]+3299628645&4294967295,T=R+(k<<23&4294967295|k>>>9),k=_+(R^(T|~D))+I[0]+4096336452&4294967295,_=T+(k<<6&4294967295|k>>>26),k=D+(T^(_|~R))+I[7]+1126891415&4294967295,D=_+(k<<10&4294967295|k>>>22),k=R+(_^(D|~T))+I[14]+2878612391&4294967295,R=D+(k<<15&4294967295|k>>>17),k=T+(D^(R|~_))+I[5]+4237533241&4294967295,T=R+(k<<21&4294967295|k>>>11),k=_+(R^(T|~D))+I[12]+1700485571&4294967295,_=T+(k<<6&4294967295|k>>>26),k=D+(T^(_|~R))+I[3]+2399980690&4294967295,D=_+(k<<10&4294967295|k>>>22),k=R+(_^(D|~T))+I[10]+4293915773&4294967295,R=D+(k<<15&4294967295|k>>>17),k=T+(D^(R|~_))+I[1]+2240044497&4294967295,T=R+(k<<21&4294967295|k>>>11),k=_+(R^(T|~D))+I[8]+1873313359&4294967295,_=T+(k<<6&4294967295|k>>>26),k=D+(T^(_|~R))+I[15]+4264355552&4294967295,D=_+(k<<10&4294967295|k>>>22),k=R+(_^(D|~T))+I[6]+2734768916&4294967295,R=D+(k<<15&4294967295|k>>>17),k=T+(D^(R|~_))+I[13]+1309151649&4294967295,T=R+(k<<21&4294967295|k>>>11),k=_+(R^(T|~D))+I[4]+4149444226&4294967295,_=T+(k<<6&4294967295|k>>>26),k=D+(T^(_|~R))+I[11]+3174756917&4294967295,D=_+(k<<10&4294967295|k>>>22),k=R+(_^(D|~T))+I[2]+718787259&4294967295,R=D+(k<<15&4294967295|k>>>17),k=T+(D^(R|~_))+I[9]+3951481745&4294967295,C.g[0]=C.g[0]+_&4294967295,C.g[1]=C.g[1]+(R+(k<<21&4294967295|k>>>11))&4294967295,C.g[2]=C.g[2]+R&4294967295,C.g[3]=C.g[3]+D&4294967295}r.prototype.u=function(C,_){_===void 0&&(_=C.length);for(var T=_-this.blockSize,I=this.B,R=this.h,D=0;D<_;){if(R==0)for(;D<=T;)i(this,C,D),D+=this.blockSize;if(typeof C=="string"){for(;D<_;)if(I[R++]=C.charCodeAt(D++),R==this.blockSize){i(this,I),R=0;break}}else for(;D<_;)if(I[R++]=C[D++],R==this.blockSize){i(this,I),R=0;break}}this.h=R,this.o+=_},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var _=1;_<C.length-8;++_)C[_]=0;var T=8*this.o;for(_=C.length-8;_<C.length;++_)C[_]=T&255,T/=256;for(this.u(C),C=Array(16),_=T=0;4>_;++_)for(var I=0;32>I;I+=8)C[T++]=this.g[_]>>>I&255;return C};function s(C,_){var T=l;return Object.prototype.hasOwnProperty.call(T,C)?T[C]:T[C]=_(C)}function o(C,_){this.h=_;for(var T=[],I=!0,R=C.length-1;0<=R;R--){var D=C[R]|0;I&&D==_||(T[R]=D,I=!1)}this.g=T}var l={};function u(C){return-128<=C&&128>C?s(C,function(_){return new o([_|0],0>_?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return N(c(-C));for(var _=[],T=1,I=0;C>=T;I++)_[I]=C/T|0,T*=4294967296;return new o(_,0)}function d(C,_){if(C.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C.charAt(0)=="-")return N(d(C.substring(1),_));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=c(Math.pow(_,8)),I=f,R=0;R<C.length;R+=8){var D=Math.min(8,C.length-R),k=parseInt(C.substring(R,R+D),_);8>D?(D=c(Math.pow(_,D)),I=I.j(D).add(c(k))):(I=I.j(T),I=I.add(c(k)))}return I}var f=u(0),m=u(1),w=u(16777216);t=o.prototype,t.m=function(){if(P(this))return-N(this).m();for(var C=0,_=1,T=0;T<this.g.length;T++){var I=this.i(T);C+=(0<=I?I:4294967296+I)*_,_*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(E(this))return"0";if(P(this))return"-"+N(this).toString(C);for(var _=c(Math.pow(C,6)),T=this,I="";;){var R=A(T,_).g;T=S(T,R.j(_));var D=((0<T.g.length?T.g[0]:T.h)>>>0).toString(C);if(T=R,E(T))return D+I;for(;6>D.length;)D="0"+D;I=D+I}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function E(C){if(C.h!=0)return!1;for(var _=0;_<C.g.length;_++)if(C.g[_]!=0)return!1;return!0}function P(C){return C.h==-1}t.l=function(C){return C=S(this,C),P(C)?-1:E(C)?0:1};function N(C){for(var _=C.g.length,T=[],I=0;I<_;I++)T[I]=~C.g[I];return new o(T,~C.h).add(m)}t.abs=function(){return P(this)?N(this):this},t.add=function(C){for(var _=Math.max(this.g.length,C.g.length),T=[],I=0,R=0;R<=_;R++){var D=I+(this.i(R)&65535)+(C.i(R)&65535),k=(D>>>16)+(this.i(R)>>>16)+(C.i(R)>>>16);I=k>>>16,D&=65535,k&=65535,T[R]=k<<16|D}return new o(T,T[T.length-1]&-2147483648?-1:0)};function S(C,_){return C.add(N(_))}t.j=function(C){if(E(this)||E(C))return f;if(P(this))return P(C)?N(this).j(N(C)):N(N(this).j(C));if(P(C))return N(this.j(N(C)));if(0>this.l(w)&&0>C.l(w))return c(this.m()*C.m());for(var _=this.g.length+C.g.length,T=[],I=0;I<2*_;I++)T[I]=0;for(I=0;I<this.g.length;I++)for(var R=0;R<C.g.length;R++){var D=this.i(I)>>>16,k=this.i(I)&65535,Jt=C.i(R)>>>16,Si=C.i(R)&65535;T[2*I+2*R]+=k*Si,v(T,2*I+2*R),T[2*I+2*R+1]+=D*Si,v(T,2*I+2*R+1),T[2*I+2*R+1]+=k*Jt,v(T,2*I+2*R+1),T[2*I+2*R+2]+=D*Jt,v(T,2*I+2*R+2)}for(I=0;I<_;I++)T[I]=T[2*I+1]<<16|T[2*I];for(I=_;I<2*_;I++)T[I]=0;return new o(T,0)};function v(C,_){for(;(C[_]&65535)!=C[_];)C[_+1]+=C[_]>>>16,C[_]&=65535,_++}function y(C,_){this.g=C,this.h=_}function A(C,_){if(E(_))throw Error("division by zero");if(E(C))return new y(f,f);if(P(C))return _=A(N(C),_),new y(N(_.g),N(_.h));if(P(_))return _=A(C,N(_)),new y(N(_.g),_.h);if(30<C.g.length){if(P(C)||P(_))throw Error("slowDivide_ only works with positive integers.");for(var T=m,I=_;0>=I.l(C);)T=b(T),I=b(I);var R=U(T,1),D=U(I,1);for(I=U(I,2),T=U(T,2);!E(I);){var k=D.add(I);0>=k.l(C)&&(R=R.add(T),D=k),I=U(I,1),T=U(T,1)}return _=S(C,R.j(_)),new y(R,_)}for(R=f;0<=C.l(_);){for(T=Math.max(1,Math.floor(C.m()/_.m())),I=Math.ceil(Math.log(T)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),D=c(T),k=D.j(_);P(k)||0<k.l(C);)T-=I,D=c(T),k=D.j(_);E(D)&&(D=m),R=R.add(D),C=S(C,k)}return new y(R,C)}t.A=function(C){return A(this,C).h},t.and=function(C){for(var _=Math.max(this.g.length,C.g.length),T=[],I=0;I<_;I++)T[I]=this.i(I)&C.i(I);return new o(T,this.h&C.h)},t.or=function(C){for(var _=Math.max(this.g.length,C.g.length),T=[],I=0;I<_;I++)T[I]=this.i(I)|C.i(I);return new o(T,this.h|C.h)},t.xor=function(C){for(var _=Math.max(this.g.length,C.g.length),T=[],I=0;I<_;I++)T[I]=this.i(I)^C.i(I);return new o(T,this.h^C.h)};function b(C){for(var _=C.g.length+1,T=[],I=0;I<_;I++)T[I]=C.i(I)<<1|C.i(I-1)>>>31;return new o(T,C.h)}function U(C,_){var T=_>>5;_%=32;for(var I=C.g.length-T,R=[],D=0;D<I;D++)R[D]=0<_?C.i(D+T)>>>_|C.i(D+T+1)<<32-_:C.i(D+T);return new o(R,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,RT=o}).apply(typeof c1<"u"?c1:typeof self<"u"?self:typeof window<"u"?window:{});var pu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,p){return a==Array.prototype||a==Object.prototype||(a[h]=p.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof pu=="object"&&pu];for(var h=0;h<a.length;++h){var p=a[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var p=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var O=a[g];if(!(O in p))break e;p=p[O]}a=a[a.length-1],g=p[a],h=h(g),h!=g&&h!=null&&e(p,a,{configurable:!0,writable:!0,value:h})}}function s(a,h){a instanceof String&&(a+="");var p=0,g=!1,O={next:function(){if(!g&&p<a.length){var L=p++;return{value:h(L,a[L]),done:!1}}return g=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}i("Array.prototype.values",function(a){return a||function(){return s(this,function(h,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function c(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function d(a,h,p){return a.call.apply(a.bind,arguments)}function f(a,h,p){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,g),a.apply(h,O)}}return function(){return a.apply(h,arguments)}}function m(a,h,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function w(a,h){var p=Array.prototype.slice.call(arguments,1);return function(){var g=p.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function E(a,h){function p(){}p.prototype=h.prototype,a.aa=h.prototype,a.prototype=new p,a.prototype.constructor=a,a.Qb=function(g,O,L){for(var j=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)j[ce-2]=arguments[ce];return h.prototype[O].apply(g,j)}}function P(a){const h=a.length;if(0<h){const p=Array(h);for(let g=0;g<h;g++)p[g]=a[g];return p}return[]}function N(a,h){for(let p=1;p<arguments.length;p++){const g=arguments[p];if(u(g)){const O=a.length||0,L=g.length||0;a.length=O+L;for(let j=0;j<L;j++)a[O+j]=g[j]}else a.push(g)}}class S{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function v(a){return/^[\s\xa0]*$/.test(a)}function y(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function A(a){return A[" "](a),a}A[" "]=function(){};var b=y().indexOf("Gecko")!=-1&&!(y().toLowerCase().indexOf("webkit")!=-1&&y().indexOf("Edge")==-1)&&!(y().indexOf("Trident")!=-1||y().indexOf("MSIE")!=-1)&&y().indexOf("Edge")==-1;function U(a,h,p){for(const g in a)h.call(p,a[g],g,a)}function C(a,h){for(const p in a)h.call(void 0,a[p],p,a)}function _(a){const h={};for(const p in a)h[p]=a[p];return h}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,h){let p,g;for(let O=1;O<arguments.length;O++){g=arguments[O];for(p in g)a[p]=g[p];for(let L=0;L<T.length;L++)p=T[L],Object.prototype.hasOwnProperty.call(g,p)&&(a[p]=g[p])}}function R(a){var h=1;a=a.split(":");const p=[];for(;0<h&&a.length;)p.push(a.shift()),h--;return a.length&&p.push(a.join(":")),p}function D(a){l.setTimeout(()=>{throw a},0)}function k(){var a=K;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class Jt{constructor(){this.h=this.g=null}add(h,p){const g=Si.get();g.set(h,p),this.h?this.h.next=g:this.g=g,this.h=g}}var Si=new S(()=>new To,a=>a.reset());class To{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Wn,B=!1,K=new Jt,Y=()=>{const a=l.Promise.resolve(void 0);Wn=()=>{a.then(Ce)}};var Ce=()=>{for(var a;a=k();){try{a.h.call(a.g)}catch(p){D(p)}var h=Si;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}B=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ne(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}Ne.prototype.h=function(){this.defaultPrevented=!0};var Gn=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};l.addEventListener("test",p,h),l.removeEventListener("test",p,h)}catch{}return a}();function Kn(a,h){if(Ne.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var p=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(b){e:{try{A(h.nodeName);var O=!0;break e}catch{}O=!1}O||(h=null)}}else p=="mouseover"?h=a.fromElement:p=="mouseout"&&(h=a.toElement);this.relatedTarget=h,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:qn[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Kn.aa.h.call(this)}}E(Kn,Ne);var qn={2:"touch",3:"pen",4:"mouse"};Kn.prototype.h=function(){Kn.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Yn="closure_listenable_"+(1e6*Math.random()|0),vI=0;function yI(a,h,p,g,O){this.listener=a,this.proxy=null,this.src=h,this.type=p,this.capture=!!g,this.ha=O,this.key=++vI,this.da=this.fa=!1}function Oa(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Da(a){this.src=a,this.g={},this.h=0}Da.prototype.add=function(a,h,p,g,O){var L=a.toString();a=this.g[L],a||(a=this.g[L]=[],this.h++);var j=sd(a,h,g,O);return-1<j?(h=a[j],p||(h.fa=!1)):(h=new yI(h,this.src,L,!!g,O),h.fa=p,a.push(h)),h};function id(a,h){var p=h.type;if(p in a.g){var g=a.g[p],O=Array.prototype.indexOf.call(g,h,void 0),L;(L=0<=O)&&Array.prototype.splice.call(g,O,1),L&&(Oa(h),a.g[p].length==0&&(delete a.g[p],a.h--))}}function sd(a,h,p,g){for(var O=0;O<a.length;++O){var L=a[O];if(!L.da&&L.listener==h&&L.capture==!!p&&L.ha==g)return O}return-1}var od="closure_lm_"+(1e6*Math.random()|0),ld={};function j0(a,h,p,g,O){if(Array.isArray(h)){for(var L=0;L<h.length;L++)j0(a,h[L],p,g,O);return null}return p=V0(p),a&&a[Yn]?a.K(h,p,c(g)?!!g.capture:!!g,O):wI(a,h,p,!1,g,O)}function wI(a,h,p,g,O,L){if(!h)throw Error("Invalid event type");var j=c(O)?!!O.capture:!!O,ce=ud(a);if(ce||(a[od]=ce=new Da(a)),p=ce.add(h,p,g,j,L),p.proxy)return p;if(g=EI(),p.proxy=g,g.src=a,g.listener=p,a.addEventListener)Gn||(O=j),O===void 0&&(O=!1),a.addEventListener(h.toString(),g,O);else if(a.attachEvent)a.attachEvent(B0(h.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return p}function EI(){function a(p){return h.call(a.src,a.listener,p)}const h=SI;return a}function z0(a,h,p,g,O){if(Array.isArray(h))for(var L=0;L<h.length;L++)z0(a,h[L],p,g,O);else g=c(g)?!!g.capture:!!g,p=V0(p),a&&a[Yn]?(a=a.i,h=String(h).toString(),h in a.g&&(L=a.g[h],p=sd(L,p,g,O),-1<p&&(Oa(L[p]),Array.prototype.splice.call(L,p,1),L.length==0&&(delete a.g[h],a.h--)))):a&&(a=ud(a))&&(h=a.g[h.toString()],a=-1,h&&(a=sd(h,p,g,O)),(p=-1<a?h[a]:null)&&ad(p))}function ad(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[Yn])id(h.i,a);else{var p=a.type,g=a.proxy;h.removeEventListener?h.removeEventListener(p,g,a.capture):h.detachEvent?h.detachEvent(B0(p),g):h.addListener&&h.removeListener&&h.removeListener(g),(p=ud(h))?(id(p,a),p.h==0&&(p.src=null,h[od]=null)):Oa(a)}}}function B0(a){return a in ld?ld[a]:ld[a]="on"+a}function SI(a,h){if(a.da)a=!0;else{h=new Kn(h,this);var p=a.listener,g=a.ha||a.src;a.fa&&ad(a),a=p.call(g,h)}return a}function ud(a){return a=a[od],a instanceof Da?a:null}var cd="__closure_events_fn_"+(1e9*Math.random()>>>0);function V0(a){return typeof a=="function"?a:(a[cd]||(a[cd]=function(h){return a.handleEvent(h)}),a[cd])}function et(){ue.call(this),this.i=new Da(this),this.M=this,this.F=null}E(et,ue),et.prototype[Yn]=!0,et.prototype.removeEventListener=function(a,h,p,g){z0(this,a,h,p,g)};function ht(a,h){var p,g=a.F;if(g)for(p=[];g;g=g.F)p.push(g);if(a=a.M,g=h.type||h,typeof h=="string")h=new Ne(h,a);else if(h instanceof Ne)h.target=h.target||a;else{var O=h;h=new Ne(g,a),I(h,O)}if(O=!0,p)for(var L=p.length-1;0<=L;L--){var j=h.g=p[L];O=La(j,g,!0,h)&&O}if(j=h.g=a,O=La(j,g,!0,h)&&O,O=La(j,g,!1,h)&&O,p)for(L=0;L<p.length;L++)j=h.g=p[L],O=La(j,g,!1,h)&&O}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var p=a.g[h],g=0;g<p.length;g++)Oa(p[g]);delete a.g[h],a.h--}}this.F=null},et.prototype.K=function(a,h,p,g){return this.i.add(String(a),h,!1,p,g)},et.prototype.L=function(a,h,p,g){return this.i.add(String(a),h,!0,p,g)};function La(a,h,p,g){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var O=!0,L=0;L<h.length;++L){var j=h[L];if(j&&!j.da&&j.capture==p){var ce=j.listener,Ge=j.ha||j.src;j.fa&&id(a.i,j),O=ce.call(Ge,g)!==!1&&O}}return O&&!g.defaultPrevented}function H0(a,h,p){if(typeof a=="function")p&&(a=m(a,p));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function W0(a){a.g=H0(()=>{a.g=null,a.i&&(a.i=!1,W0(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class CI extends ue{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:W0(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ko(a){ue.call(this),this.h=a,this.g={}}E(ko,ue);var G0=[];function K0(a){U(a.g,function(h,p){this.g.hasOwnProperty(p)&&ad(h)},a),a.g={}}ko.prototype.N=function(){ko.aa.N.call(this),K0(this)},ko.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hd=l.JSON.stringify,TI=l.JSON.parse,kI=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function dd(){}dd.prototype.h=null;function q0(a){return a.h||(a.h=a.i())}function II(){}var Io={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fd(){Ne.call(this,"d")}E(fd,Ne);function pd(){Ne.call(this,"c")}E(pd,Ne);var hs={},Y0=null;function md(){return Y0=Y0||new et}hs.La="serverreachability";function X0(a){Ne.call(this,hs.La,a)}E(X0,Ne);function xo(a){const h=md();ht(h,new X0(h))}hs.STAT_EVENT="statevent";function Q0(a,h){Ne.call(this,hs.STAT_EVENT,a),this.stat=h}E(Q0,Ne);function dt(a){const h=md();ht(h,new Q0(h,a))}hs.Ma="timingevent";function J0(a,h){Ne.call(this,hs.Ma,a),this.size=h}E(J0,Ne);function Ro(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function Po(){this.g=!0}Po.prototype.xa=function(){this.g=!1};function xI(a,h,p,g,O,L){a.info(function(){if(a.g)if(L)for(var j="",ce=L.split("&"),Ge=0;Ge<ce.length;Ge++){var oe=ce[Ge].split("=");if(1<oe.length){var tt=oe[0];oe=oe[1];var nt=tt.split("_");j=2<=nt.length&&nt[1]=="type"?j+(tt+"="+oe+"&"):j+(tt+"=redacted&")}}else j=null;else j=L;return"XMLHTTP REQ ("+g+") [attempt "+O+"]: "+h+`
`+p+`
`+j})}function RI(a,h,p,g,O,L,j){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+O+"]: "+h+`
`+p+`
`+L+" "+j})}function ds(a,h,p,g){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+NI(a,p)+(g?" "+g:"")})}function PI(a,h){a.info(function(){return"TIMEOUT: "+h})}Po.prototype.info=function(){};function NI(a,h){if(!a.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(a=0;a<p.length;a++)if(Array.isArray(p[a])){var g=p[a];if(!(2>g.length)){var O=g[1];if(Array.isArray(O)&&!(1>O.length)){var L=O[0];if(L!="noop"&&L!="stop"&&L!="close")for(var j=1;j<O.length;j++)O[j]=""}}}}return hd(p)}catch{return h}}var gd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},AI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_d;function ba(){}E(ba,dd),ba.prototype.g=function(){return new XMLHttpRequest},ba.prototype.i=function(){return{}},_d=new ba;function kr(a,h,p,g){this.j=a,this.i=h,this.l=p,this.R=g||1,this.U=new ko(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Z0}function Z0(){this.i=null,this.g="",this.h=!1}var e_={},vd={};function yd(a,h,p){a.L=1,a.v=$a(Xn(h)),a.m=p,a.P=!0,t_(a,null)}function t_(a,h){a.F=Date.now(),Ma(a),a.A=Xn(a.v);var p=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),m_(p.i,"t",g),a.C=0,p=a.j.J,a.h=new Z0,a.g=D_(a.j,p?h:null,!a.m),0<a.O&&(a.M=new CI(m(a.Y,a,a.g),a.O)),h=a.U,p=a.g,g=a.ca;var O="readystatechange";Array.isArray(O)||(O&&(G0[0]=O.toString()),O=G0);for(var L=0;L<O.length;L++){var j=j0(p,O[L],g||h.handleEvent,!1,h.h||h);if(!j)break;h.g[j.key]=j}h=a.H?_(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),xo(),xI(a.i,a.u,a.A,a.l,a.R,a.m)}kr.prototype.ca=function(a){a=a.target;const h=this.M;h&&Qn(a)==3?h.j():this.Y(a)},kr.prototype.Y=function(a){try{if(a==this.g)e:{const nt=Qn(this.g);var h=this.g.Ba();const ms=this.g.Z();if(!(3>nt)&&(nt!=3||this.g&&(this.h.h||this.g.oa()||S_(this.g)))){this.J||nt!=4||h==7||(h==8||0>=ms?xo(3):xo(2)),wd(this);var p=this.g.Z();this.X=p;t:if(n_(this)){var g=S_(this.g);a="";var O=g.length,L=Qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ci(this),No(this);var j="";break t}this.h.i=new l.TextDecoder}for(h=0;h<O;h++)this.h.h=!0,a+=this.h.i.decode(g[h],{stream:!(L&&h==O-1)});g.length=0,this.h.g+=a,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=p==200,RI(this.i,this.u,this.A,this.l,this.R,nt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var ce,Ge=this.g;if((ce=Ge.g?Ge.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(ce)){var oe=ce;break t}}oe=null}if(p=oe)ds(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ed(this,p);else{this.o=!1,this.s=3,dt(12),Ci(this),No(this);break e}}if(this.P){p=!0;let hn;for(;!this.J&&this.C<j.length;)if(hn=OI(this,j),hn==vd){nt==4&&(this.s=4,dt(14),p=!1),ds(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==e_){this.s=4,dt(15),ds(this.i,this.l,j,"[Invalid Chunk]"),p=!1;break}else ds(this.i,this.l,hn,null),Ed(this,hn);if(n_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||j.length!=0||this.h.h||(this.s=1,dt(16),p=!1),this.o=this.o&&p,!p)ds(this.i,this.l,j,"[Invalid Chunked Response]"),Ci(this),No(this);else if(0<j.length&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.ba&&!tt.M&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),xd(tt),tt.M=!0,dt(11))}}else ds(this.i,this.l,j,null),Ed(this,j);nt==4&&Ci(this),this.o&&!this.J&&(nt==4?P_(this.j,this):(this.o=!1,Ma(this)))}else YI(this.g),p==400&&0<j.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Ci(this),No(this)}}}catch{}finally{}};function n_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function OI(a,h){var p=a.C,g=h.indexOf(`
`,p);return g==-1?vd:(p=Number(h.substring(p,g)),isNaN(p)?e_:(g+=1,g+p>h.length?vd:(h=h.slice(g,g+p),a.C=g+p,h)))}kr.prototype.cancel=function(){this.J=!0,Ci(this)};function Ma(a){a.S=Date.now()+a.I,r_(a,a.I)}function r_(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Ro(m(a.ba,a),h)}function wd(a){a.B&&(l.clearTimeout(a.B),a.B=null)}kr.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(PI(this.i,this.A),this.L!=2&&(xo(),dt(17)),Ci(this),this.s=2,No(this)):r_(this,this.S-a)};function No(a){a.j.G==0||a.J||P_(a.j,a)}function Ci(a){wd(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,K0(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function Ed(a,h){try{var p=a.j;if(p.G!=0&&(p.g==a||Sd(p.h,a))){if(!a.K&&Sd(p.h,a)&&p.G==3){try{var g=p.Da.g.parse(h)}catch{g=null}if(Array.isArray(g)&&g.length==3){var O=g;if(O[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<a.F)Wa(p),Va(p);else break e;Id(p),dt(18)}}else p.za=O[1],0<p.za-p.T&&37500>O[2]&&p.F&&p.v==0&&!p.C&&(p.C=Ro(m(p.Za,p),6e3));if(1>=o_(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else ki(p,11)}else if((a.K||p.g==a)&&Wa(p),!v(h))for(O=p.Da.g.parse(h),h=0;h<O.length;h++){let oe=O[h];if(p.T=oe[0],oe=oe[1],p.G==2)if(oe[0]=="c"){p.K=oe[1],p.ia=oe[2];const tt=oe[3];tt!=null&&(p.la=tt,p.j.info("VER="+p.la));const nt=oe[4];nt!=null&&(p.Aa=nt,p.j.info("SVER="+p.Aa));const ms=oe[5];ms!=null&&typeof ms=="number"&&0<ms&&(g=1.5*ms,p.L=g,p.j.info("backChannelRequestTimeoutMs_="+g)),g=p;const hn=a.g;if(hn){const Ga=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ga){var L=g.h;L.g||Ga.indexOf("spdy")==-1&&Ga.indexOf("quic")==-1&&Ga.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Cd(L,L.h),L.h=null))}if(g.D){const Rd=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Rd&&(g.ya=Rd,ge(g.I,g.D,Rd))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-a.F,p.j.info("Handshake RTT: "+p.R+"ms")),g=p;var j=a;if(g.qa=O_(g,g.J?g.ia:null,g.W),j.K){l_(g.h,j);var ce=j,Ge=g.L;Ge&&(ce.I=Ge),ce.B&&(wd(ce),Ma(ce)),g.g=j}else x_(g);0<p.i.length&&Ha(p)}else oe[0]!="stop"&&oe[0]!="close"||ki(p,7);else p.G==3&&(oe[0]=="stop"||oe[0]=="close"?oe[0]=="stop"?ki(p,7):kd(p):oe[0]!="noop"&&p.l&&p.l.ta(oe),p.v=0)}}xo(4)}catch{}}var DI=class{constructor(a,h){this.g=a,this.map=h}};function i_(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function s_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function o_(a){return a.h?1:a.g?a.g.size:0}function Sd(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function Cd(a,h){a.g?a.g.add(h):a.h=h}function l_(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}i_.prototype.cancel=function(){if(this.i=a_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function a_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const p of a.g.values())h=h.concat(p.D);return h}return P(a.i)}function LI(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var h=[],p=a.length,g=0;g<p;g++)h.push(a[g]);return h}h=[],p=0;for(g in a)h[p++]=a[g];return h}function bI(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var h=[];a=a.length;for(var p=0;p<a;p++)h.push(p);return h}h=[],p=0;for(const g in a)h[p++]=g;return h}}}function u_(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var p=bI(a),g=LI(a),O=g.length,L=0;L<O;L++)h.call(void 0,g[L],p&&p[L],a)}var c_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function MI(a,h){if(a){a=a.split("&");for(var p=0;p<a.length;p++){var g=a[p].indexOf("="),O=null;if(0<=g){var L=a[p].substring(0,g);O=a[p].substring(g+1)}else L=a[p];h(L,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Ti(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Ti){this.h=a.h,Fa(this,a.j),this.o=a.o,this.g=a.g,Ua(this,a.s),this.l=a.l;var h=a.i,p=new Do;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),h_(this,p),this.m=a.m}else a&&(h=String(a).match(c_))?(this.h=!1,Fa(this,h[1]||"",!0),this.o=Ao(h[2]||""),this.g=Ao(h[3]||"",!0),Ua(this,h[4]),this.l=Ao(h[5]||"",!0),h_(this,h[6]||"",!0),this.m=Ao(h[7]||"")):(this.h=!1,this.i=new Do(null,this.h))}Ti.prototype.toString=function(){var a=[],h=this.j;h&&a.push(Oo(h,d_,!0),":");var p=this.g;return(p||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Oo(h,d_,!0),"@"),a.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&a.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(Oo(p,p.charAt(0)=="/"?$I:UI,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",Oo(p,zI)),a.join("")};function Xn(a){return new Ti(a)}function Fa(a,h,p){a.j=p?Ao(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Ua(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function h_(a,h,p){h instanceof Do?(a.i=h,BI(a.i,a.h)):(p||(h=Oo(h,jI)),a.i=new Do(h,a.h))}function ge(a,h,p){a.i.set(h,p)}function $a(a){return ge(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ao(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Oo(a,h,p){return typeof a=="string"?(a=encodeURI(a).replace(h,FI),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function FI(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var d_=/[#\/\?@]/g,UI=/[#\?:]/g,$I=/[#\?]/g,jI=/[#\?@]/g,zI=/#/g;function Do(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Ir(a){a.g||(a.g=new Map,a.h=0,a.i&&MI(a.i,function(h,p){a.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=Do.prototype,t.add=function(a,h){Ir(this),this.i=null,a=fs(this,a);var p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(h),this.h+=1,this};function f_(a,h){Ir(a),h=fs(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function p_(a,h){return Ir(a),h=fs(a,h),a.g.has(h)}t.forEach=function(a,h){Ir(this),this.g.forEach(function(p,g){p.forEach(function(O){a.call(h,O,g,this)},this)},this)},t.na=function(){Ir(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let g=0;g<h.length;g++){const O=a[g];for(let L=0;L<O.length;L++)p.push(h[g])}return p},t.V=function(a){Ir(this);let h=[];if(typeof a=="string")p_(this,a)&&(h=h.concat(this.g.get(fs(this,a))));else{a=Array.from(this.g.values());for(let p=0;p<a.length;p++)h=h.concat(a[p])}return h},t.set=function(a,h){return Ir(this),this.i=null,a=fs(this,a),p_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function m_(a,h,p){f_(a,h),0<p.length&&(a.i=null,a.g.set(fs(a,h),P(p)),a.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var g=h[p];const L=encodeURIComponent(String(g)),j=this.V(g);for(g=0;g<j.length;g++){var O=L;j[g]!==""&&(O+="="+encodeURIComponent(String(j[g]))),a.push(O)}}return this.i=a.join("&")};function fs(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function BI(a,h){h&&!a.j&&(Ir(a),a.i=null,a.g.forEach(function(p,g){var O=g.toLowerCase();g!=O&&(f_(this,g),m_(this,O,p))},a)),a.j=h}function VI(a,h){const p=new Po;if(l.Image){const g=new Image;g.onload=w(xr,p,"TestLoadImage: loaded",!0,h,g),g.onerror=w(xr,p,"TestLoadImage: error",!1,h,g),g.onabort=w(xr,p,"TestLoadImage: abort",!1,h,g),g.ontimeout=w(xr,p,"TestLoadImage: timeout",!1,h,g),l.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else h(!1)}function HI(a,h){const p=new Po,g=new AbortController,O=setTimeout(()=>{g.abort(),xr(p,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:g.signal}).then(L=>{clearTimeout(O),L.ok?xr(p,"TestPingServer: ok",!0,h):xr(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(O),xr(p,"TestPingServer: error",!1,h)})}function xr(a,h,p,g,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),g(p)}catch{}}function WI(){this.g=new kI}function GI(a,h,p){const g=p||"";try{u_(a,function(O,L){let j=O;c(O)&&(j=hd(O)),h.push(g+L+"="+encodeURIComponent(j))})}catch(O){throw h.push(g+"type="+encodeURIComponent("_badmap")),O}}function ja(a){this.l=a.Ub||null,this.j=a.eb||!1}E(ja,dd),ja.prototype.g=function(){return new za(this.l,this.j)},ja.prototype.i=function(a){return function(){return a}}({});function za(a,h){et.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(za,et),t=za.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,bo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Lo(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,bo(this)),this.g&&(this.readyState=3,bo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;g_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function g_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Lo(this):bo(this),this.readyState==3&&g_(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Lo(this))},t.Qa=function(a){this.g&&(this.response=a,Lo(this))},t.ga=function(){this.g&&Lo(this)};function Lo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,bo(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=h.next();return a.join(`\r
`)};function bo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(za.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function __(a){let h="";return U(a,function(p,g){h+=g,h+=":",h+=p,h+=`\r
`}),h}function Td(a,h,p){e:{for(g in p){var g=!1;break e}g=!0}g||(p=__(p),typeof a=="string"?p!=null&&encodeURIComponent(String(p)):ge(a,h,p))}function Ae(a){et.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Ae,et);var KI=/^https?$/i,qI=["POST","PUT"];t=Ae.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,p,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_d.g(),this.v=this.o?q0(this.o):q0(_d),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(L){v_(this,L);return}if(a=p||"",p=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var O in g)p.set(O,g[O]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const L of g.keys())p.set(L,g.get(L));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(p.keys()).find(L=>L.toLowerCase()=="content-type"),O=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(qI,h,void 0))||g||O||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,j]of p)this.g.setRequestHeader(L,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{E_(this),this.u=!0,this.g.send(a),this.u=!1}catch(L){v_(this,L)}};function v_(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,y_(a),Ba(a)}function y_(a){a.A||(a.A=!0,ht(a,"complete"),ht(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ht(this,"complete"),ht(this,"abort"),Ba(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ba(this,!0)),Ae.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?w_(this):this.bb())},t.bb=function(){w_(this)};function w_(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Qn(a)!=4||a.Z()!=2)){if(a.u&&Qn(a)==4)H0(a.Ea,0,a);else if(ht(a,"readystatechange"),Qn(a)==4){a.h=!1;try{const j=a.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var g;if(g=j===0){var O=String(a.D).match(c_)[1]||null;!O&&l.self&&l.self.location&&(O=l.self.location.protocol.slice(0,-1)),g=!KI.test(O?O.toLowerCase():"")}p=g}if(p)ht(a,"complete"),ht(a,"success");else{a.m=6;try{var L=2<Qn(a)?a.g.statusText:""}catch{L=""}a.l=L+" ["+a.Z()+"]",y_(a)}}finally{Ba(a)}}}}function Ba(a,h){if(a.g){E_(a);const p=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||ht(a,"ready");try{p.onreadystatechange=g}catch{}}}function E_(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Qn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Qn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),TI(h)}};function S_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function YI(a){const h={};a=(a.g&&2<=Qn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(v(a[g]))continue;var p=R(a[g]);const O=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const L=h[O]||[];h[O]=L,L.push(p)}C(h,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mo(a,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||h}function C_(a){this.Aa=0,this.i=[],this.j=new Po,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mo("baseRetryDelayMs",5e3,a),this.cb=Mo("retryDelaySeedMs",1e4,a),this.Wa=Mo("forwardChannelMaxRetries",2,a),this.wa=Mo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new i_(a&&a.concurrentRequestLimit),this.Da=new WI,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=C_.prototype,t.la=8,t.G=1,t.connect=function(a,h,p,g){dt(0),this.W=a,this.H=h||{},p&&g!==void 0&&(this.H.OSID=p,this.H.OAID=g),this.F=this.X,this.I=O_(this,null,this.W),Ha(this)};function kd(a){if(T_(a),a.G==3){var h=a.U++,p=Xn(a.I);if(ge(p,"SID",a.K),ge(p,"RID",h),ge(p,"TYPE","terminate"),Fo(a,p),h=new kr(a,a.j,h),h.L=2,h.v=$a(Xn(p)),p=!1,l.navigator&&l.navigator.sendBeacon)try{p=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&l.Image&&(new Image().src=h.v,p=!0),p||(h.g=D_(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Ma(h)}A_(a)}function Va(a){a.g&&(xd(a),a.g.cancel(),a.g=null)}function T_(a){Va(a),a.u&&(l.clearTimeout(a.u),a.u=null),Wa(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Ha(a){if(!s_(a.h)&&!a.s){a.s=!0;var h=a.Ga;Wn||Y(),B||(Wn(),B=!0),K.add(h,a),a.B=0}}function XI(a,h){return o_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Ro(m(a.Ga,a,h),N_(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const O=new kr(this,this.j,a);let L=this.o;if(this.S&&(L?(L=_(L),I(L,this.S)):L=this.S),this.m!==null||this.O||(O.H=L,L=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var g=this.i[p];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(h+=g,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=I_(this,O,h),p=Xn(this.I),ge(p,"RID",a),ge(p,"CVER",22),this.D&&ge(p,"X-HTTP-Session-Id",this.D),Fo(this,p),L&&(this.O?h="headers="+encodeURIComponent(String(__(L)))+"&"+h:this.m&&Td(p,this.m,L)),Cd(this.h,O),this.Ua&&ge(p,"TYPE","init"),this.P?(ge(p,"$req",h),ge(p,"SID","null"),O.T=!0,yd(O,p,null)):yd(O,p,h),this.G=2}}else this.G==3&&(a?k_(this,a):this.i.length==0||s_(this.h)||k_(this))};function k_(a,h){var p;h?p=h.l:p=a.U++;const g=Xn(a.I);ge(g,"SID",a.K),ge(g,"RID",p),ge(g,"AID",a.T),Fo(a,g),a.m&&a.o&&Td(g,a.m,a.o),p=new kr(a,a.j,p,a.B+1),a.m===null&&(p.H=a.o),h&&(a.i=h.D.concat(a.i)),h=I_(a,p,1e3),p.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Cd(a.h,p),yd(p,g,h)}function Fo(a,h){a.H&&U(a.H,function(p,g){ge(h,g,p)}),a.l&&u_({},function(p,g){ge(h,g,p)})}function I_(a,h,p){p=Math.min(a.i.length,p);var g=a.l?m(a.l.Na,a.l,a):null;e:{var O=a.i;let L=-1;for(;;){const j=["count="+p];L==-1?0<p?(L=O[0].g,j.push("ofs="+L)):L=0:j.push("ofs="+L);let ce=!0;for(let Ge=0;Ge<p;Ge++){let oe=O[Ge].g;const tt=O[Ge].map;if(oe-=L,0>oe)L=Math.max(0,O[Ge].g-100),ce=!1;else try{GI(tt,j,"req"+oe+"_")}catch{g&&g(tt)}}if(ce){g=j.join("&");break e}}}return a=a.i.splice(0,p),h.D=a,g}function x_(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;Wn||Y(),B||(Wn(),B=!0),K.add(h,a),a.v=0}}function Id(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Ro(m(a.Fa,a),N_(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,R_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Ro(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Va(this),R_(this))};function xd(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function R_(a){a.g=new kr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=Xn(a.qa);ge(h,"RID","rpc"),ge(h,"SID",a.K),ge(h,"AID",a.T),ge(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&ge(h,"TO",a.ja),ge(h,"TYPE","xmlhttp"),Fo(a,h),a.m&&a.o&&Td(h,a.m,a.o),a.L&&(a.g.I=a.L);var p=a.g;a=a.ia,p.L=1,p.v=$a(Xn(h)),p.m=null,p.P=!0,t_(p,a)}t.Za=function(){this.C!=null&&(this.C=null,Va(this),Id(this),dt(19))};function Wa(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function P_(a,h){var p=null;if(a.g==h){Wa(a),xd(a),a.g=null;var g=2}else if(Sd(a.h,h))p=h.D,l_(a.h,h),g=1;else return;if(a.G!=0){if(h.o)if(g==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var O=a.B;g=md(),ht(g,new J0(g,p)),Ha(a)}else x_(a);else if(O=h.s,O==3||O==0&&0<h.X||!(g==1&&XI(a,h)||g==2&&Id(a)))switch(p&&0<p.length&&(h=a.h,h.i=h.i.concat(p)),O){case 1:ki(a,5);break;case 4:ki(a,10);break;case 3:ki(a,6);break;default:ki(a,2)}}}function N_(a,h){let p=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(p*=2),p*h}function ki(a,h){if(a.j.info("Error code "+h),h==2){var p=m(a.fb,a),g=a.Xa;const O=!g;g=new Ti(g||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Fa(g,"https"),$a(g),O?VI(g.toString(),p):HI(g.toString(),p)}else dt(2);a.G=0,a.l&&a.l.sa(h),A_(a),T_(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function A_(a){if(a.G=0,a.ka=[],a.l){const h=a_(a.h);(h.length!=0||a.i.length!=0)&&(N(a.ka,h),N(a.ka,a.i),a.h.i.length=0,P(a.i),a.i.length=0),a.l.ra()}}function O_(a,h,p){var g=p instanceof Ti?Xn(p):new Ti(p);if(g.g!="")h&&(g.g=h+"."+g.g),Ua(g,g.s);else{var O=l.location;g=O.protocol,h=h?h+"."+O.hostname:O.hostname,O=+O.port;var L=new Ti(null);g&&Fa(L,g),h&&(L.g=h),O&&Ua(L,O),p&&(L.l=p),g=L}return p=a.D,h=a.ya,p&&h&&ge(g,p,h),ge(g,"VER",a.la),Fo(a,g),g}function D_(a,h,p){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new Ae(new ja({eb:p})):new Ae(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function L_(){}t=L_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Zt(a,h){et.call(this),this.g=new C_(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!v(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!v(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new ps(this)}E(Zt,et),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){kd(this.g)},Zt.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.u&&(p={},p.__data__=hd(a),a=p);h.i.push(new DI(h.Ya++,a)),h.G==3&&Ha(h)},Zt.prototype.N=function(){this.g.l=null,delete this.j,kd(this.g),delete this.g,Zt.aa.N.call(this)};function b_(a){fd.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const p in h){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}E(b_,fd);function M_(){pd.call(this),this.status=1}E(M_,pd);function ps(a){this.g=a}E(ps,L_),ps.prototype.ua=function(){ht(this.g,"a")},ps.prototype.ta=function(a){ht(this.g,new b_(a))},ps.prototype.sa=function(a){ht(this.g,new M_)},ps.prototype.ra=function(){ht(this.g,"b")},Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,gd.NO_ERROR=0,gd.TIMEOUT=8,gd.HTTP_ERROR=6,AI.COMPLETE="complete",II.EventType=Io,Io.OPEN="a",Io.CLOSE="b",Io.ERROR="c",Io.MESSAGE="d",et.prototype.listen=et.prototype.K,Ae.prototype.listenOnce=Ae.prototype.L,Ae.prototype.getLastError=Ae.prototype.Ka,Ae.prototype.getLastErrorCode=Ae.prototype.Ba,Ae.prototype.getStatus=Ae.prototype.Z,Ae.prototype.getResponseJson=Ae.prototype.Oa,Ae.prototype.getResponseText=Ae.prototype.oa,Ae.prototype.send=Ae.prototype.ea,Ae.prototype.setWithCredentials=Ae.prototype.Ha}).apply(typeof pu<"u"?pu:typeof self<"u"?self:typeof window<"u"?window:{});const h1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let st=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};st.UNAUTHENTICATED=new st(null),st.GOOGLE_CREDENTIALS=new st("google-credentials-uid"),st.FIRST_PARTY=new st("first-party-uid"),st.MOCK_USER=new st("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pa="10.13.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=new go("@firebase/firestore");function Ht(t,...e){if(oo.logLevel<=ie.DEBUG){const n=e.map(h0);oo.debug(`Firestore (${Pa}): ${t}`,...n)}}function c0(t,...e){if(oo.logLevel<=ie.ERROR){const n=e.map(h0);oo.error(`Firestore (${Pa}): ${t}`,...n)}}function X5(t,...e){if(oo.logLevel<=ie.WARN){const n=e.map(h0);oo.warn(`Firestore (${Pa}): ${t}`,...n)}}function h0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(t="Unexpected state"){const e=`FIRESTORE (${Pa}) INTERNAL ASSERTION FAILED: `+t;throw c0(e),new Error(e)}function Xp(t,e){t||d0()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let ut=class extends cn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PT=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Q5=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(st.UNAUTHENTICATED))}shutdown(){}};class J5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Z5{constructor(e){this.t=e,this.currentUser=st.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Gs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Gs,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{Ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Gs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xp(typeof r.accessToken=="string"),new PT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Xp(e===null||typeof e=="string"),new st(e)}}let eb=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=st.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},tb=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new eb(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(st.FIRST_PARTY))}shutdown(){}invalidateToken(){}},nb=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}};class rb{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&Ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ht("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xp(typeof n.token=="string"),this.R=n.token,new nb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=ib(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function NT(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,n,r,i,s,o,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}let lb=class Qp{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Qp("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Qp&&e.projectId===this.projectId&&e.database===this.database}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d1,ne;(ne=d1||(d1={}))[ne.OK=0]="OK",ne[ne.CANCELLED=1]="CANCELLED",ne[ne.UNKNOWN=2]="UNKNOWN",ne[ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ne[ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ne[ne.NOT_FOUND=5]="NOT_FOUND",ne[ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",ne[ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",ne[ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",ne[ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ne[ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ne[ne.ABORTED=10]="ABORTED",ne[ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",ne[ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",ne[ne.INTERNAL=13]="INTERNAL",ne[ne.UNAVAILABLE=14]="UNAVAILABLE",ne[ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new RT([4294967295,4294967295],0);function _f(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ht("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new f0(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(at.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ub(t,e){if(c0("AsyncQueue",`${e}: ${t}`),NT(t))return new ut(at.UNAVAILABLE,`${e}: ${t}`);throw t}var f1,p1;(p1=f1||(f1={})).ea="default",p1.Cache="cache";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=st.UNAUTHENTICATED,this.clientId=sb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Ht("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Ht("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ut(at.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ub(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=new Map;function hb(t,e,n,r){if(e===!0&&r===!0)throw new ut(at.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function db(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":d0()}function fb(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ut(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=db(t);throw new ut(at.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g1=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ut(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ut(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ut(at.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ut(at.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ut(at.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}};class OT{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ut(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ut(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Q5;switch(r.type){case"firstParty":return new tb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ut(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=m1.get(n);r&&(Ht("ComponentProvider","Removing Datastore"),m1.delete(n),r.terminate())}(this),Promise.resolve()}}function pb(t,e,n,r={}){var i;const s=(t=fb(t,OT))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&X5("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=st.MOCK_USER;else{l=vg(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ut(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new st(c)}t._authCredentials=new J5(new PT(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new ab(this,"async_queue_retry"),this.Eu=()=>{const n=_f();n&&Ht("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=_f();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=_f();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new Gs;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!NT(e))throw e;Ht("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw c0("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=f0.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&d0()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}let gb=class extends OT{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new mb}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||vb(this),this._firestoreClient.terminate()}};function _b(t,e){const n=typeof t=="object"?t:va(),r=typeof t=="string"?t:"(default)",i=as(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=_g("firestore");s&&pb(i,...s)}return i}function vb(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,c,d){return new ob(l,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,AT(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new cb(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}(function(e,n=!0){(function(i){Pa=i})(An),Pn(new Rn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new gb(new Z5(r.getProvider("auth-internal")),new rb(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ut(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lb(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),He(h1,"4.7.2",e),He(h1,"4.7.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="firebasestorage.googleapis.com",LT="storageBucket",yb=2*60*1e3,wb=10*60*1e3,Eb=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe extends cn{constructor(e,n,r=0){super(vf(e),`Firebase Storage: ${n} (${vf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ee;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ee||(Ee={}));function vf(t){return"storage/"+t}function p0(){const t="An unknown error occurred, please check the error payload for server response.";return new xe(Ee.UNKNOWN,t)}function Sb(t){return new xe(Ee.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Cb(t){return new xe(Ee.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Tb(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new xe(Ee.UNAUTHENTICATED,t)}function kb(){return new xe(Ee.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Ib(t){return new xe(Ee.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function bT(){return new xe(Ee.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function MT(){return new xe(Ee.CANCELED,"User canceled the upload/download.")}function xb(t){return new xe(Ee.INVALID_URL,"Invalid URL '"+t+"'.")}function Rb(t){return new xe(Ee.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Pb(){return new xe(Ee.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+LT+"' property when initializing the app?")}function FT(){return new xe(Ee.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Nb(){return new xe(Ee.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Ab(){return new xe(Ee.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Ob(t){return new xe(Ee.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Jp(t){return new xe(Ee.INVALID_ARGUMENT,t)}function UT(){return new xe(Ee.APP_DELETED,"The Firebase app was deleted.")}function Db(t){return new xe(Ee.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Cl(t,e){return new xe(Ee.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Xo(t){throw new xe(Ee.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Wt.makeFromUrl(e,n)}catch{return new Wt(e,"")}if(r.path==="")return r;throw Rb(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function c(A){A.path_=decodeURIComponent(A.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",w=new RegExp(`^https?://${f}/${d}/b/${i}/o${m}`,"i"),E={bucket:1,path:3},P=n===DT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",S=new RegExp(`^https?://${P}/${i}/${N}`,"i"),y=[{regex:l,indices:u,postModify:s},{regex:w,indices:E,postModify:c},{regex:S,indices:{bucket:1,path:2},postModify:c}];for(let A=0;A<y.length;A++){const b=y[A],U=b.regex.exec(e);if(U){const C=U[b.indices.bucket];let _=U[b.indices.path];_||(_=""),r=new Wt(C,_),b.postModify(r);break}}if(r==null)throw xb(e);return r}}class Lb{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(t,e,n){let r=1,i=null,s=null,o=!1,l=0;function u(){return l===2}let c=!1;function d(...N){c||(c=!0,e.apply(null,N))}function f(N){i=setTimeout(()=>{i=null,t(w,u())},N)}function m(){s&&clearTimeout(s)}function w(N,...S){if(c){m();return}if(N){m(),d.call(null,N,...S);return}if(u()||o){m(),d.call(null,N,...S);return}r<64&&(r*=2);let y;l===1?(l=2,y=0):y=(r+Math.random())*1e3,f(y)}let E=!1;function P(N){E||(E=!0,m(),!c&&(i!==null?(N||(l=2),clearTimeout(i),f(0)):N||(l=1)))}return f(0),s=setTimeout(()=>{o=!0,P(!0)},n),P}function Mb(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(t){return t!==void 0}function Ub(t){return typeof t=="function"}function $b(t){return typeof t=="object"&&!Array.isArray(t)}function Hh(t){return typeof t=="string"||t instanceof String}function _1(t){return m0()&&t instanceof Blob}function m0(){return typeof Blob<"u"}function v1(t,e,n,r){if(r<e)throw Jp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Jp(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function $T(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Vi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Vi||(Vi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,n,r,i,s,o,l,u,c,d,f,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=f,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,E)=>{this.resolve_=w,this.reject_=E,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new mu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const u=l.loaded,c=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===Vi.NO_ERROR,u=s.getStatus();if(!l||jT(u,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===Vi.ABORT;r(!1,new mu(!1,null,d));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new mu(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());Fb(u)?s(u):s()}catch(u){o(u)}else if(l!==null){const u=p0();u.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,u)):o(u)}else if(i.canceled){const u=this.appDelete_?UT():MT();o(u)}else{const u=bT();o(u)}};this.canceled_?n(!1,new mu(!1,null,!0)):this.backoffId_=bb(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Mb(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class mu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function zb(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Bb(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Vb(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Hb(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Wb(t,e,n,r,i,s,o=!0){const l=$T(t.urlParams),u=t.url+l,c=Object.assign({},t.headers);return Vb(c,e),zb(c,n),Bb(c,s),Hb(c,r),new jb(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Kb(...t){const e=Gb();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(m0())return new Blob(t);throw new xe(Ee.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function qb(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(t){if(typeof atob>"u")throw Ob("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class yf{constructor(e,n){this.data=e,this.contentType=n||null}}function Xb(t,e){switch(t){case $n.RAW:return new yf(zT(e));case $n.BASE64:case $n.BASE64URL:return new yf(BT(t,e));case $n.DATA_URL:return new yf(Jb(e),Zb(e))}throw p0()}function zT(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Qb(t){let e;try{e=decodeURIComponent(t)}catch{throw Cl($n.DATA_URL,"Malformed data URL.")}return zT(e)}function BT(t,e){switch(t){case $n.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Cl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case $n.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Cl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Yb(e)}catch(i){throw i.message.includes("polyfill")?i:Cl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class VT{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Cl($n.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=e9(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Jb(t){const e=new VT(t);return e.base64?BT($n.BASE64,e.rest):Qb(e.rest)}function Zb(t){return new VT(t).contentType}function e9(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n){let r=0,i="";_1(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(_1(this.data_)){const r=this.data_,i=qb(r,e,n);return i===null?null:new zr(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new zr(r,!0)}}static getBlob(...e){if(m0()){const n=e.map(r=>r instanceof zr?r.data_:r);return new zr(Kb.apply(null,n))}else{const n=e.map(o=>Hh(o)?Xb($n.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)i[s++]=o[l]}),new zr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(t){let e;try{e=JSON.parse(t)}catch{return null}return $b(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function n9(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function WT(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r9(t,e){return e}class ft{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||r9}}let gu=null;function i9(t){return!Hh(t)||t.length<2?t:WT(t)}function GT(){if(gu)return gu;const t=[];t.push(new ft("bucket")),t.push(new ft("generation")),t.push(new ft("metageneration")),t.push(new ft("name","fullPath",!0));function e(s,o){return i9(o)}const n=new ft("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new ft("size");return i.xform=r,t.push(i),t.push(new ft("timeCreated")),t.push(new ft("updated")),t.push(new ft("md5Hash",null,!0)),t.push(new ft("cacheControl",null,!0)),t.push(new ft("contentDisposition",null,!0)),t.push(new ft("contentEncoding",null,!0)),t.push(new ft("contentLanguage",null,!0)),t.push(new ft("contentType",null,!0)),t.push(new ft("metadata","customMetadata",!0)),gu=t,gu}function s9(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Wt(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function o9(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return s9(r,t),r}function KT(t,e,n){const r=HT(e);return r===null?null:o9(t,r,n)}function l9(t,e,n,r){const i=HT(e);if(i===null||!Hh(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const d=t.bucket,f=t.fullPath,m="/b/"+o(d)+"/o/"+o(f),w=Na(m,n,r),E=$T({alt:"media",token:c});return w+E})[0]}function qT(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Eo{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(t){if(!t)throw p0()}function g0(t,e){function n(r,i){const s=KT(t,i,e);return cr(s!==null),s}return n}function a9(t,e){function n(r,i){const s=KT(t,i,e);return cr(s!==null),l9(s,i,t.host,t._protocol)}return n}function Aa(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=kb():i=Tb():n.getStatus()===402?i=Cb(t.bucket):n.getStatus()===403?i=Ib(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function YT(t){const e=Aa(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Sb(t.path)),s.serverResponse=i.serverResponse,s}return n}function u9(t,e,n){const r=e.fullServerUrl(),i=Na(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,l=new Eo(i,s,g0(t,n),o);return l.errorHandler=YT(e),l}function c9(t,e,n){const r=e.fullServerUrl(),i=Na(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,l=new Eo(i,s,a9(t,n),o);return l.errorHandler=YT(e),l}function h9(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function XT(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=h9(null,e)),r}function d9(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let y="";for(let A=0;A<2;A++)y=y+Math.random().toString().slice(2);return y}const u=l();o["Content-Type"]="multipart/related; boundary="+u;const c=XT(e,r,i),d=qT(c,n),f="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+u+`\r
Content-Type: `+c.contentType+`\r
\r
`,m=`\r
--`+u+"--",w=zr.getBlob(f,r,m);if(w===null)throw FT();const E={name:c.fullPath},P=Na(s,t.host,t._protocol),N="POST",S=t.maxUploadRetryTime,v=new Eo(P,N,g0(t,n),S);return v.urlParams=E,v.headers=o,v.body=w.uploadData(),v.errorHandler=Aa(e),v}class Gc{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function _0(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{cr(!1)}return cr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function f9(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=XT(e,r,i),l={name:o.fullPath},u=Na(s,t.host,t._protocol),c="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},f=qT(o,n),m=t.maxUploadRetryTime;function w(P){_0(P);let N;try{N=P.getResponseHeader("X-Goog-Upload-URL")}catch{cr(!1)}return cr(Hh(N)),N}const E=new Eo(u,c,w,m);return E.urlParams=l,E.headers=d,E.body=f,E.errorHandler=Aa(e),E}function p9(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(c){const d=_0(c,["active","final"]);let f=null;try{f=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{cr(!1)}f||cr(!1);const m=Number(f);return cr(!isNaN(m)),new Gc(m,r.size(),d==="final")}const o="POST",l=t.maxUploadRetryTime,u=new Eo(n,o,s,l);return u.headers=i,u.errorHandler=Aa(e),u}const y1=256*1024;function m9(t,e,n,r,i,s,o,l){const u=new Gc(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw Nb();const c=u.total-u.current;let d=c;i>0&&(d=Math.min(d,i));const f=u.current,m=f+d;let w="";d===0?w="finalize":c===d?w="upload, finalize":w="upload";const E={"X-Goog-Upload-Command":w,"X-Goog-Upload-Offset":`${u.current}`},P=r.slice(f,m);if(P===null)throw FT();function N(A,b){const U=_0(A,["active","final"]),C=u.current+d,_=r.size();let T;return U==="final"?T=g0(e,s)(A,b):T=null,new Gc(C,_,U==="final",T)}const S="POST",v=e.maxUploadRetryTime,y=new Eo(n,S,N,v);return y.headers=E,y.body=P.uploadData(),y.progressCallback=l||null,y.errorHandler=Aa(t),y}const kt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function wf(t){switch(t){case"running":case"pausing":case"canceling":return kt.RUNNING;case"paused":return kt.PAUSED;case"success":return kt.SUCCESS;case"canceled":return kt.CANCELED;case"error":return kt.ERROR;default:return kt.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e,n,r){if(Ub(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class _9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Vi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Vi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Vi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Xo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Xo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Xo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Xo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Xo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class v9 extends _9{initXhr(){this.xhr_.responseType="text"}}function ys(){return new v9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=GT(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Ee.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(jT(i.status,[]))if(s)i=bT();else{this.sleepTime=Math.max(this.sleepTime*2,Eb),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Ee.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=f9(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ys,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=p9(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,ys,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=y1*this._chunkMultiplier,n=new Gc(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=m9(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(u){this._error=u,this._transition("error");return}const l=this._ref.storage._makeRequest(o,ys,i,s,!1);this._request=l,l.getPromise().then(u=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(u.current),u.finalized?(this._metadata=u.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){y1*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=u9(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,ys,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=d9(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ys,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=MT(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=wf(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new g9(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(wf(this._state)){case kt.SUCCESS:vs(this._resolve.bind(null,this.snapshot))();break;case kt.CANCELED:case kt.ERROR:const n=this._reject;vs(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(wf(this._state)){case kt.RUNNING:case kt.PAUSED:e.next&&vs(e.next.bind(e,this.snapshot))();break;case kt.SUCCESS:e.complete&&vs(e.complete.bind(e))();break;case kt.CANCELED:case kt.ERROR:e.error&&vs(e.error.bind(e,this._error))();break;default:e.error&&vs(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n){this._service=e,n instanceof Wt?this._location=n:this._location=Wt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ts(e,n)}get root(){const e=new Wt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return WT(this._location.path)}get storage(){return this._service}get parent(){const e=t9(this._location.path);if(e===null)return null;const n=new Wt(this._location.bucket,e);return new ts(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Db(e)}}function w9(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new y9(t,new zr(e),n)}function E9(t){t._throwIfRoot("getDownloadURL");const e=c9(t.storage,t._location,GT());return t.storage.makeRequestWithTokens(e,ys).then(n=>{if(n===null)throw Ab();return n})}function S9(t,e){const n=n9(t._location.path,e),r=new Wt(t._location.bucket,n);return new ts(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C9(t){return/^[A-Za-z]+:\/\//.test(t)}function T9(t,e){return new ts(t,e)}function QT(t,e){if(t instanceof v0){const n=t;if(n._bucket==null)throw Pb();const r=new ts(n,n._bucket);return e!=null?QT(r,e):r}else return e!==void 0?S9(t,e):t}function k9(t,e){if(e&&C9(e)){if(t instanceof v0)return T9(t,e);throw Jp("To use ref(service, url), the first argument must be a Storage instance.")}else return QT(t,e)}function w1(t,e){const n=e==null?void 0:e[LT];return n==null?null:Wt.makeFromBucketSpec(n,t)}function I9(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:vg(i,t.app.options.projectId))}class v0{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=DT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yb,this._maxUploadRetryTime=wb,this._requests=new Set,i!=null?this._bucket=Wt.makeFromBucketSpec(i,this._host):this._bucket=w1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Wt.makeFromBucketSpec(this._url,e):this._bucket=w1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){v1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){v1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ts(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Lb(UT());{const o=Wb(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const E1="@firebase/storage",S1="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="storage";function x9(t,e,n){return t=We(t),w9(t,e,n)}function R9(t){return t=We(t),E9(t)}function P9(t,e){return t=We(t),k9(t,e)}function N9(t=va(),e){t=We(t);const r=as(t,JT).getImmediate({identifier:e}),i=_g("storage");return i&&A9(r,...i),r}function A9(t,e,n,r={}){I9(t,e,n,r)}function O9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new v0(n,r,i,e,An)}function D9(){Pn(new Rn(JT,O9,"PUBLIC").setMultipleInstances(!0)),He(E1,S1,""),He(E1,S1,"esm2017")}D9();const L9={apiKey:"AIzaSyCHcVkFs60jjyMtvM7P6xN6ZFkBkP2RbgI",authDomain:"sphere-auth-b729a.firebaseapp.com",projectId:"sphere-auth-b729a",storageBucket:"sphere-auth-b729a.appspot.com",messagingSenderId:"935243217293",appId:"1:935243217293:web:70a85af7ee4ab1a946a5c4",databaseUrl:"https://sphere-auth-b729a-default-rtdb.firebaseio.com/sphere"},Wh=Ph(L9);Ei(Wh);_b(Wh);const si=Dg(Wh),b9=N9(Wh),vr=({type:t,fullWidth:e,to:n,children:r,variant:i="solid ",onClick:s})=>{const o={width:e&&"100%"};return x.jsx(x.Fragment,{children:n?x.jsx(gn,{to:n,className:`btn ${i||""}`,children:r}):x.jsx("button",{style:o,type:t&&t,className:`btn ${i||""}`,onClick:s,children:r})})},rn=({className:t,value:e,placeholder:n,name:r,required:i=!0,type:s="text",textarea:o,onChange:l})=>x.jsxs("div",{className:`field ${e?"active":""}`,children:[x.jsx("div",{className:"field_label fs-14"}),x.jsx("div",{className:"field_input",children:o?x.jsx("textarea",{className:t,name:r,value:e||"",type:s,onChange:l,required:!0}):x.jsx("input",{className:t,name:r,value:e||"",type:s,onChange:l,required:!0,placeholder:n})})]}),ZT=({title:t,handleClick:e})=>{const[n,r]=M.useState(""),[i,s]=M.useState(""),[o,l]=M.useState("");return os(),x.jsxs("form",{className:hu.form,children:[x.jsx(rn,{className:hu.inputForm,type:"text",value:o,onChange:u=>l(u.target.value),placeholder:"Никнейм",required:!0}),x.jsx(rn,{className:hu.inputForm,type:"email",value:n,onChange:u=>r(u.target.value),placeholder:"name@mail.ru",required:!0}),x.jsx(rn,{className:hu.inputForm,type:"password",value:i,onChange:u=>s(u.target.value),placeholder:"Введите пароль",required:!0}),x.jsx(vr,{variant:"loginBtn",onClick:u=>{u.preventDefault(),e(n,i,o),r(""),s("")},type:SubmitEvent,children:x.jsx(gn,{to:"/Profile",children:t})})]})},M9="_login_1lfhe_1",F9="_headerText_1lfhe_24",C1={login:M9,headerText:F9};function Ke(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var U9=typeof Symbol=="function"&&Symbol.observable||"@@observable",T1=U9,Ef=()=>Math.random().toString(36).substring(7).split("").join("."),$9={INIT:`@@redux/INIT${Ef()}`,REPLACE:`@@redux/REPLACE${Ef()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ef()}`},Kc=$9;function y0(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function ek(t,e,n){if(typeof t!="function")throw new Error(Ke(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ke(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ke(1));return n(ek)(t,e)}let r=t,i=e,s=new Map,o=s,l=0,u=!1;function c(){o===s&&(o=new Map,s.forEach((N,S)=>{o.set(S,N)}))}function d(){if(u)throw new Error(Ke(3));return i}function f(N){if(typeof N!="function")throw new Error(Ke(4));if(u)throw new Error(Ke(5));let S=!0;c();const v=l++;return o.set(v,N),function(){if(S){if(u)throw new Error(Ke(6));S=!1,c(),o.delete(v),s=null}}}function m(N){if(!y0(N))throw new Error(Ke(7));if(typeof N.type>"u")throw new Error(Ke(8));if(typeof N.type!="string")throw new Error(Ke(17));if(u)throw new Error(Ke(9));try{u=!0,i=r(i,N)}finally{u=!1}return(s=o).forEach(v=>{v()}),N}function w(N){if(typeof N!="function")throw new Error(Ke(10));r=N,m({type:Kc.REPLACE})}function E(){const N=f;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(Ke(11));function v(){const A=S;A.next&&A.next(d())}return v(),{unsubscribe:N(v)}},[T1](){return this}}}return m({type:Kc.INIT}),{dispatch:m,subscribe:f,getState:d,replaceReducer:w,[T1]:E}}function j9(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Kc.INIT})>"u")throw new Error(Ke(12));if(typeof n(void 0,{type:Kc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ke(13))})}function z9(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{j9(n)}catch(s){i=s}return function(o={},l){if(i)throw i;let u=!1;const c={};for(let d=0;d<r.length;d++){const f=r[d],m=n[f],w=o[f],E=m(w,l);if(typeof E>"u")throw l&&l.type,new Error(Ke(14));c[f]=E,u=u||E!==w}return u=u||r.length!==Object.keys(o).length,u?c:o}}function qc(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function B9(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Ke(15))};const o={getState:i.getState,dispatch:(u,...c)=>s(u,...c)},l=t.map(u=>u(o));return s=qc(...l)(i.dispatch),{...i,dispatch:s}}}function V9(t){return y0(t)&&"type"in t&&typeof t.type=="string"}var tk=Symbol.for("immer-nothing"),k1=Symbol.for("immer-draftable"),qt=Symbol.for("immer-state");function vn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var lo=Object.getPrototypeOf;function ns(t){return!!t&&!!t[qt]}function yr(t){var e;return t?nk(t)||Array.isArray(t)||!!t[k1]||!!((e=t.constructor)!=null&&e[k1])||Kh(t)||qh(t):!1}var H9=Object.prototype.constructor.toString();function nk(t){if(!t||typeof t!="object")return!1;const e=lo(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===H9}function Yc(t,e){Gh(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Gh(t){const e=t[qt];return e?e.type_:Array.isArray(t)?1:Kh(t)?2:qh(t)?3:0}function Zp(t,e){return Gh(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function rk(t,e,n){const r=Gh(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function W9(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Kh(t){return t instanceof Map}function qh(t){return t instanceof Set}function Ni(t){return t.copy_||t.base_}function em(t,e){if(Kh(t))return new Map(t);if(qh(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=nk(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[qt];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[o]})}return Object.create(lo(t),r)}else{const r=lo(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function w0(t,e=!1){return Yh(t)||ns(t)||!yr(t)||(Gh(t)>1&&(t.set=t.add=t.clear=t.delete=G9),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>w0(r,!0))),t}function G9(){vn(2)}function Yh(t){return Object.isFrozen(t)}var K9={};function rs(t){const e=K9[t];return e||vn(0,t),e}var sa;function ik(){return sa}function q9(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function I1(t,e){e&&(rs("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function tm(t){nm(t),t.drafts_.forEach(Y9),t.drafts_=null}function nm(t){t===sa&&(sa=t.parent_)}function x1(t){return sa=q9(sa,t)}function Y9(t){const e=t[qt];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function R1(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[qt].modified_&&(tm(e),vn(4)),yr(t)&&(t=Xc(e,t),e.parent_||Qc(e,t)),e.patches_&&rs("Patches").generateReplacementPatches_(n[qt].base_,t,e.patches_,e.inversePatches_)):t=Xc(e,n,[]),tm(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==tk?t:void 0}function Xc(t,e,n){if(Yh(e))return e;const r=e[qt];if(!r)return Yc(e,(i,s)=>P1(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Qc(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),Yc(s,(l,u)=>P1(t,r,i,l,u,n,o)),Qc(t,i,!1),n&&t.patches_&&rs("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function P1(t,e,n,r,i,s,o){if(ns(i)){const l=s&&e&&e.type_!==3&&!Zp(e.assigned_,r)?s.concat(r):void 0,u=Xc(t,i,l);if(rk(n,r,u),ns(u))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(yr(i)&&!Yh(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Xc(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Qc(t,i)}}function Qc(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&w0(e,n)}function X9(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:ik(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=E0;n&&(i=[r],s=oa);const{revoke:o,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=o,l}var E0={get(t,e){if(e===qt)return t;const n=Ni(t);if(!Zp(n,e))return Q9(t,n,e);const r=n[e];return t.finalized_||!yr(r)?r:r===Sf(t.base_,e)?(Cf(t),t.copy_[e]=im(r,t)):r},has(t,e){return e in Ni(t)},ownKeys(t){return Reflect.ownKeys(Ni(t))},set(t,e,n){const r=sk(Ni(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Sf(Ni(t),e),s=i==null?void 0:i[qt];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(W9(n,i)&&(n!==void 0||Zp(t.base_,e)))return!0;Cf(t),rm(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Sf(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Cf(t),rm(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ni(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){vn(11)},getPrototypeOf(t){return lo(t.base_)},setPrototypeOf(){vn(12)}},oa={};Yc(E0,(t,e)=>{oa[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});oa.deleteProperty=function(t,e){return oa.set.call(this,t,e,void 0)};oa.set=function(t,e,n){return E0.set.call(this,t[0],e,n,t[0])};function Sf(t,e){const n=t[qt];return(n?Ni(n):t)[e]}function Q9(t,e,n){var i;const r=sk(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function sk(t,e){if(!(e in t))return;let n=lo(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=lo(n)}}function rm(t){t.modified_||(t.modified_=!0,t.parent_&&rm(t.parent_))}function Cf(t){t.copy_||(t.copy_=em(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var J9=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(u=s,...c){return o.produce(u,d=>n.call(this,d,...c))}}typeof n!="function"&&vn(6),r!==void 0&&typeof r!="function"&&vn(7);let i;if(yr(e)){const s=x1(this),o=im(e,void 0);let l=!0;try{i=n(o),l=!1}finally{l?tm(s):nm(s)}return I1(s,r),R1(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===tk&&(i=void 0),this.autoFreeze_&&w0(i,!0),r){const s=[],o=[];rs("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else vn(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...l)=>this.produceWithPatches(o,u=>e(u,...l));let r,i;return[this.produce(e,n,(o,l)=>{r=o,i=l}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){yr(t)||vn(8),ns(t)&&(t=Z9(t));const e=x1(this),n=im(t,void 0);return n[qt].isManual_=!0,nm(e),n}finishDraft(t,e){const n=t&&t[qt];(!n||!n.isManual_)&&vn(9);const{scope_:r}=n;return I1(r,e),R1(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=rs("Patches").applyPatches_;return ns(t)?r(t,e):this.produce(t,i=>r(i,e))}};function im(t,e){const n=Kh(t)?rs("MapSet").proxyMap_(t,e):qh(t)?rs("MapSet").proxySet_(t,e):X9(t,e);return(e?e.scope_:ik()).drafts_.push(n),n}function Z9(t){return ns(t)||vn(10,t),ok(t)}function ok(t){if(!yr(t)||Yh(t))return t;const e=t[qt];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=em(t,e.scope_.immer_.useStrictShallowCopy_)}else n=em(t,!0);return Yc(n,(r,i)=>{rk(n,r,ok(i))}),e&&(e.finalized_=!1),n}var Yt=new J9,lk=Yt.produce;Yt.produceWithPatches.bind(Yt);Yt.setAutoFreeze.bind(Yt);Yt.setUseStrictShallowCopy.bind(Yt);Yt.applyPatches.bind(Yt);Yt.createDraft.bind(Yt);Yt.finishDraft.bind(Yt);function ak(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var e6=ak(),t6=ak,n6=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?qc:qc.apply(null,arguments)};function N1(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(kn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>V9(r)&&r.type===t,n}var uk=class rl extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,rl.prototype)}static get[Symbol.species](){return rl}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new rl(...e[0].concat(this)):new rl(...e.concat(this))}};function A1(t){return yr(t)?lk(t,()=>{}):t}function O1(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(kn(10));const r=n.insert(e,t);return t.set(e,r),r}function r6(t){return typeof t=="boolean"}var i6=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new uk;return n&&(r6(n)?o.push(e6):o.push(t6(n.extraArgument))),o},s6="RTK_autoBatch",ck=t=>e=>{setTimeout(e,t)},o6=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ck(10),l6=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const l=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?o6:t.type==="callback"?t.queueNotification:ck(t.timeout),c=()=>{o=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>i&&d(),m=r.subscribe(f);return l.add(d),()=>{m(),l.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[s6]),s=!i,s&&(o||(o=!0,u(c))),r.dispatch(d)}finally{i=!0}}})},a6=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new uk(t);return r&&i.push(l6(typeof r=="object"?r:void 0)),i};function u6(t){const e=i6(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(y0(n))l=z9(n);else throw new Error(kn(1));let u;typeof r=="function"?u=r(e):u=e();let c=qc;i&&(c=n6({trace:!1,...typeof i=="object"&&i}));const d=B9(...u),f=a6(d);let m=typeof o=="function"?o(f):f();const w=c(...m);return ek(l,s,w)}function hk(t){const e={},n=[];let r;const i={addCase(s,o){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(kn(28));if(l in e)throw new Error(kn(29));return e[l]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function c6(t){return typeof t=="function"}function h6(t,e){let[n,r,i]=hk(e),s;if(c6(t))s=()=>A1(t());else{const l=A1(t);s=()=>l}function o(l=s(),u){let c=[n[u.type],...r.filter(({matcher:d})=>d(u)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,f)=>{if(f)if(ns(d)){const w=f(d,u);return w===void 0?d:w}else{if(yr(d))return lk(d,m=>f(m,u));{const m=f(d,u);if(m===void 0){if(d===null)return d;throw new Error(kn(9))}return m}}return d},l)}return o.getInitialState=s,o}var d6=Symbol.for("rtk-slice-createasyncthunk");function f6(t,e){return`${t}/${e}`}function p6({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[d6];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(kn(11));typeof process<"u";const l=(typeof i.reducers=="function"?i.reducers(g6()):i.reducers)||{},u=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(y,A){const b=typeof y=="string"?y:y.type;if(!b)throw new Error(kn(12));if(b in c.sliceCaseReducersByType)throw new Error(kn(13));return c.sliceCaseReducersByType[b]=A,d},addMatcher(y,A){return c.sliceMatchers.push({matcher:y,reducer:A}),d},exposeAction(y,A){return c.actionCreators[y]=A,d},exposeCaseReducer(y,A){return c.sliceCaseReducersByName[y]=A,d}};u.forEach(y=>{const A=l[y],b={reducerName:y,type:f6(s,y),createNotation:typeof i.reducers=="function"};v6(A)?w6(b,A,d,e):_6(b,A,d)});function f(){const[y={},A=[],b=void 0]=typeof i.extraReducers=="function"?hk(i.extraReducers):[i.extraReducers],U={...y,...c.sliceCaseReducersByType};return h6(i.initialState,C=>{for(let _ in U)C.addCase(_,U[_]);for(let _ of c.sliceMatchers)C.addMatcher(_.matcher,_.reducer);for(let _ of A)C.addMatcher(_.matcher,_.reducer);b&&C.addDefaultCase(b)})}const m=y=>y,w=new Map;let E;function P(y,A){return E||(E=f()),E(y,A)}function N(){return E||(E=f()),E.getInitialState()}function S(y,A=!1){function b(C){let _=C[y];return typeof _>"u"&&A&&(_=N()),_}function U(C=m){const _=O1(w,A,{insert:()=>new WeakMap});return O1(_,C,{insert:()=>{const T={};for(const[I,R]of Object.entries(i.selectors??{}))T[I]=m6(R,C,N,A);return T}})}return{reducerPath:y,getSelectors:U,get selectors(){return U(b)},selectSlice:b}}const v={name:s,reducer:P,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:N,...S(o),injectInto(y,{reducerPath:A,...b}={}){const U=A??o;return y.inject({reducerPath:U,reducer:P},b),{...v,...S(U,!0)}}};return v}}function m6(t,e,n,r){function i(s,...o){let l=e(s);return typeof l>"u"&&r&&(l=n()),t(l,...o)}return i.unwrapped=t,i}var Xh=p6();function g6(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function _6({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!y6(r))throw new Error(kn(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?N1(t,o):N1(t))}function v6(t){return t._reducerDefinitionType==="asyncThunk"}function y6(t){return t._reducerDefinitionType==="reducerWithPrepare"}function w6({type:t,reducerName:e},n,r,i){if(!i)throw new Error(kn(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:u,settled:c,options:d}=n,f=i(t,s,d);r.exposeAction(e,f),o&&r.addCase(f.fulfilled,o),l&&r.addCase(f.pending,l),u&&r.addCase(f.rejected,u),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(e,{fulfilled:o||_u,pending:l||_u,rejected:u||_u,settled:c||_u})}function _u(){}function kn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}async function E6(t){const e=Ei(),n=pi(e,"Profile/users");try{const s=[...(await Wc(n)).val()||[],t];console.log(s),await Hc(n,s),console.log("Пользователь добавлен")}catch(r){console.error("Ошибка при обновлении:",r)}}const S6={email:null,token:null,id:null,nickname:null},dk=Xh({name:"user",initialState:S6,reducers:{setUser(t,e){t.email=e.payload.email,t.nickname=e.payload.nickname,t.token=e.payload.token,t.id=e.payload.id,console.log(t.email),localStorage.setItem("user",JSON.stringify(t))},removeUser(t){t.email=null,t.token=null,t.id=null,t.nickname=null}}}),{setUser:fk,removeUser:_7}=dk.actions,C6=dk.reducer;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e,n){this._delegate=e,this.firebase=n,Kl(e,new Rn("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Cg(this._delegate)))}_getService(e,n=ui){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=ui){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Kl(this._delegate,e)}_addOrOverwriteComponent(e){TS(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},D1=new ls("app-compat","Firebase",k6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:He,setLogLevel:RS,onLog:xS,apps:null,SDK_VERSION:An,INTERNAL:{registerComponent:l,removeApp:r,useAsService:u,modularAPIs:I3}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(c){delete e[c]}function i(c){if(c=c||ui,!xn(e,c))throw D1.create("no-app",{appName:c});return e[c]}i.App=t;function s(c,d={}){const f=Ph(c,d);if(xn(e,f.name))return e[f.name];const m=new t(f,n);return e[f.name]=m,m}function o(){return Object.keys(e).map(c=>e[c])}function l(c){const d=c.name,f=d.replace("-compat","");if(Pn(c)&&c.type==="PUBLIC"){const m=(w=i())=>{if(typeof w[f]!="function")throw D1.create("invalid-app-argument",{appName:d});return w[f]()};c.serviceProps!==void 0&&Wl(m,c.serviceProps),n[f]=m,t.prototype[f]=function(...w){return this._getService.bind(this,d).apply(this,c.multipleInstances?w:[])}}return c.type==="PUBLIC"?n[f]:null}function u(c,d){return d==="serverAuth"?null:d}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(){const t=I6(T6);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:pk,extendNamespace:e,createSubscribe:yS,ErrorFactory:ls,deepExtend:Wl});function e(n){Wl(t,n)}return t}const x6=pk();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=new go("@firebase/app-compat"),R6="@firebase/app-compat",P6="0.2.41";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(t){He(R6,P6,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=hS();if(t.firebase!==void 0){L1.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&L1.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const A6=x6;N6();var O6="firebase",D6="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */A6.registerVersion(O6,D6,"app-compat");async function L6(t,e){const n=JSON.parse(localStorage.getItem("user"));console.log(e);const r=Ei(),i=pi(r,`messagesData/messages/${n.nickname}${e.user}`),s=pi(r,`messagesData/messages/${e.user}${n.nickname}`);try{const o=await Wc(i),l=await Wc(s),u=o.val()||[],c=l.val()||[],d=[...u,t],f=[...c,t];console.log(d),await Hc(i,d),await Hc(s,f),console.log("Сообщение успешно добавлено")}catch(o){console.error("Ошибка при обновлении:",o)}}const b6={user:null,message:null,date:null},mk=Xh({name:"messages",initialState:b6,reducers:{addMessage(t,e){let n={hour:"numeric",minute:"numeric",seconds:"numeric"};const r=Ei(),i=pi(r,"Profile/users/");Vh(i,s=>{const l=s.val().find(u=>u.email===si.currentUser.email);t.user=l.nickname}),t.message=e.payload,t.date=Intl.DateTimeFormat("ru-Us",n).format()},removeMessage(t){t.user=null,t.message=null,t.date=null},addUser(t,e){t.user=e.payload,console.log(t.user)}}}),{addMessage:M6,addUser:F6,removeMessage:U6}=mk.actions,$6=mk.reducer,j6=()=>{const t=os(),e=async(n,r,i)=>{const s=await Dg();await C4(s,n,r).then(({user:o})=>{t(F6(n)),console.log(o),t(fk({email:o.email,id:o.uid,nickname:i,token:o.accessToken}))}).catch(console.error())};return x.jsx("div",{className:"container",children:x.jsxs("div",{className:C1.login,children:[x.jsx("h1",{className:C1.headerText,children:" Войдите в аккаунт "}),x.jsx(ZT,{title:"Войти",handleClick:e}),x.jsxs("p",{children:["Нет аккаунта?",x.jsx(gn,{to:"/Register",children:" Регистрация "})]})]})})},z6=()=>x.jsxs("div",{className:"navAuth",children:[x.jsx(vr,{variant:"solid",children:x.jsx(gn,{to:"/Login",children:"Войти"})}),x.jsx(vr,{variant:"outline",children:x.jsx(gn,{to:"/Register",children:"Регистрация"})})]}),B6="data:image/svg+xml,%3csvg%20width='23'%20height='24'%20viewBox='0%200%2023%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M21.9329%209.56932L12.2362%200.648368C11.921%200.358355%2011.5059%200.201404%2011.0776%200.210321C10.6494%200.219239%2010.2412%200.393335%209.93828%200.69622L1.02017%209.61438L0.5625%2010.072V23.2192H9.15625V15.0161H13.8438V23.2192H22.4375V10.0336L21.9329%209.56932ZM11.1112%201.77249C11.125%201.77249%2011.1165%201.77547%2011.1106%201.78128C11.1045%201.77547%2011.0975%201.77249%2011.1112%201.77249ZM20.875%2021.6567H15.4062V15.0161C15.4062%2014.6017%2015.2416%2014.2043%2014.9486%2013.9112C14.6556%2013.6182%2014.2582%2013.4536%2013.8438%2013.4536H9.15625C8.74185%2013.4536%208.34442%2013.6182%208.0514%2013.9112C7.75837%2014.2043%207.59375%2014.6017%207.59375%2015.0161V21.6567H2.125V10.7192L11.1112%201.80105C11.1119%201.80047%2011.1119%201.79993%2011.1124%201.79934L20.875%2010.7192V21.6567Z'%20fill='black'/%3e%3c/svg%3e",V6="data:image/svg+xml,%3csvg%20width='22'%20height='23'%20viewBox='0%200%2022%2023'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M22%2011C22%204.92487%2017.0751%200%2011%200C4.92487%200%200%204.92487%200%2011C0%2017.0751%204.92487%2022%2011%2022C12.326%2022%2014.1475%2021.5163%2016.4645%2020.5489L20.2113%2022.0104L20.3223%2022.0465C20.8067%2022.1735%2021.3199%2021.92%2021.5063%2021.4422C21.5808%2021.2511%2021.5948%2021.0418%2021.5464%2020.8425L20.5016%2016.546L20.6727%2016.1367C21.5576%2013.9813%2022%2012.2691%2022%2011ZM19.2714%2015.6004L18.9265%2016.4169L19.862%2020.2641L16.4454%2018.9313L15.5123%2019.3183C13.5445%2020.1124%2012.0245%2020.5%2011%2020.5C5.75329%2020.5%201.5%2016.2467%201.5%2011C1.5%205.75329%205.75329%201.5%2011%201.5C16.2467%201.5%2020.5%205.75329%2020.5%2011C20.5%2012.0455%2020.097%2013.5952%2019.2714%2015.6004Z'%20fill='%23262626'/%3e%3c/svg%3e",H6="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M19.5%209.75C19.5%204.36522%2015.1348%200%209.75%200C4.36522%200%200%204.36522%200%209.75C0%2015.1348%204.36522%2019.5%209.75%2019.5C12.1726%2019.5%2014.3888%2018.6164%2016.094%2017.154L22.0836%2023.1443L22.1677%2023.2169C22.4614%2023.4348%2022.878%2023.4106%2023.1443%2023.1443C23.4372%2022.8514%2023.4372%2022.3765%2023.1443%2022.0836L17.154%2016.094C18.6164%2014.3888%2019.5%2012.1726%2019.5%209.75ZM1.5%209.75C1.5%205.19365%205.19365%201.5%209.75%201.5C14.3063%201.5%2018%205.19365%2018%209.75C18%2014.3063%2014.3063%2018%209.75%2018C5.19365%2018%201.5%2014.3063%201.5%209.75Z'%20fill='%23262626'/%3e%3c/svg%3e",W6="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M16.75%200C20.4779%200%2023.5%203.02208%2023.5%206.75V16.75C23.5%2020.4779%2020.4779%2023.5%2016.75%2023.5H6.75C3.02208%2023.5%200%2020.4779%200%2016.75V6.75C0%203.02208%203.02208%200%206.75%200H16.75ZM16.75%201.5H6.75C3.85051%201.5%201.5%203.85051%201.5%206.75V16.75C1.5%2019.6495%203.85051%2022%206.75%2022H16.75C19.6495%2022%2022%2019.6495%2022%2016.75V6.75C22%203.85051%2019.6495%201.5%2016.75%201.5ZM12.4932%205.64823C12.4435%205.28215%2012.1297%205%2011.75%205L11.6482%205.00685L11.5506%205.02679C11.2332%205.11411%2011%205.40482%2011%205.75V10.999L5.75%2011L5.64823%2011.0068C5.28215%2011.0565%205%2011.3703%205%2011.75L5.00685%2011.8518C5.05651%2012.2178%205.3703%2012.5%205.75%2012.5L11%2012.499V17.75L11.0068%2017.8518C11.0565%2018.2178%2011.3703%2018.5%2011.75%2018.5L11.8518%2018.4932C12.2178%2018.4435%2012.5%2018.1297%2012.5%2017.75V12.5H17.75L17.8518%2012.4932C18.2178%2012.4435%2018.5%2012.1297%2018.5%2011.75L18.4932%2011.6482C18.4435%2011.2822%2018.1297%2011%2017.75%2011H12.5V5.75L12.4932%205.64823Z'%20fill='%23262626'/%3e%3c/svg%3e",G6="data:image/svg+xml,%3csvg%20width='25'%20height='22'%20viewBox='0%200%2025%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M12.6225%203.40511L11.9675%202.63951C9.33142%200.00346732%205.12761%200.1831%202.49157%202.81914C-0.144471%205.45518%200.362841%2010.5515%202.99888%2013.1875C4.06874%2014.2574%205.67092%2015.7387%207.80542%2017.6315L9.60115%2019.2112L11.6181%2020.962C12.1734%2021.4413%2012.9939%2021.4486%2013.5577%2020.9793L15.1916%2019.6094C18.0529%2017.1913%2020.1762%2015.2866%2021.5615%2013.8954L21.921%2013.5288L22.2439%2013.1875C24.6989%2010.5401%2025.3298%205.39387%2022.755%202.81914L22.5685%202.63951C19.9211%200.184526%2015.929%200.0647707%2013.3542%202.63951L12.6225%203.40511ZM3.55223%203.8798C5.63666%201.79537%208.86137%201.69765%2010.868%203.66183L12.5611%205.64048L14.4386%203.67588C16.3645%201.75055%2019.4338%201.77838%2021.5486%203.73939L21.7145%203.89958C23.5339%205.71937%2023.2244%209.92411%2021.144%2012.1676L20.8315%2012.4977L20.4848%2012.8512C19.3364%2014.0037%2017.6345%2015.5478%2015.3905%2017.4708L14.2234%2018.4638L12.5981%2019.8264L10.5844%2018.0785L9.14319%2016.8125C7.11239%2015.0176%205.54575%2013.582%204.44885%2012.5113L4.05954%2012.1269C1.888%209.95535%201.6164%205.81563%203.55223%203.8798Z'%20fill='%23262626'/%3e%3c/svg%3e",K6="data:image/svg+xml,%3csvg%20width='18'%20height='19'%20viewBox='0%200%2018%2019'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9%200C8.0111%200%207.0444%200.293245%206.22215%200.842652C5.3999%201.39206%204.75904%202.17295%204.3806%203.08658C4.00217%204.00021%203.90315%205.00555%204.09607%205.97545C4.289%206.94536%204.7652%207.83627%205.46447%208.53553C6.16373%209.2348%207.05465%209.711%208.02455%209.90393C8.99446%2010.0969%209.99979%209.99784%2010.9134%209.6194C11.8271%209.24096%2012.6079%208.6001%2013.1574%207.77785C13.7068%206.95561%2014%205.98891%2014%205C14%203.67392%2013.4732%202.40215%2012.5355%201.46447C11.5979%200.526784%2010.3261%200%209%200ZM9%208C8.40666%208%207.82664%207.82405%207.33329%207.49441C6.83994%207.16476%206.45543%206.69623%206.22836%206.14805C6.0013%205.59987%205.94189%204.99667%206.05765%204.41473C6.1734%203.83279%206.45912%203.29824%206.87868%202.87868C7.29824%202.45912%207.83279%202.1734%208.41473%202.05764C8.99667%201.94189%209.59987%202.0013%2010.1481%202.22836C10.6962%202.45542%2011.1648%202.83994%2011.4944%203.33329C11.8241%203.82664%2012%204.40666%2012%205C12%205.79565%2011.6839%206.55871%2011.1213%207.12132C10.5587%207.68393%209.79565%208%209%208ZM18%2019V18C18%2016.1435%2017.2625%2014.363%2015.9498%2013.0503C14.637%2011.7375%2012.8565%2011%2011%2011H7C5.14349%2011%203.36301%2011.7375%202.05025%2013.0503C0.737498%2014.363%200%2016.1435%200%2018V19H2V18C2%2016.6739%202.52678%2015.4021%203.46447%2014.4645C4.40215%2013.5268%205.67392%2013%207%2013H11C12.3261%2013%2013.5979%2013.5268%2014.5355%2014.4645C15.4732%2015.4021%2016%2016.6739%2016%2018V19H18Z'%20fill='black'/%3e%3c/svg%3e",q6={isOpen:!1},gk=Xh({name:"modal",initialState:q6,reducers:{openModal(t){t.isOpen=!0},closeModal(t){t.isOpen=!1}}}),{openModal:Y6,closeModal:sm}=gk.actions,X6=gk.reducer,Q6=()=>{const t=os(),e=()=>{t(Y6())};return x.jsx("div",{className:"navUser",children:x.jsxs("ul",{className:"navUser-list",children:[x.jsx("li",{className:"navUser-list-li",children:x.jsx(gn,{to:"/",children:x.jsx("img",{src:B6,alt:""})})}),x.jsx("li",{className:"navUser-list-li",children:x.jsx(gn,{to:"/Direct",children:x.jsx("img",{src:V6,alt:""})})}),x.jsx("li",{className:"navUser-list-li",children:x.jsx(gn,{to:"/Explore",children:x.jsx("img",{src:H6,alt:""})})}),x.jsx("li",{className:"navUser-list-li",children:x.jsx(vr,{variant:"navUserBtn",onClick:e,children:x.jsx("img",{src:W6,alt:""})})}),x.jsx("li",{className:"navUser-list-li",children:x.jsx(gn,{to:"/Favorites",children:x.jsx("img",{src:G6,alt:""})})}),x.jsx("li",{className:"navUser-list-li",children:x.jsx(gn,{to:"/Profile",children:x.jsx("img",{src:K6,alt:""})})})]})})},J6="/sphere_connect/assets/Instagram%20Logo-gKXp0JIz.svg",Z6=()=>{const[t,e]=M.useState(0);return M.useEffect(()=>{e(t+1)},[si.currentUser]),console.log(si),x.jsx("div",{className:"navbar",children:x.jsx("div",{className:"container",children:x.jsxs("div",{className:"navbar-wrap",children:[x.jsx("div",{className:"navbar-logo",children:x.jsx("img",{src:J6,alt:""})}),x.jsx("form",{className:"navbar-form",children:x.jsx(rn,{placeholder:"Search"})}),si.currentUser?x.jsx(Q6,{}):x.jsx(z6,{})]})})})},eM="data:image/svg+xml,%3csvg%20width='15'%20height='17'%20viewBox='0%200%2015%2017'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0.975609%208.66692L7.48116%202.16138C8.12821%201.51432%209.00581%201.15081%209.92088%201.15081C10.836%201.15081%2011.7136%201.51432%2012.3606%202.16138C13.0077%202.80843%2013.3712%203.68603%2013.3712%204.6011C13.3712%205.51617%2013.0077%206.39377%2012.3606%207.04082L4.63491%2014.7654C4.30957%2015.0796%203.87383%2015.2535%203.42154%2015.2495C2.96925%2015.2456%202.5366%2015.0642%202.21677%2014.7444C1.89694%2014.4245%201.71553%2013.9919%201.7116%2013.5396C1.70767%2013.0873%201.88154%2012.6516%202.19576%2012.3262L9.10726%205.41472C9.21523%205.30691%209.27595%205.16062%209.27605%205.00803C9.27616%204.85545%209.21565%204.70907%209.10783%204.6011C9.00002%204.49313%208.85373%204.43241%208.70114%204.4323C8.54856%204.4322%208.40218%204.49271%208.29421%204.60052L1.38271%2011.512C0.847366%2012.0519%200.547684%2012.7819%200.54924%2013.5422C0.550797%2014.3025%200.853465%2015.0313%201.39101%2015.569C1.92856%2016.1067%202.65722%2016.4095%203.41754%2016.4113C4.17785%2016.4131%204.90791%2016.1136%205.44796%2015.5784L13.1737%207.85387C14.0365%206.99118%2014.5213%205.82107%2014.5214%204.60093C14.5215%203.3808%2014.0369%202.21059%2013.1742%201.34775C12.3115%200.484908%2011.1414%200.000107851%209.92129%201.79927e-08C8.70116%20-0.000107815%207.53095%200.484485%206.66811%201.34717L0.161409%207.85387C0.0566684%207.96232%20-0.00128835%208.10757%202.17365e-05%208.25833C0.00133183%208.40909%200.0618038%208.55331%200.168414%208.65992C0.275023%208.76653%200.419241%208.827%200.570004%208.82831C0.720767%208.82962%200.867163%208.77166%200.975609%208.66692Z'%20fill='black'/%3e%3c/svg%3e",tM="data:image/svg+xml,%3csvg%20width='23'%20height='23'%20viewBox='0%200%2023%2023'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18.2917%2010.0625V6.70833C18.2917%206.45417%2018.1907%206.21041%2018.011%206.03069C17.8313%205.85097%2017.5875%205.75%2017.3333%205.75H5.83333C5.57917%205.75%205.33541%205.85097%205.15569%206.03069C4.97597%206.21041%204.875%206.45417%204.875%206.70833V16.2917C4.875%2016.5458%204.97597%2016.7896%205.15569%2016.9693C5.33541%2017.149%205.57917%2017.25%205.83333%2017.25H17.3333C17.5875%2017.25%2017.8313%2017.149%2018.011%2016.9693C18.1907%2016.7896%2018.2917%2016.5458%2018.2917%2016.2917V12.9375L22.125%2016.7708V6.22917L18.2917%2010.0625Z'%20fill='black'/%3e%3c/svg%3e";async function nM(t,e){const n=Ei(),r=pi(n,"post");try{const o=[...(await Wc(r)).val()||[],t];await Hc(r,o),console.log("пост добавлен")}catch(i){console.error("ощибка",i)}}const rM={array:[]},_k=Xh({name:"user",initialState:rM,reducers:{addPost(t,e){t.array.push(e.payload)}}}),{addPost:iM}=_k.actions,sM=_k.reducer,oM=()=>{const t=Yi(S=>S.modal.isOpen),e=os(),[n,r]=M.useState(""),[i,s]=M.useState(0),[o,l]=M.useState(null),[u,c]=M.useState(null),[d,f]=M.useState(""),[m,w]=M.useState(!1);if(!t)return null;const E=async S=>{if(S.preventDefault(),!o){f("Пожалуйста, добавьте фото перед добавлением поста.");return}if(n.trim()===""){f("Пожалуйста, добавьте текст перед добавлением поста.");return}f(""),w(!0);try{const v=P9(b9,`posts/${o.name}`),y=x9(v,o);y.on("state_changed",A=>{},A=>{f("Ошибка при загрузке изображения. Пожалуйста, попробуйте снова."),w(!1)},async()=>{const A=await R9(y.snapshot.ref),b={email:si.currentUser.email,like:i,img:A,text:n,id:Date.now()};e(iM(b)),nM(b,o),r(""),l(null),c(null),w(!1),e(sm())})}catch{f("Ошибка при загрузке изображения."),w(!1)}},P=()=>{e(sm())},N=S=>{const y=S.target.files[0];if(y){const A=URL.createObjectURL(y);l(y),console.log(y),c(A),f("")}};return x.jsx("div",{className:"container",children:x.jsxs("div",{className:"addPost",children:[x.jsx("h1",{className:"addPost-title",children:"Add Post"}),x.jsx("form",{className:"addPost-form",children:x.jsx("textarea",{value:n,onChange:S=>r(S.target.value),type:"text",className:"addPost-form-input",placeholder:"user01, What`s new? ",maxLength:"200"})}),d&&x.jsx("div",{className:"addPost-error",children:d}),x.jsxs("div",{className:"addPost-information",children:[x.jsxs("div",{className:"addPost-information-lenght",children:[n.length,"/200"]}),x.jsxs("div",{className:"addPost-information-img",children:[x.jsxs("label",{htmlFor:"file",className:"fileLabel",children:[x.jsx("input",{type:"file",onChange:N,id:"file"}),x.jsx("img",{src:eM,alt:"Upload"})]}),o&&x.jsx("img",{className:"image",src:u,alt:"Preview"}),x.jsx("img",{src:tM,alt:"Video"})]})]}),x.jsxs("form",{className:"addPost-form",children:[x.jsx(vr,{variant:"addPost-btn",fullWidth:!0,onClick:E,disabled:m,children:m?"Uploading...":"Add"}),x.jsx(vr,{variant:"closePost-btn",fullWidth:!0,onClick:P,disabled:m,children:"Close"})]})]})})},lM=()=>{const t=Yi(r=>r.modal.isOpen),e=os();if(!t)return null;const n=()=>{e(sm()),console.log(1233)};return x.jsx("div",{className:"modal",children:x.jsxs("div",{className:"modal-content",children:[n,x.jsx(oM,{})]})})},aM="_register_15jhq_1",uM="_headerText_15jhq_24",b1={register:aM,headerText:uM},vk=()=>{const t=os();Yi(n=>n.user);const e=(n,r,i)=>{const s=Dg();S4(s,n,r).then(({user:o})=>{console.log(o);const l={email:o.email,nickname:i,id:o.uid,token:o.accessToken};t(fk({email:o.email,id:o.uid,nickname:i,token:o.accessToken})),E6(l),localStorage.setItem("userNick",JSON.stringify(l))}).catch("Ща узнаем")};return x.jsx("div",{className:"container",children:x.jsxs("div",{className:b1.register,children:[x.jsx("h1",{className:b1.headerText,children:" Создайте аккаунт "}),x.jsx(ZT,{title:"Зарегистрироваться",handleClick:e}),x.jsxs("p",{children:["Есть аккаунт? Нажми",x.jsx(gn,{to:"/Login",children:" войти "})]})]})})},cM=()=>x.jsx("div",{children:x.jsxs(mN,{children:[x.jsx(xp,{path:"/Login",element:x.jsx(j6,{})}),x.jsx(xp,{path:"/Register",element:x.jsx(vk,{})})]})}),hM=()=>{const[t,e]=M.useState(null);return M.useEffect(()=>{const n=I4(si,r=>{e(!!r)});return()=>n()},[]),x.jsxs("div",{children:[x.jsx(Z6,{}),t===!1?x.jsx(cM,{}):x.jsx(fN,{})]})},dM="data:image/svg+xml,%3csvg%20width='27'%20height='23'%20viewBox='0%200%2027%2023'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1.11426%207.27249C1.11426%202.41541%205.01327%201.31152%207.24128%201.31152C10.0263%201.31152%2012.2543%203.51929%2013.3683%205.17511C14.4823%203.51929%2016.7103%201.31152%2019.4953%201.31152C21.7233%201.31152%2025.6224%202.41541%2025.6224%207.27249C25.6224%2014.5581%2013.3683%2021.1814%2013.3683%2021.1814C13.3683%2021.1814%201.11426%2014.5581%201.11426%207.27249Z'%20stroke='black'%20stroke-width='2'/%3e%3c/svg%3e",fM="data:image/svg+xml,%3csvg%20width='23'%20height='23'%20viewBox='0%200%2023%2023'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.8109%200.208008C5.66832%200.208008%200.670898%204.16984%200.670898%209.03907C0.670898%2012.2492%202.78528%2015.1281%206.24092%2016.6934V22.2857L12.1897%2017.8646C18.1574%2017.7067%2022.951%2013.8078%2022.951%209.03907C22.951%204.16984%2017.9536%200.208008%2011.8109%200.208008ZM11.8109%2015.6624H11.44L8.46893%2017.8701V15.202L7.75485%2014.9294C4.7593%2013.7869%202.89891%2011.5294%202.89891%209.03907C2.89891%205.38632%206.89707%202.41577%2011.8109%202.41577C16.7248%202.41577%2020.723%205.38632%2020.723%209.03907C20.723%2012.6918%2016.7248%2015.6624%2011.8109%2015.6624Z'%20fill='black'/%3e%3c/svg%3e",pM="data:image/svg+xml,%3csvg%20width='21'%20height='27'%20viewBox='0%200%2021%2027'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0.603516%203.31165C0.603516%202.43334%200.955619%201.59101%201.58237%200.969959C2.20912%200.348905%203.05917%200%203.94553%200L17.3136%200C18.1999%200%2019.05%200.348905%2019.6767%200.969959C20.3035%201.59101%2020.6556%202.43334%2020.6556%203.31165V25.6653C20.6555%2025.815%2020.6145%2025.9619%2020.5368%2026.0904C20.4591%2026.2189%2020.3477%2026.324%2020.2145%2026.3947C20.0812%2026.4654%2019.9311%2026.499%2019.7802%2026.4918C19.6292%2026.4846%2019.483%2026.437%2019.3572%2026.3541L10.6296%2021.6929L1.90189%2026.3541C1.77607%2026.437%201.6299%2026.4846%201.47894%2026.4918C1.32798%2026.499%201.1779%2026.4654%201.04466%2026.3947C0.911425%2026.324%200.800033%2026.2189%200.722348%2026.0904C0.644663%2025.9619%200.603594%2025.815%200.603516%2025.6653V3.31165ZM3.94553%201.65582C3.50235%201.65582%203.07732%201.83028%202.76395%202.1408C2.45057%202.45133%202.27452%202.87249%202.27452%203.31165V24.1187L10.1667%2020.009C10.3038%2019.9185%2010.4648%2019.8703%2010.6296%2019.8703C10.7943%2019.8703%2010.9553%2019.9185%2011.0924%2020.009L18.9846%2024.1187V3.31165C18.9846%202.87249%2018.8085%202.45133%2018.4952%202.1408C18.1818%201.83028%2017.7568%201.65582%2017.3136%201.65582H3.94553Z'%20fill='black'/%3e%3c/svg%3e",yk=({post:t,isProfile:e})=>(console.log(t.img),x.jsx(x.Fragment,{children:e?x.jsx("div",{className:"cardPost-profile-img",children:x.jsx("img",{src:t.img,alt:""})}):x.jsxs("div",{className:"cardPost",children:[x.jsx("div",{className:"cardPost-img",children:x.jsx("video",{width:"100%",height:"100%",loop:"loop",className:"cardPost-img",src:t.img,alt:"",autoPlay:"autoplay",poster:t.img})}),x.jsxs("div",{className:"cardPost-lower",children:[x.jsxs("div",{className:"cardPost-lower-info",children:[x.jsxs("div",{className:"cardPost-lower-info-like",children:[x.jsxs("div",{children:[x.jsx("img",{src:dM,alt:""})," ",x.jsx("span",{children:"0"})]}),x.jsxs("div",{children:[x.jsx("img",{src:fM,alt:""})," ",x.jsx("span",{children:"0"})]})]}),x.jsx("div",{className:"cardPost-lower-info-favorites",children:x.jsx("img",{src:pM,alt:""})})]}),x.jsx("div",{className:"cardPost-lower-descriptions",children:x.jsxs("p",{children:[x.jsx("strong",{children:t.email}),t.text]})}),x.jsx("div",{className:"cardPost-lower-hashtag",children:x.jsx("span",{children:"#ramazoty"})})]}),x.jsxs("form",{action:"",className:"cardPost-form",children:[x.jsx(rn,{className:"cardPost-form-input",placeholder:"Введите коммент",type:"text"}),x.jsx(vr,{variant:"cardPostBtn",children:"Add"})]})]})})),mM=()=>{const t=Yi(i=>i.post.array),[e,n]=M.useState([]);M.useEffect(()=>{const i=Ei(),s=pi(i,"post"),o=Vh(s,l=>{const u=l.val()||[];n(u)});return()=>o()},[]);const r=[...e,...t.filter(i=>!e.some(s=>s.id===i.id))];return x.jsx("div",{className:"container",children:r.length>0?r.reverse().map((i,s)=>x.jsx(yk,{post:i},i.id||s)):x.jsx("p",{children:"No posts yet"})})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh="10.13.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=new go("@firebase/firestore");function gM(t,...e){if(Jc.logLevel<=ie.DEBUG){const n=e.map(wk);Jc.debug(`Firestore (${Qh}): ${t}`,...n)}}function _M(t,...e){if(Jc.logLevel<=ie.ERROR){const n=e.map(wk);Jc.error(`Firestore (${Qh}): ${t}`,...n)}}function wk(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(t="Unexpected state"){const e=`FIRESTORE (${Qh}) INTERNAL ASSERTION FAILED: `+t;throw _M(e),new Error(e)}function Ek(t,e){t||vM()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr="invalid-argument",M1="failed-precondition";class Fn extends cn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(en.UNAUTHENTICATED))}shutdown(){}}class EM{constructor(e){this.auth=null,e.onInit(n=>{this.auth=n})}getToken(){return this.auth?this.auth.getToken().then(e=>e?(Ek(typeof e.accessToken=="string"),new yM(e.accessToken,new en(this.auth.getUid()))):null):Promise.resolve(null)}invalidateToken(){}start(e,n){}shutdown(){}}class SM{constructor(e,n,r){this.t=e,this.i=n,this.o=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.u=new Map}l(){return this.o?this.o():null}get headers(){this.u.set("X-Goog-AuthUser",this.t);const e=this.l();return e&&this.u.set("Authorization",e),this.i&&this.u.set("X-Goog-Iam-Authorization-Token",this.i),this.u}}class CM{constructor(e,n,r){this.t=e,this.i=n,this.o=r}getToken(){return Promise.resolve(new SM(this.t,this.i,this.o))}start(e,n){e.enqueueRetryable(()=>n(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kM{constructor(e){this.h=e,this.appCheck=null,e.onInit(n=>{this.appCheck=n})}getToken(){return this.appCheck?this.appCheck.getToken().then(e=>e?(Ek(typeof e.token=="string"),new TM(e.token)):null):Promise.resolve(null)}invalidateToken(){}start(e,n){}shutdown(){}}class Zc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Zc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Zc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F1,re;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(re=F1||(F1={}))[re.OK=0]="OK",re[re.CANCELLED=1]="CANCELLED",re[re.UNKNOWN=2]="UNKNOWN",re[re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",re[re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",re[re.NOT_FOUND=5]="NOT_FOUND",re[re.ALREADY_EXISTS=6]="ALREADY_EXISTS",re[re.PERMISSION_DENIED=7]="PERMISSION_DENIED",re[re.UNAUTHENTICATED=16]="UNAUTHENTICATED",re[re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",re[re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",re[re.ABORTED=10]="ABORTED",re[re.OUT_OF_RANGE=11]="OUT_OF_RANGE",re[re.UNIMPLEMENTED=12]="UNIMPLEMENTED",re[re.INTERNAL=13]="INTERNAL",re[re.UNAVAILABLE=14]="UNAVAILABLE",re[re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=new Map;class $1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Fn(Lr,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Fn(Lr,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(s,o,l,u){if(o===!0&&u===!0)throw new Fn(Lr,`${s} and ${l} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Fn(Lr,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Fn(Lr,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Fn(Lr,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xM{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Fn(M1,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Fn(M1,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new wM;switch(r.type){case"firstParty":return new CM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Fn(Lr,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=U1.get(n);r&&(gM("ComponentProvider","Removing Datastore"),U1.delete(n),r.terminate())}(this),Promise.resolve()}}(function(){(function(n){Qh=n})(`${An}_lite`),Pn(new Rn("firestore/lite",(e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),s=new xM(new EM(e.getProvider("auth-internal")),new kM(e.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Fn(Lr,'"projectId" not provided in firebase.initializeApp.');return new Zc(l.options.projectId,u)}(i,n),i);return r&&s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),He("firestore-lite","4.7.2",""),He("firestore-lite","4.7.2","esm2017")})();const RM="_one_7tos3_1",PM="_oneParent_7tos3_27",NM="_two_7tos3_43",AM="_liContain_7tos3_73",OM="_messageContainer_7tos3_119",DM="_messageUsers_7tos3_135",LM="_parentContain_7tos3_151",bM="_formContain_7tos3_157",MM="_message_7tos3_119",FM="_userList_7tos3_183",UM="_form_7tos3_157",$M="_users_7tos3_213",jM="_user_7tos3_183",zM="_img_7tos3_235",It={one:RM,oneParent:PM,two:NM,liContain:AM,messageContainer:OM,messageUsers:DM,parentContain:LM,formContain:bM,message:MM,userList:FM,form:UM,users:$M,user:jM,img:zM};var So={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sk=M;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ct=Object.prototype.hasOwnProperty,BM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,j1={},z1={};function Ck(t){return Ct.call(z1,t)?!0:Ct.call(j1,t)?!1:BM.test(t)?z1[t]=!0:(j1[t]=!0,!1)}function Et(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Je[t]=new Et(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Je[e]=new Et(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Je[t]=new Et(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Je[t]=new Et(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Je[t]=new Et(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Je[t]=new Et(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Je[t]=new Et(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Je[t]=new Et(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Je[t]=new Et(t,5,!1,t.toLowerCase(),null,!1,!1)});var S0=/[\-:]([a-z])/g;function C0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(S0,C0);Je[e]=new Et(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(S0,C0);Je[e]=new Et(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(S0,C0);Je[e]=new Et(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Je[t]=new Et(t,1,!1,t.toLowerCase(),null,!1,!1)});Je.xlinkHref=new Et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Je[t]=new Et(t,1,!1,t.toLowerCase(),null,!0,!0)});var $u={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VM=["Webkit","ms","Moz","O"];Object.keys($u).forEach(function(t){VM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$u[e]=$u[t]})});var HM=/["'&<>]/;function mt(t){if(typeof t=="boolean"||typeof t=="number")return""+t;t=""+t;var e=HM.exec(t);if(e){var n="",r,i=0;for(r=e.index;r<t.length;r++){switch(t.charCodeAt(r)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}i!==r&&(n+=t.substring(i,r)),i=r+1,n+=e}t=i!==r?n+t.substring(i,r):n}return t}var WM=/([A-Z])/g,GM=/^ms-/,om=Array.isArray;function Jn(t,e){return{insertionMode:t,selectedValue:e}}function KM(t,e,n){switch(e){case"select":return Jn(1,n.value!=null?n.value:n.defaultValue);case"svg":return Jn(2,null);case"math":return Jn(3,null);case"foreignObject":return Jn(1,null);case"table":return Jn(4,null);case"thead":case"tbody":case"tfoot":return Jn(5,null);case"colgroup":return Jn(7,null);case"tr":return Jn(6,null)}return 4<=t.insertionMode||t.insertionMode===0?Jn(1,null):t}var B1=new Map;function Tk(t,e,n){if(typeof n!="object")throw Error(q(62));e=!0;for(var r in n)if(Ct.call(n,r)){var i=n[r];if(i!=null&&typeof i!="boolean"&&i!==""){if(r.indexOf("--")===0){var s=mt(r);i=mt((""+i).trim())}else{s=r;var o=B1.get(s);o!==void 0||(o=mt(s.replace(WM,"-$1").toLowerCase().replace(GM,"-ms-")),B1.set(s,o)),s=o,i=typeof i=="number"?i===0||Ct.call($u,r)?""+i:i+"px":mt((""+i).trim())}e?(e=!1,t.push(' style="',s,":",i)):t.push(";",s,":",i)}}e||t.push('"')}function bt(t,e,n,r){switch(n){case"style":Tk(t,e,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(e=Je.hasOwnProperty(n)?Je[n]:null,e!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!e.acceptsBooleans)return}switch(n=e.attributeName,e.type){case 3:r&&t.push(" ",n,'=""');break;case 4:r===!0?t.push(" ",n,'=""'):r!==!1&&t.push(" ",n,'="',mt(r),'"');break;case 5:isNaN(r)||t.push(" ",n,'="',mt(r),'"');break;case 6:!isNaN(r)&&1<=r&&t.push(" ",n,'="',mt(r),'"');break;default:e.sanitizeURL&&(r=""+r),t.push(" ",n,'="',mt(r),'"')}}else if(Ck(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(e=n.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-")return}t.push(" ",n,'="',mt(r),'"')}}}function ju(t,e,n){if(e!=null){if(n!=null)throw Error(q(60));if(typeof e!="object"||!("__html"in e))throw Error(q(61));e=e.__html,e!=null&&t.push(""+e)}}function qM(t){var e="";return Sk.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function Tf(t,e,n,r){t.push(Dn(n));var i=n=null,s;for(s in e)if(Ct.call(e,s)){var o=e[s];if(o!=null)switch(s){case"children":n=o;break;case"dangerouslySetInnerHTML":i=o;break;default:bt(t,r,s,o)}}return t.push(">"),ju(t,i,n),typeof n=="string"?(t.push(mt(n)),null):n}var YM=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,V1=new Map;function Dn(t){var e=V1.get(t);if(e===void 0){if(!YM.test(t))throw Error(q(65,t));e="<"+t,V1.set(t,e)}return e}function XM(t,e,n,r,i){switch(e){case"select":t.push(Dn("select"));var s=null,o=null;for(d in n)if(Ct.call(n,d)){var l=n[d];if(l!=null)switch(d){case"children":s=l;break;case"dangerouslySetInnerHTML":o=l;break;case"defaultValue":case"value":break;default:bt(t,r,d,l)}}return t.push(">"),ju(t,o,s),s;case"option":o=i.selectedValue,t.push(Dn("option"));var u=l=null,c=null,d=null;for(s in n)if(Ct.call(n,s)){var f=n[s];if(f!=null)switch(s){case"children":l=f;break;case"selected":c=f;break;case"dangerouslySetInnerHTML":d=f;break;case"value":u=f;default:bt(t,r,s,f)}}if(o!=null)if(n=u!==null?""+u:qM(l),om(o)){for(r=0;r<o.length;r++)if(""+o[r]===n){t.push(' selected=""');break}}else""+o===n&&t.push(' selected=""');else c&&t.push(' selected=""');return t.push(">"),ju(t,d,l),l;case"textarea":t.push(Dn("textarea")),d=o=s=null;for(l in n)if(Ct.call(n,l)&&(u=n[l],u!=null))switch(l){case"children":d=u;break;case"value":s=u;break;case"defaultValue":o=u;break;case"dangerouslySetInnerHTML":throw Error(q(91));default:bt(t,r,l,u)}if(s===null&&o!==null&&(s=o),t.push(">"),d!=null){if(s!=null)throw Error(q(92));if(om(d)&&1<d.length)throw Error(q(93));s=""+d}return typeof s=="string"&&s[0]===`
`&&t.push(`
`),s!==null&&t.push(mt(""+s)),null;case"input":t.push(Dn("input")),u=d=l=s=null;for(o in n)if(Ct.call(n,o)&&(c=n[o],c!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(q(399,"input"));case"defaultChecked":u=c;break;case"defaultValue":l=c;break;case"checked":d=c;break;case"value":s=c;break;default:bt(t,r,o,c)}return d!==null?bt(t,r,"checked",d):u!==null&&bt(t,r,"checked",u),s!==null?bt(t,r,"value",s):l!==null&&bt(t,r,"value",l),t.push("/>"),null;case"menuitem":t.push(Dn("menuitem"));for(var m in n)if(Ct.call(n,m)&&(s=n[m],s!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(q(400));default:bt(t,r,m,s)}return t.push(">"),null;case"title":t.push(Dn("title")),s=null;for(f in n)if(Ct.call(n,f)&&(o=n[f],o!=null))switch(f){case"children":s=o;break;case"dangerouslySetInnerHTML":throw Error(q(434));default:bt(t,r,f,o)}return t.push(">"),s;case"listing":case"pre":t.push(Dn(e)),o=s=null;for(u in n)if(Ct.call(n,u)&&(l=n[u],l!=null))switch(u){case"children":s=l;break;case"dangerouslySetInnerHTML":o=l;break;default:bt(t,r,u,l)}if(t.push(">"),o!=null){if(s!=null)throw Error(q(60));if(typeof o!="object"||!("__html"in o))throw Error(q(61));n=o.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?t.push(`
`,n):t.push(""+n))}return typeof s=="string"&&s[0]===`
`&&t.push(`
`),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":t.push(Dn(e));for(var w in n)if(Ct.call(n,w)&&(s=n[w],s!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(q(399,e));default:bt(t,r,w,s)}return t.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Tf(t,n,e,r);case"html":return i.insertionMode===0&&t.push("<!DOCTYPE html>"),Tf(t,n,e,r);default:if(e.indexOf("-")===-1&&typeof n.is!="string")return Tf(t,n,e,r);t.push(Dn(e)),o=s=null;for(c in n)if(Ct.call(n,c)&&(l=n[c],l!=null))switch(c){case"children":s=l;break;case"dangerouslySetInnerHTML":o=l;break;case"style":Tk(t,r,l);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:Ck(c)&&typeof l!="function"&&typeof l!="symbol"&&t.push(" ",c,'="',mt(l),'"')}return t.push(">"),ju(t,o,s),s}}function H1(t,e,n){if(t.push('<!--$?--><template id="'),n===null)throw Error(q(395));return t.push(n),t.push('"></template>')}function QM(t,e,n,r){switch(n.insertionMode){case 0:case 1:return t.push('<div hidden id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');case 2:return t.push('<svg aria-hidden="true" style="display:none" id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');case 3:return t.push('<math aria-hidden="true" style="display:none" id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');case 4:return t.push('<table hidden id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');case 5:return t.push('<table hidden><tbody id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');case 6:return t.push('<table hidden><tr id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');case 7:return t.push('<table hidden><colgroup id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');default:throw Error(q(397))}}function JM(t,e){switch(e.insertionMode){case 0:case 1:return t.push("</div>");case 2:return t.push("</svg>");case 3:return t.push("</math>");case 4:return t.push("</table>");case 5:return t.push("</tbody></table>");case 6:return t.push("</tr></table>");case 7:return t.push("</colgroup></table>");default:throw Error(q(397))}}var ZM=/[<\u2028\u2029]/g;function kf(t){return JSON.stringify(t).replace(ZM,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function eF(t,e){return e=e===void 0?"":e,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:e+"P:",segmentPrefix:e+"S:",boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:t}}function W1(t,e,n,r){return n.generateStaticMarkup?(t.push(mt(e)),!1):(e===""?t=r:(r&&t.push("<!-- -->"),t.push(mt(e)),t=!0),t)}var Tl=Object.assign,tF=Symbol.for("react.element"),kk=Symbol.for("react.portal"),Ik=Symbol.for("react.fragment"),xk=Symbol.for("react.strict_mode"),Rk=Symbol.for("react.profiler"),Pk=Symbol.for("react.provider"),Nk=Symbol.for("react.context"),Ak=Symbol.for("react.forward_ref"),Ok=Symbol.for("react.suspense"),Dk=Symbol.for("react.suspense_list"),Lk=Symbol.for("react.memo"),T0=Symbol.for("react.lazy"),nF=Symbol.for("react.scope"),rF=Symbol.for("react.debug_trace_mode"),iF=Symbol.for("react.legacy_hidden"),sF=Symbol.for("react.default_value"),G1=Symbol.iterator;function lm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ik:return"Fragment";case kk:return"Portal";case Rk:return"Profiler";case xk:return"StrictMode";case Ok:return"Suspense";case Dk:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Nk:return(t.displayName||"Context")+".Consumer";case Pk:return(t._context.displayName||"Context")+".Provider";case Ak:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Lk:return e=t.displayName||null,e!==null?e:lm(t.type)||"Memo";case T0:e=t._payload,t=t._init;try{return lm(t(e))}catch{}}return null}var bk={};function K1(t,e){if(t=t.contextTypes,!t)return bk;var n={},r;for(r in t)n[r]=e[r];return n}var $i=null;function Jh(t,e){if(t!==e){t.context._currentValue2=t.parentValue,t=t.parent;var n=e.parent;if(t===null){if(n!==null)throw Error(q(401))}else{if(n===null)throw Error(q(401));Jh(t,n)}e.context._currentValue2=e.value}}function Mk(t){t.context._currentValue2=t.parentValue,t=t.parent,t!==null&&Mk(t)}function Fk(t){var e=t.parent;e!==null&&Fk(e),t.context._currentValue2=t.value}function Uk(t,e){if(t.context._currentValue2=t.parentValue,t=t.parent,t===null)throw Error(q(402));t.depth===e.depth?Jh(t,e):Uk(t,e)}function $k(t,e){var n=e.parent;if(n===null)throw Error(q(402));t.depth===n.depth?Jh(t,n):$k(t,n),e.context._currentValue2=e.value}function eh(t){var e=$i;e!==t&&(e===null?Fk(t):t===null?Mk(e):e.depth===t.depth?Jh(e,t):e.depth>t.depth?Uk(e,t):$k(e,t),$i=t)}var q1={isMounted:function(){return!1},enqueueSetState:function(t,e){t=t._reactInternals,t.queue!==null&&t.queue.push(e)},enqueueReplaceState:function(t,e){t=t._reactInternals,t.replace=!0,t.queue=[e]},enqueueForceUpdate:function(){}};function Y1(t,e,n,r){var i=t.state!==void 0?t.state:null;t.updater=q1,t.props=n,t.state=i;var s={queue:[],replace:!1};t._reactInternals=s;var o=e.contextType;if(t.context=typeof o=="object"&&o!==null?o._currentValue2:r,o=e.getDerivedStateFromProps,typeof o=="function"&&(o=o(n,i),i=o==null?i:Tl({},i,o),t.state=i),typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function"&&(typeof t.UNSAFE_componentWillMount=="function"||typeof t.componentWillMount=="function"))if(e=t.state,typeof t.componentWillMount=="function"&&t.componentWillMount(),typeof t.UNSAFE_componentWillMount=="function"&&t.UNSAFE_componentWillMount(),e!==t.state&&q1.enqueueReplaceState(t,t.state,null),s.queue!==null&&0<s.queue.length)if(e=s.queue,o=s.replace,s.queue=null,s.replace=!1,o&&e.length===1)t.state=e[0];else{for(s=o?e[0]:t.state,i=!0,o=o?1:0;o<e.length;o++){var l=e[o];l=typeof l=="function"?l.call(t,s,n,r):l,l!=null&&(i?(i=!1,s=Tl({},s,l)):Tl(s,l))}t.state=s}else s.queue=null}var oF={id:1,overflow:""};function am(t,e,n){var r=t.id;t=t.overflow;var i=32-zu(r)-1;r&=~(1<<i),n+=1;var s=32-zu(e)+i;if(30<s){var o=i-i%5;return s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,{id:1<<32-zu(e)+i|n<<i|r,overflow:s+t}}return{id:1<<s|n<<i|r,overflow:t}}var zu=Math.clz32?Math.clz32:uF,lF=Math.log,aF=Math.LN2;function uF(t){return t>>>=0,t===0?32:31-(lF(t)/aF|0)|0}function cF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hF=typeof Object.is=="function"?Object.is:cF,wr=null,k0=null,Bu=null,de=null,il=!1,th=!1,la=0,Wr=null,Zh=0;function Ai(){if(wr===null)throw Error(q(321));return wr}function X1(){if(0<Zh)throw Error(q(312));return{memoizedState:null,queue:null,next:null}}function I0(){return de===null?Bu===null?(il=!1,Bu=de=X1()):(il=!0,de=Bu):de.next===null?(il=!1,de=de.next=X1()):(il=!0,de=de.next),de}function x0(){k0=wr=null,th=!1,Bu=null,Zh=0,de=Wr=null}function jk(t,e){return typeof e=="function"?e(t):e}function Q1(t,e,n){if(wr=Ai(),de=I0(),il){var r=de.queue;if(e=r.dispatch,Wr!==null&&(n=Wr.get(r),n!==void 0)){Wr.delete(r),r=de.memoizedState;do r=t(r,n.action),n=n.next;while(n!==null);return de.memoizedState=r,[r,e]}return[de.memoizedState,e]}return t=t===jk?typeof e=="function"?e():e:n!==void 0?n(e):e,de.memoizedState=t,t=de.queue={last:null,dispatch:null},t=t.dispatch=dF.bind(null,wr,t),[de.memoizedState,t]}function J1(t,e){if(wr=Ai(),de=I0(),e=e===void 0?null:e,de!==null){var n=de.memoizedState;if(n!==null&&e!==null){var r=n[1];e:if(r===null)r=!1;else{for(var i=0;i<r.length&&i<e.length;i++)if(!hF(e[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return t=t(),de.memoizedState=[t,e],t}function dF(t,e,n){if(25<=Zh)throw Error(q(301));if(t===wr)if(th=!0,t={action:n,next:null},Wr===null&&(Wr=new Map),n=Wr.get(e),n===void 0)Wr.set(e,t);else{for(e=n;e.next!==null;)e=e.next;e.next=t}}function fF(){throw Error(q(394))}function vu(){}var Z1={readContext:function(t){return t._currentValue2},useContext:function(t){return Ai(),t._currentValue2},useMemo:J1,useReducer:Q1,useRef:function(t){wr=Ai(),de=I0();var e=de.memoizedState;return e===null?(t={current:t},de.memoizedState=t):e},useState:function(t){return Q1(jk,t)},useInsertionEffect:vu,useLayoutEffect:function(){},useCallback:function(t,e){return J1(function(){return t},e)},useImperativeHandle:vu,useEffect:vu,useDebugValue:vu,useDeferredValue:function(t){return Ai(),t},useTransition:function(){return Ai(),[!1,fF]},useId:function(){var t=k0.treeContext,e=t.overflow;t=t.id,t=(t&~(1<<32-zu(t)-1)).toString(32)+e;var n=Vu;if(n===null)throw Error(q(404));return e=la++,t=":"+n.idPrefix+"R"+t,0<e&&(t+="H"+e.toString(32)),t+":"},useMutableSource:function(t,e){return Ai(),e(t._source)},useSyncExternalStore:function(t,e,n){if(n===void 0)throw Error(q(407));return n()}},Vu=null,If=Sk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function pF(t){return console.error(t),null}function sl(){}function mF(t,e,n,r,i,s,o,l,u){var c=[],d=new Set;return e={destination:null,responseState:e,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:c,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?pF:i,onAllReady:sl,onShellReady:o===void 0?sl:o,onShellError:sl,onFatalError:sl},n=nh(e,0,null,n,!1,!1),n.parentFlushed=!0,t=R0(e,t,null,n,d,bk,null,oF),c.push(t),e}function R0(t,e,n,r,i,s,o,l){t.allPendingTasks++,n===null?t.pendingRootTasks++:n.pendingTasks++;var u={node:e,ping:function(){var c=t.pingedTasks;c.push(u),c.length===1&&Vk(t)},blockedBoundary:n,blockedSegment:r,abortSet:i,legacyContext:s,context:o,treeContext:l};return i.add(u),u}function nh(t,e,n,r,i,s){return{status:0,id:-1,index:e,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:i,textEmbedded:s}}function aa(t,e){if(t=t.onError(e),t!=null&&typeof t!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof t+'" instead');return t}function rh(t,e){var n=t.onShellError;n(e),n=t.onFatalError,n(e),t.destination!==null?(t.status=2,t.destination.destroy(e)):(t.status=1,t.fatalError=e)}function e2(t,e,n,r,i){for(wr={},k0=e,la=0,t=n(r,i);th;)th=!1,la=0,Zh+=1,de=null,t=n(r,i);return x0(),t}function t2(t,e,n,r){var i=n.render(),s=r.childContextTypes;if(s!=null){var o=e.legacyContext;if(typeof n.getChildContext!="function")r=o;else{n=n.getChildContext();for(var l in n)if(!(l in s))throw Error(q(108,lm(r)||"Unknown",l));r=Tl({},o,n)}e.legacyContext=r,Ut(t,e,i),e.legacyContext=o}else Ut(t,e,i)}function n2(t,e){if(t&&t.defaultProps){e=Tl({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function um(t,e,n,r,i){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){i=K1(n,e.legacyContext);var s=n.contextType;s=new n(r,typeof s=="object"&&s!==null?s._currentValue2:i),Y1(s,n,r,i),t2(t,e,s,n)}else{s=K1(n,e.legacyContext),i=e2(t,e,n,r,s);var o=la!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)Y1(i,n,r,s),t2(t,e,i,n);else if(o){r=e.treeContext,e.treeContext=am(r,1,0);try{Ut(t,e,i)}finally{e.treeContext=r}}else Ut(t,e,i)}else if(typeof n=="string"){switch(i=e.blockedSegment,s=XM(i.chunks,n,r,t.responseState,i.formatContext),i.lastPushedText=!1,o=i.formatContext,i.formatContext=KM(o,n,r),cm(t,e,s),i.formatContext=o,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push("</",n,">")}i.lastPushedText=!1}else{switch(n){case iF:case rF:case xk:case Rk:case Ik:Ut(t,e,r.children);return;case Dk:Ut(t,e,r.children);return;case nF:throw Error(q(343));case Ok:e:{n=e.blockedBoundary,i=e.blockedSegment,s=r.fallback,r=r.children,o=new Set;var l={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:o,errorDigest:null},u=nh(t,i.chunks.length,l,i.formatContext,!1,!1);i.children.push(u),i.lastPushedText=!1;var c=nh(t,0,null,i.formatContext,!1,!1);c.parentFlushed=!0,e.blockedBoundary=l,e.blockedSegment=c;try{if(cm(t,e,r),t.responseState.generateStaticMarkup||c.lastPushedText&&c.textEmbedded&&c.chunks.push("<!-- -->"),c.status=1,ih(l,c),l.pendingTasks===0)break e}catch(d){c.status=4,l.forceClientRender=!0,l.errorDigest=aa(t,d)}finally{e.blockedBoundary=n,e.blockedSegment=i}e=R0(t,s,n,u,o,e.legacyContext,e.context,e.treeContext),t.pingedTasks.push(e)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Ak:if(r=e2(t,e,n.render,r,i),la!==0){n=e.treeContext,e.treeContext=am(n,1,0);try{Ut(t,e,r)}finally{e.treeContext=n}}else Ut(t,e,r);return;case Lk:n=n.type,r=n2(n,r),um(t,e,n,r,i);return;case Pk:if(i=r.children,n=n._context,r=r.value,s=n._currentValue2,n._currentValue2=r,o=$i,$i=r={parent:o,depth:o===null?0:o.depth+1,context:n,parentValue:s,value:r},e.context=r,Ut(t,e,i),t=$i,t===null)throw Error(q(403));r=t.parentValue,t.context._currentValue2=r===sF?t.context._defaultValue:r,t=$i=t.parent,e.context=t;return;case Nk:r=r.children,r=r(n._currentValue2),Ut(t,e,r);return;case T0:i=n._init,n=i(n._payload),r=n2(n,r),um(t,e,n,r,void 0);return}throw Error(q(130,n==null?n:typeof n,""))}}function Ut(t,e,n){if(e.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case tF:um(t,e,n.type,n.props,n.ref);return;case kk:throw Error(q(257));case T0:var r=n._init;n=r(n._payload),Ut(t,e,n);return}if(om(n)){r2(t,e,n);return}if(n===null||typeof n!="object"?r=null:(r=G1&&n[G1]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var i=[];do i.push(n.value),n=r.next();while(!n.done);r2(t,e,i)}return}throw t=Object.prototype.toString.call(n),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}typeof n=="string"?(r=e.blockedSegment,r.lastPushedText=W1(e.blockedSegment.chunks,n,t.responseState,r.lastPushedText)):typeof n=="number"&&(r=e.blockedSegment,r.lastPushedText=W1(e.blockedSegment.chunks,""+n,t.responseState,r.lastPushedText))}function r2(t,e,n){for(var r=n.length,i=0;i<r;i++){var s=e.treeContext;e.treeContext=am(s,r,i);try{cm(t,e,n[i])}finally{e.treeContext=s}}}function cm(t,e,n){var r=e.blockedSegment.formatContext,i=e.legacyContext,s=e.context;try{return Ut(t,e,n)}catch(u){if(x0(),typeof u=="object"&&u!==null&&typeof u.then=="function"){n=u;var o=e.blockedSegment,l=nh(t,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(l),o.lastPushedText=!1,t=R0(t,e.node,e.blockedBoundary,l,e.abortSet,e.legacyContext,e.context,e.treeContext).ping,n.then(t,t),e.blockedSegment.formatContext=r,e.legacyContext=i,e.context=s,eh(s)}else throw e.blockedSegment.formatContext=r,e.legacyContext=i,e.context=s,eh(s),u}}function gF(t){var e=t.blockedBoundary;t=t.blockedSegment,t.status=3,Bk(this,e,t)}function zk(t,e,n){var r=t.blockedBoundary;t.blockedSegment.status=3,r===null?(e.allPendingTasks--,e.status!==2&&(e.status=2,e.destination!==null&&e.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,t=n===void 0?Error(q(432)):n,r.errorDigest=e.onError(t),r.parentFlushed&&e.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(i){return zk(i,e,n)}),r.fallbackAbortableTasks.clear(),e.allPendingTasks--,e.allPendingTasks===0&&(r=e.onAllReady,r()))}function ih(t,e){if(e.chunks.length===0&&e.children.length===1&&e.children[0].boundary===null){var n=e.children[0];n.id=e.id,n.parentFlushed=!0,n.status===1&&ih(t,n)}else t.completedSegments.push(e)}function Bk(t,e,n){if(e===null){if(n.parentFlushed){if(t.completedRootSegment!==null)throw Error(q(389));t.completedRootSegment=n}t.pendingRootTasks--,t.pendingRootTasks===0&&(t.onShellError=sl,e=t.onShellReady,e())}else e.pendingTasks--,e.forceClientRender||(e.pendingTasks===0?(n.parentFlushed&&n.status===1&&ih(e,n),e.parentFlushed&&t.completedBoundaries.push(e),e.fallbackAbortableTasks.forEach(gF,t),e.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(ih(e,n),e.completedSegments.length===1&&e.parentFlushed&&t.partialBoundaries.push(e)));t.allPendingTasks--,t.allPendingTasks===0&&(t=t.onAllReady,t())}function Vk(t){if(t.status!==2){var e=$i,n=If.current;If.current=Z1;var r=Vu;Vu=t.responseState;try{var i=t.pingedTasks,s;for(s=0;s<i.length;s++){var o=i[s],l=t,u=o.blockedSegment;if(u.status===0){eh(o.context);try{Ut(l,o,o.node),l.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("<!-- -->"),o.abortSet.delete(o),u.status=1,Bk(l,o.blockedBoundary,u)}catch(E){if(x0(),typeof E=="object"&&E!==null&&typeof E.then=="function"){var c=o.ping;E.then(c,c)}else{o.abortSet.delete(o),u.status=4;var d=o.blockedBoundary,f=E,m=aa(l,f);if(d===null?rh(l,f):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=m,d.parentFlushed&&l.clientRenderedBoundaries.push(d))),l.allPendingTasks--,l.allPendingTasks===0){var w=l.onAllReady;w()}}}finally{}}}i.splice(0,s),t.destination!==null&&P0(t,t.destination)}catch(E){aa(t,E),rh(t,E)}finally{Vu=r,If.current=n,n===Z1&&eh(e)}}}function yu(t,e,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=t.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,t=t.responseState,e.push('<template id="'),e.push(t.placeholderPrefix),t=r.toString(16),e.push(t),e.push('"></template>');case 1:n.status=2;var i=!0;r=n.chunks;var s=0;n=n.children;for(var o=0;o<n.length;o++){for(i=n[o];s<i.index;s++)e.push(r[s]);i=ed(t,e,i)}for(;s<r.length-1;s++)e.push(r[s]);return s<r.length&&(i=e.push(r[s])),i;default:throw Error(q(390))}}function ed(t,e,n){var r=n.boundary;if(r===null)return yu(t,e,n);if(r.parentFlushed=!0,r.forceClientRender)return t.responseState.generateStaticMarkup||(r=r.errorDigest,e.push("<!--$!-->"),e.push("<template"),r&&(e.push(' data-dgst="'),r=mt(r),e.push(r),e.push('"')),e.push("></template>")),yu(t,e,n),t=t.responseState.generateStaticMarkup?!0:e.push("<!--/$-->"),t;if(0<r.pendingTasks){r.rootSegmentID=t.nextSegmentId++,0<r.completedSegments.length&&t.partialBoundaries.push(r);var i=t.responseState,s=i.nextSuspenseID++;return i=i.boundaryPrefix+s.toString(16),r=r.id=i,H1(e,t.responseState,r),yu(t,e,n),e.push("<!--/$-->")}if(r.byteSize>t.progressiveChunkSize)return r.rootSegmentID=t.nextSegmentId++,t.completedBoundaries.push(r),H1(e,t.responseState,r.id),yu(t,e,n),e.push("<!--/$-->");if(t.responseState.generateStaticMarkup||e.push("<!--$-->"),n=r.completedSegments,n.length!==1)throw Error(q(391));return ed(t,e,n[0]),t=t.responseState.generateStaticMarkup?!0:e.push("<!--/$-->"),t}function i2(t,e,n){return QM(e,t.responseState,n.formatContext,n.id),ed(t,e,n),JM(e,n.formatContext)}function s2(t,e,n){for(var r=n.completedSegments,i=0;i<r.length;i++)Hk(t,e,n,r[i]);if(r.length=0,t=t.responseState,r=n.id,n=n.rootSegmentID,e.push(t.startInlineScript),t.sentCompleteBoundaryFunction?e.push('$RC("'):(t.sentCompleteBoundaryFunction=!0,e.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),r===null)throw Error(q(395));return n=n.toString(16),e.push(r),e.push('","'),e.push(t.segmentPrefix),e.push(n),e.push('")<\/script>')}function Hk(t,e,n,r){if(r.status===2)return!0;var i=r.id;if(i===-1){if((r.id=n.rootSegmentID)===-1)throw Error(q(392));return i2(t,e,r)}return i2(t,e,r),t=t.responseState,e.push(t.startInlineScript),t.sentCompleteSegmentFunction?e.push('$RS("'):(t.sentCompleteSegmentFunction=!0,e.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),e.push(t.segmentPrefix),i=i.toString(16),e.push(i),e.push('","'),e.push(t.placeholderPrefix),e.push(i),e.push('")<\/script>')}function P0(t,e){try{var n=t.completedRootSegment;if(n!==null&&t.pendingRootTasks===0){ed(t,e,n),t.completedRootSegment=null;var r=t.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)e.push(r[n]);n<r.length&&e.push(r[n])}var i=t.clientRenderedBoundaries,s;for(s=0;s<i.length;s++){var o=i[s];r=e;var l=t.responseState,u=o.id,c=o.errorDigest,d=o.errorMessage,f=o.errorComponentStack;if(r.push(l.startInlineScript),l.sentClientRenderFunction?r.push('$RX("'):(l.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),u===null)throw Error(q(395));if(r.push(u),r.push('"'),c||d||f){r.push(",");var m=kf(c||"");r.push(m)}if(d||f){r.push(",");var w=kf(d||"");r.push(w)}if(f){r.push(",");var E=kf(f);r.push(E)}if(!r.push(")<\/script>")){t.destination=null,s++,i.splice(0,s);return}}i.splice(0,s);var P=t.completedBoundaries;for(s=0;s<P.length;s++)if(!s2(t,e,P[s])){t.destination=null,s++,P.splice(0,s);return}P.splice(0,s);var N=t.partialBoundaries;for(s=0;s<N.length;s++){var S=N[s];e:{i=t,o=e;var v=S.completedSegments;for(l=0;l<v.length;l++)if(!Hk(i,o,S,v[l])){l++,v.splice(0,l);var y=!1;break e}v.splice(0,l),y=!0}if(!y){t.destination=null,s++,N.splice(0,s);return}}N.splice(0,s);var A=t.completedBoundaries;for(s=0;s<A.length;s++)if(!s2(t,e,A[s])){t.destination=null,s++,A.splice(0,s);return}A.splice(0,s)}finally{t.allPendingTasks===0&&t.pingedTasks.length===0&&t.clientRenderedBoundaries.length===0&&t.completedBoundaries.length===0&&e.push(null)}}function _F(t,e){try{var n=t.abortableTasks;n.forEach(function(r){return zk(r,t,e)}),n.clear(),t.destination!==null&&P0(t,t.destination)}catch(r){aa(t,r),rh(t,r)}}function vF(){}function Wk(t,e,n,r){var i=!1,s=null,o="",l={push:function(c){return c!==null&&(o+=c),!0},destroy:function(c){i=!0,s=c}},u=!1;if(t=mF(t,eF(n,e?e.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,vF,void 0,function(){u=!0}),Vk(t),_F(t,r),t.status===1)t.status=2,l.destroy(t.fatalError);else if(t.status!==2&&t.destination===null){t.destination=l;try{P0(t,l)}catch(c){aa(t,c),rh(t,c)}}if(i)throw s;if(!u)throw Error(q(426));return o}So.renderToNodeStream=function(){throw Error(q(207))};So.renderToStaticMarkup=function(t,e){return Wk(t,e,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};So.renderToStaticNodeStream=function(){throw Error(q(208))};So.renderToString=function(t,e){return Wk(t,e,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};So.version="18.3.1";var N0={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gk=M;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $t=null,jt=0;function H(t,e){if(e.length!==0)if(512<e.length)0<jt&&(t.enqueue(new Uint8Array($t.buffer,0,jt)),$t=new Uint8Array(512),jt=0),t.enqueue(e);else{var n=$t.length-jt;n<e.length&&(n===0?t.enqueue($t):($t.set(e.subarray(0,n),jt),t.enqueue($t),e=e.subarray(n)),$t=new Uint8Array(512),jt=0),$t.set(e,jt),jt+=e.length}}function ye(t,e){return H(t,e),!0}function o2(t){$t&&0<jt&&(t.enqueue(new Uint8Array($t.buffer,0,jt)),$t=null,jt=0)}var Kk=new TextEncoder;function J(t){return Kk.encode(t)}function z(t){return Kk.encode(t)}function qk(t,e){typeof t.error=="function"?t.error(e):t.close()}var Tt=Object.prototype.hasOwnProperty,yF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,l2={},a2={};function Yk(t){return Tt.call(a2,t)?!0:Tt.call(l2,t)?!1:yF.test(t)?a2[t]=!0:(l2[t]=!0,!1)}function St(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ze[t]=new St(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ze[e]=new St(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ze[t]=new St(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ze[t]=new St(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ze[t]=new St(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ze[t]=new St(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ze[t]=new St(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ze[t]=new St(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ze[t]=new St(t,5,!1,t.toLowerCase(),null,!1,!1)});var A0=/[\-:]([a-z])/g;function O0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(A0,O0);Ze[e]=new St(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(A0,O0);Ze[e]=new St(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(A0,O0);Ze[e]=new St(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ze[t]=new St(t,1,!1,t.toLowerCase(),null,!1,!1)});Ze.xlinkHref=new St("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ze[t]=new St(t,1,!1,t.toLowerCase(),null,!0,!0)});var Hu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wF=["Webkit","ms","Moz","O"];Object.keys(Hu).forEach(function(t){wF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hu[e]=Hu[t]})});var EF=/["'&<>]/;function Ye(t){if(typeof t=="boolean"||typeof t=="number")return""+t;t=""+t;var e=EF.exec(t);if(e){var n="",r,i=0;for(r=e.index;r<t.length;r++){switch(t.charCodeAt(r)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}i!==r&&(n+=t.substring(i,r)),i=r+1,n+=e}t=i!==r?n+t.substring(i,r):n}return t}var SF=/([A-Z])/g,CF=/^ms-/,hm=Array.isArray,TF=z("<script>"),kF=z("<\/script>"),IF=z('<script src="'),xF=z('<script type="module" src="'),u2=z('" async=""><\/script>'),RF=/(<\/|<)(s)(cript)/gi;function PF(t,e,n,r){return""+e+(n==="s"?"\\u0073":"\\u0053")+r}function NF(t,e,n,r,i){t=t===void 0?"":t,e=e===void 0?TF:z('<script nonce="'+Ye(e)+'">');var s=[];if(n!==void 0&&s.push(e,J((""+n).replace(RF,PF)),kF),r!==void 0)for(n=0;n<r.length;n++)s.push(IF,J(Ye(r[n])),u2);if(i!==void 0)for(r=0;r<i.length;r++)s.push(xF,J(Ye(i[r])),u2);return{bootstrapChunks:s,startInlineScript:e,placeholderPrefix:z(t+"P:"),segmentPrefix:z(t+"S:"),boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function Ln(t,e){return{insertionMode:t,selectedValue:e}}function AF(t){return Ln(t==="http://www.w3.org/2000/svg"?2:t==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function OF(t,e,n){switch(e){case"select":return Ln(1,n.value!=null?n.value:n.defaultValue);case"svg":return Ln(2,null);case"math":return Ln(3,null);case"foreignObject":return Ln(1,null);case"table":return Ln(4,null);case"thead":case"tbody":case"tfoot":return Ln(5,null);case"colgroup":return Ln(7,null);case"tr":return Ln(6,null)}return 4<=t.insertionMode||t.insertionMode===0?Ln(1,null):t}var D0=z("<!-- -->");function c2(t,e,n,r){return e===""?r:(r&&t.push(D0),t.push(J(Ye(e))),!0)}var h2=new Map,DF=z(' style="'),d2=z(":"),LF=z(";");function Xk(t,e,n){if(typeof n!="object")throw Error(X(62));e=!0;for(var r in n)if(Tt.call(n,r)){var i=n[r];if(i!=null&&typeof i!="boolean"&&i!==""){if(r.indexOf("--")===0){var s=J(Ye(r));i=J(Ye((""+i).trim()))}else{s=r;var o=h2.get(s);o!==void 0||(o=z(Ye(s.replace(SF,"-$1").toLowerCase().replace(CF,"-ms-"))),h2.set(s,o)),s=o,i=typeof i=="number"?i===0||Tt.call(Hu,r)?J(""+i):J(i+"px"):J(Ye((""+i).trim()))}e?(e=!1,t.push(DF,s,d2,i)):t.push(LF,s,d2,i)}}e||t.push(Oi)}var Nr=z(" "),ws=z('="'),Oi=z('"'),f2=z('=""');function Mt(t,e,n,r){switch(n){case"style":Xk(t,e,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(e=Ze.hasOwnProperty(n)?Ze[n]:null,e!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!e.acceptsBooleans)return}switch(n=J(e.attributeName),e.type){case 3:r&&t.push(Nr,n,f2);break;case 4:r===!0?t.push(Nr,n,f2):r!==!1&&t.push(Nr,n,ws,J(Ye(r)),Oi);break;case 5:isNaN(r)||t.push(Nr,n,ws,J(Ye(r)),Oi);break;case 6:!isNaN(r)&&1<=r&&t.push(Nr,n,ws,J(Ye(r)),Oi);break;default:e.sanitizeURL&&(r=""+r),t.push(Nr,n,ws,J(Ye(r)),Oi)}}else if(Yk(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(e=n.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-")return}t.push(Nr,J(n),ws,J(Ye(r)),Oi)}}}var Ar=z(">"),p2=z("/>");function Wu(t,e,n){if(e!=null){if(n!=null)throw Error(X(60));if(typeof e!="object"||!("__html"in e))throw Error(X(61));e=e.__html,e!=null&&t.push(J(""+e))}}function bF(t){var e="";return Gk.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}var xf=z(' selected=""');function Rf(t,e,n,r){t.push(bn(n));var i=n=null,s;for(s in e)if(Tt.call(e,s)){var o=e[s];if(o!=null)switch(s){case"children":n=o;break;case"dangerouslySetInnerHTML":i=o;break;default:Mt(t,r,s,o)}}return t.push(Ar),Wu(t,i,n),typeof n=="string"?(t.push(J(Ye(n))),null):n}var Pf=z(`
`),MF=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,m2=new Map;function bn(t){var e=m2.get(t);if(e===void 0){if(!MF.test(t))throw Error(X(65,t));e=z("<"+t),m2.set(t,e)}return e}var FF=z("<!DOCTYPE html>");function UF(t,e,n,r,i){switch(e){case"select":t.push(bn("select"));var s=null,o=null;for(d in n)if(Tt.call(n,d)){var l=n[d];if(l!=null)switch(d){case"children":s=l;break;case"dangerouslySetInnerHTML":o=l;break;case"defaultValue":case"value":break;default:Mt(t,r,d,l)}}return t.push(Ar),Wu(t,o,s),s;case"option":o=i.selectedValue,t.push(bn("option"));var u=l=null,c=null,d=null;for(s in n)if(Tt.call(n,s)){var f=n[s];if(f!=null)switch(s){case"children":l=f;break;case"selected":c=f;break;case"dangerouslySetInnerHTML":d=f;break;case"value":u=f;default:Mt(t,r,s,f)}}if(o!=null)if(n=u!==null?""+u:bF(l),hm(o)){for(r=0;r<o.length;r++)if(""+o[r]===n){t.push(xf);break}}else""+o===n&&t.push(xf);else c&&t.push(xf);return t.push(Ar),Wu(t,d,l),l;case"textarea":t.push(bn("textarea")),d=o=s=null;for(l in n)if(Tt.call(n,l)&&(u=n[l],u!=null))switch(l){case"children":d=u;break;case"value":s=u;break;case"defaultValue":o=u;break;case"dangerouslySetInnerHTML":throw Error(X(91));default:Mt(t,r,l,u)}if(s===null&&o!==null&&(s=o),t.push(Ar),d!=null){if(s!=null)throw Error(X(92));if(hm(d)&&1<d.length)throw Error(X(93));s=""+d}return typeof s=="string"&&s[0]===`
`&&t.push(Pf),s!==null&&t.push(J(Ye(""+s))),null;case"input":t.push(bn("input")),u=d=l=s=null;for(o in n)if(Tt.call(n,o)&&(c=n[o],c!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(X(399,"input"));case"defaultChecked":u=c;break;case"defaultValue":l=c;break;case"checked":d=c;break;case"value":s=c;break;default:Mt(t,r,o,c)}return d!==null?Mt(t,r,"checked",d):u!==null&&Mt(t,r,"checked",u),s!==null?Mt(t,r,"value",s):l!==null&&Mt(t,r,"value",l),t.push(p2),null;case"menuitem":t.push(bn("menuitem"));for(var m in n)if(Tt.call(n,m)&&(s=n[m],s!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(X(400));default:Mt(t,r,m,s)}return t.push(Ar),null;case"title":t.push(bn("title")),s=null;for(f in n)if(Tt.call(n,f)&&(o=n[f],o!=null))switch(f){case"children":s=o;break;case"dangerouslySetInnerHTML":throw Error(X(434));default:Mt(t,r,f,o)}return t.push(Ar),s;case"listing":case"pre":t.push(bn(e)),o=s=null;for(u in n)if(Tt.call(n,u)&&(l=n[u],l!=null))switch(u){case"children":s=l;break;case"dangerouslySetInnerHTML":o=l;break;default:Mt(t,r,u,l)}if(t.push(Ar),o!=null){if(s!=null)throw Error(X(60));if(typeof o!="object"||!("__html"in o))throw Error(X(61));n=o.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?t.push(Pf,J(n)):t.push(J(""+n)))}return typeof s=="string"&&s[0]===`
`&&t.push(Pf),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":t.push(bn(e));for(var w in n)if(Tt.call(n,w)&&(s=n[w],s!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(X(399,e));default:Mt(t,r,w,s)}return t.push(p2),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Rf(t,n,e,r);case"html":return i.insertionMode===0&&t.push(FF),Rf(t,n,e,r);default:if(e.indexOf("-")===-1&&typeof n.is!="string")return Rf(t,n,e,r);t.push(bn(e)),o=s=null;for(c in n)if(Tt.call(n,c)&&(l=n[c],l!=null))switch(c){case"children":s=l;break;case"dangerouslySetInnerHTML":o=l;break;case"style":Xk(t,r,l);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:Yk(c)&&typeof l!="function"&&typeof l!="symbol"&&t.push(Nr,J(c),ws,J(Ye(l)),Oi)}return t.push(Ar),Wu(t,o,s),s}}var $F=z("</"),jF=z(">"),zF=z('<template id="'),BF=z('"></template>'),VF=z("<!--$-->"),HF=z('<!--$?--><template id="'),WF=z('"></template>'),GF=z("<!--$!-->"),KF=z("<!--/$-->"),qF=z("<template"),YF=z('"'),XF=z(' data-dgst="');z(' data-msg="');z(' data-stck="');var QF=z("></template>");function g2(t,e,n){if(H(t,HF),n===null)throw Error(X(395));return H(t,n),ye(t,WF)}var JF=z('<div hidden id="'),ZF=z('">'),eU=z("</div>"),tU=z('<svg aria-hidden="true" style="display:none" id="'),nU=z('">'),rU=z("</svg>"),iU=z('<math aria-hidden="true" style="display:none" id="'),sU=z('">'),oU=z("</math>"),lU=z('<table hidden id="'),aU=z('">'),uU=z("</table>"),cU=z('<table hidden><tbody id="'),hU=z('">'),dU=z("</tbody></table>"),fU=z('<table hidden><tr id="'),pU=z('">'),mU=z("</tr></table>"),gU=z('<table hidden><colgroup id="'),_U=z('">'),vU=z("</colgroup></table>");function yU(t,e,n,r){switch(n.insertionMode){case 0:case 1:return H(t,JF),H(t,e.segmentPrefix),H(t,J(r.toString(16))),ye(t,ZF);case 2:return H(t,tU),H(t,e.segmentPrefix),H(t,J(r.toString(16))),ye(t,nU);case 3:return H(t,iU),H(t,e.segmentPrefix),H(t,J(r.toString(16))),ye(t,sU);case 4:return H(t,lU),H(t,e.segmentPrefix),H(t,J(r.toString(16))),ye(t,aU);case 5:return H(t,cU),H(t,e.segmentPrefix),H(t,J(r.toString(16))),ye(t,hU);case 6:return H(t,fU),H(t,e.segmentPrefix),H(t,J(r.toString(16))),ye(t,pU);case 7:return H(t,gU),H(t,e.segmentPrefix),H(t,J(r.toString(16))),ye(t,_U);default:throw Error(X(397))}}function wU(t,e){switch(e.insertionMode){case 0:case 1:return ye(t,eU);case 2:return ye(t,rU);case 3:return ye(t,oU);case 4:return ye(t,uU);case 5:return ye(t,dU);case 6:return ye(t,mU);case 7:return ye(t,vU);default:throw Error(X(397))}}var EU=z('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),SU=z('$RS("'),CU=z('","'),TU=z('")<\/script>'),kU=z('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),IU=z('$RC("'),xU=z('","'),RU=z('")<\/script>'),PU=z('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),NU=z('$RX("'),AU=z('"'),OU=z(")<\/script>"),Nf=z(","),DU=/[<\u2028\u2029]/g;function Af(t){return JSON.stringify(t).replace(DU,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var kl=Object.assign,LU=Symbol.for("react.element"),Qk=Symbol.for("react.portal"),Jk=Symbol.for("react.fragment"),Zk=Symbol.for("react.strict_mode"),eI=Symbol.for("react.profiler"),tI=Symbol.for("react.provider"),nI=Symbol.for("react.context"),rI=Symbol.for("react.forward_ref"),iI=Symbol.for("react.suspense"),sI=Symbol.for("react.suspense_list"),oI=Symbol.for("react.memo"),L0=Symbol.for("react.lazy"),bU=Symbol.for("react.scope"),MU=Symbol.for("react.debug_trace_mode"),FU=Symbol.for("react.legacy_hidden"),UU=Symbol.for("react.default_value"),_2=Symbol.iterator;function dm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Jk:return"Fragment";case Qk:return"Portal";case eI:return"Profiler";case Zk:return"StrictMode";case iI:return"Suspense";case sI:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case nI:return(t.displayName||"Context")+".Consumer";case tI:return(t._context.displayName||"Context")+".Provider";case rI:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case oI:return e=t.displayName||null,e!==null?e:dm(t.type)||"Memo";case L0:e=t._payload,t=t._init;try{return dm(t(e))}catch{}}return null}var lI={};function v2(t,e){if(t=t.contextTypes,!t)return lI;var n={},r;for(r in t)n[r]=e[r];return n}var ji=null;function td(t,e){if(t!==e){t.context._currentValue=t.parentValue,t=t.parent;var n=e.parent;if(t===null){if(n!==null)throw Error(X(401))}else{if(n===null)throw Error(X(401));td(t,n)}e.context._currentValue=e.value}}function aI(t){t.context._currentValue=t.parentValue,t=t.parent,t!==null&&aI(t)}function uI(t){var e=t.parent;e!==null&&uI(e),t.context._currentValue=t.value}function cI(t,e){if(t.context._currentValue=t.parentValue,t=t.parent,t===null)throw Error(X(402));t.depth===e.depth?td(t,e):cI(t,e)}function hI(t,e){var n=e.parent;if(n===null)throw Error(X(402));t.depth===n.depth?td(t,n):hI(t,n),e.context._currentValue=e.value}function sh(t){var e=ji;e!==t&&(e===null?uI(t):t===null?aI(e):e.depth===t.depth?td(e,t):e.depth>t.depth?cI(e,t):hI(e,t),ji=t)}var y2={isMounted:function(){return!1},enqueueSetState:function(t,e){t=t._reactInternals,t.queue!==null&&t.queue.push(e)},enqueueReplaceState:function(t,e){t=t._reactInternals,t.replace=!0,t.queue=[e]},enqueueForceUpdate:function(){}};function w2(t,e,n,r){var i=t.state!==void 0?t.state:null;t.updater=y2,t.props=n,t.state=i;var s={queue:[],replace:!1};t._reactInternals=s;var o=e.contextType;if(t.context=typeof o=="object"&&o!==null?o._currentValue:r,o=e.getDerivedStateFromProps,typeof o=="function"&&(o=o(n,i),i=o==null?i:kl({},i,o),t.state=i),typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function"&&(typeof t.UNSAFE_componentWillMount=="function"||typeof t.componentWillMount=="function"))if(e=t.state,typeof t.componentWillMount=="function"&&t.componentWillMount(),typeof t.UNSAFE_componentWillMount=="function"&&t.UNSAFE_componentWillMount(),e!==t.state&&y2.enqueueReplaceState(t,t.state,null),s.queue!==null&&0<s.queue.length)if(e=s.queue,o=s.replace,s.queue=null,s.replace=!1,o&&e.length===1)t.state=e[0];else{for(s=o?e[0]:t.state,i=!0,o=o?1:0;o<e.length;o++){var l=e[o];l=typeof l=="function"?l.call(t,s,n,r):l,l!=null&&(i?(i=!1,s=kl({},s,l)):kl(s,l))}t.state=s}else s.queue=null}var $U={id:1,overflow:""};function fm(t,e,n){var r=t.id;t=t.overflow;var i=32-Gu(r)-1;r&=~(1<<i),n+=1;var s=32-Gu(e)+i;if(30<s){var o=i-i%5;return s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,{id:1<<32-Gu(e)+i|n<<i|r,overflow:s+t}}return{id:1<<s|n<<i|r,overflow:t}}var Gu=Math.clz32?Math.clz32:BU,jU=Math.log,zU=Math.LN2;function BU(t){return t>>>=0,t===0?32:31-(jU(t)/zU|0)|0}function VU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var HU=typeof Object.is=="function"?Object.is:VU,Er=null,b0=null,Ku=null,fe=null,ol=!1,oh=!1,ua=0,Gr=null,nd=0;function Di(){if(Er===null)throw Error(X(321));return Er}function E2(){if(0<nd)throw Error(X(312));return{memoizedState:null,queue:null,next:null}}function M0(){return fe===null?Ku===null?(ol=!1,Ku=fe=E2()):(ol=!0,fe=Ku):fe.next===null?(ol=!1,fe=fe.next=E2()):(ol=!0,fe=fe.next),fe}function F0(){b0=Er=null,oh=!1,Ku=null,nd=0,fe=Gr=null}function dI(t,e){return typeof e=="function"?e(t):e}function S2(t,e,n){if(Er=Di(),fe=M0(),ol){var r=fe.queue;if(e=r.dispatch,Gr!==null&&(n=Gr.get(r),n!==void 0)){Gr.delete(r),r=fe.memoizedState;do r=t(r,n.action),n=n.next;while(n!==null);return fe.memoizedState=r,[r,e]}return[fe.memoizedState,e]}return t=t===dI?typeof e=="function"?e():e:n!==void 0?n(e):e,fe.memoizedState=t,t=fe.queue={last:null,dispatch:null},t=t.dispatch=WU.bind(null,Er,t),[fe.memoizedState,t]}function C2(t,e){if(Er=Di(),fe=M0(),e=e===void 0?null:e,fe!==null){var n=fe.memoizedState;if(n!==null&&e!==null){var r=n[1];e:if(r===null)r=!1;else{for(var i=0;i<r.length&&i<e.length;i++)if(!HU(e[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return t=t(),fe.memoizedState=[t,e],t}function WU(t,e,n){if(25<=nd)throw Error(X(301));if(t===Er)if(oh=!0,t={action:n,next:null},Gr===null&&(Gr=new Map),n=Gr.get(e),n===void 0)Gr.set(e,t);else{for(e=n;e.next!==null;)e=e.next;e.next=t}}function GU(){throw Error(X(394))}function wu(){}var T2={readContext:function(t){return t._currentValue},useContext:function(t){return Di(),t._currentValue},useMemo:C2,useReducer:S2,useRef:function(t){Er=Di(),fe=M0();var e=fe.memoizedState;return e===null?(t={current:t},fe.memoizedState=t):e},useState:function(t){return S2(dI,t)},useInsertionEffect:wu,useLayoutEffect:function(){},useCallback:function(t,e){return C2(function(){return t},e)},useImperativeHandle:wu,useEffect:wu,useDebugValue:wu,useDeferredValue:function(t){return Di(),t},useTransition:function(){return Di(),[!1,GU]},useId:function(){var t=b0.treeContext,e=t.overflow;t=t.id,t=(t&~(1<<32-Gu(t)-1)).toString(32)+e;var n=qu;if(n===null)throw Error(X(404));return e=ua++,t=":"+n.idPrefix+"R"+t,0<e&&(t+="H"+e.toString(32)),t+":"},useMutableSource:function(t,e){return Di(),e(t._source)},useSyncExternalStore:function(t,e,n){if(n===void 0)throw Error(X(407));return n()}},qu=null,Of=Gk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function KU(t){return console.error(t),null}function ll(){}function qU(t,e,n,r,i,s,o,l,u){var c=[],d=new Set;return e={destination:null,responseState:e,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:c,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?KU:i,onAllReady:s===void 0?ll:s,onShellReady:o===void 0?ll:o,onShellError:l===void 0?ll:l,onFatalError:u===void 0?ll:u},n=lh(e,0,null,n,!1,!1),n.parentFlushed=!0,t=U0(e,t,null,n,d,lI,null,$U),c.push(t),e}function U0(t,e,n,r,i,s,o,l){t.allPendingTasks++,n===null?t.pendingRootTasks++:n.pendingTasks++;var u={node:e,ping:function(){var c=t.pingedTasks;c.push(u),c.length===1&&mI(t)},blockedBoundary:n,blockedSegment:r,abortSet:i,legacyContext:s,context:o,treeContext:l};return i.add(u),u}function lh(t,e,n,r,i,s){return{status:0,id:-1,index:e,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:i,textEmbedded:s}}function ca(t,e){if(t=t.onError(e),t!=null&&typeof t!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof t+'" instead');return t}function ah(t,e){var n=t.onShellError;n(e),n=t.onFatalError,n(e),t.destination!==null?(t.status=2,qk(t.destination,e)):(t.status=1,t.fatalError=e)}function k2(t,e,n,r,i){for(Er={},b0=e,ua=0,t=n(r,i);oh;)oh=!1,ua=0,nd+=1,fe=null,t=n(r,i);return F0(),t}function I2(t,e,n,r){var i=n.render(),s=r.childContextTypes;if(s!=null){var o=e.legacyContext;if(typeof n.getChildContext!="function")r=o;else{n=n.getChildContext();for(var l in n)if(!(l in s))throw Error(X(108,dm(r)||"Unknown",l));r=kl({},o,n)}e.legacyContext=r,zt(t,e,i),e.legacyContext=o}else zt(t,e,i)}function x2(t,e){if(t&&t.defaultProps){e=kl({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function pm(t,e,n,r,i){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){i=v2(n,e.legacyContext);var s=n.contextType;s=new n(r,typeof s=="object"&&s!==null?s._currentValue:i),w2(s,n,r,i),I2(t,e,s,n)}else{s=v2(n,e.legacyContext),i=k2(t,e,n,r,s);var o=ua!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)w2(i,n,r,s),I2(t,e,i,n);else if(o){r=e.treeContext,e.treeContext=fm(r,1,0);try{zt(t,e,i)}finally{e.treeContext=r}}else zt(t,e,i)}else if(typeof n=="string"){switch(i=e.blockedSegment,s=UF(i.chunks,n,r,t.responseState,i.formatContext),i.lastPushedText=!1,o=i.formatContext,i.formatContext=OF(o,n,r),mm(t,e,s),i.formatContext=o,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push($F,J(n),jF)}i.lastPushedText=!1}else{switch(n){case FU:case MU:case Zk:case eI:case Jk:zt(t,e,r.children);return;case sI:zt(t,e,r.children);return;case bU:throw Error(X(343));case iI:e:{n=e.blockedBoundary,i=e.blockedSegment,s=r.fallback,r=r.children,o=new Set;var l={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:o,errorDigest:null},u=lh(t,i.chunks.length,l,i.formatContext,!1,!1);i.children.push(u),i.lastPushedText=!1;var c=lh(t,0,null,i.formatContext,!1,!1);c.parentFlushed=!0,e.blockedBoundary=l,e.blockedSegment=c;try{if(mm(t,e,r),c.lastPushedText&&c.textEmbedded&&c.chunks.push(D0),c.status=1,uh(l,c),l.pendingTasks===0)break e}catch(d){c.status=4,l.forceClientRender=!0,l.errorDigest=ca(t,d)}finally{e.blockedBoundary=n,e.blockedSegment=i}e=U0(t,s,n,u,o,e.legacyContext,e.context,e.treeContext),t.pingedTasks.push(e)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case rI:if(r=k2(t,e,n.render,r,i),ua!==0){n=e.treeContext,e.treeContext=fm(n,1,0);try{zt(t,e,r)}finally{e.treeContext=n}}else zt(t,e,r);return;case oI:n=n.type,r=x2(n,r),pm(t,e,n,r,i);return;case tI:if(i=r.children,n=n._context,r=r.value,s=n._currentValue,n._currentValue=r,o=ji,ji=r={parent:o,depth:o===null?0:o.depth+1,context:n,parentValue:s,value:r},e.context=r,zt(t,e,i),t=ji,t===null)throw Error(X(403));r=t.parentValue,t.context._currentValue=r===UU?t.context._defaultValue:r,t=ji=t.parent,e.context=t;return;case nI:r=r.children,r=r(n._currentValue),zt(t,e,r);return;case L0:i=n._init,n=i(n._payload),r=x2(n,r),pm(t,e,n,r,void 0);return}throw Error(X(130,n==null?n:typeof n,""))}}function zt(t,e,n){if(e.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case LU:pm(t,e,n.type,n.props,n.ref);return;case Qk:throw Error(X(257));case L0:var r=n._init;n=r(n._payload),zt(t,e,n);return}if(hm(n)){R2(t,e,n);return}if(n===null||typeof n!="object"?r=null:(r=_2&&n[_2]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var i=[];do i.push(n.value),n=r.next();while(!n.done);R2(t,e,i)}return}throw t=Object.prototype.toString.call(n),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}typeof n=="string"?(r=e.blockedSegment,r.lastPushedText=c2(e.blockedSegment.chunks,n,t.responseState,r.lastPushedText)):typeof n=="number"&&(r=e.blockedSegment,r.lastPushedText=c2(e.blockedSegment.chunks,""+n,t.responseState,r.lastPushedText))}function R2(t,e,n){for(var r=n.length,i=0;i<r;i++){var s=e.treeContext;e.treeContext=fm(s,r,i);try{mm(t,e,n[i])}finally{e.treeContext=s}}}function mm(t,e,n){var r=e.blockedSegment.formatContext,i=e.legacyContext,s=e.context;try{return zt(t,e,n)}catch(u){if(F0(),typeof u=="object"&&u!==null&&typeof u.then=="function"){n=u;var o=e.blockedSegment,l=lh(t,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(l),o.lastPushedText=!1,t=U0(t,e.node,e.blockedBoundary,l,e.abortSet,e.legacyContext,e.context,e.treeContext).ping,n.then(t,t),e.blockedSegment.formatContext=r,e.legacyContext=i,e.context=s,sh(s)}else throw e.blockedSegment.formatContext=r,e.legacyContext=i,e.context=s,sh(s),u}}function YU(t){var e=t.blockedBoundary;t=t.blockedSegment,t.status=3,pI(this,e,t)}function fI(t,e,n){var r=t.blockedBoundary;t.blockedSegment.status=3,r===null?(e.allPendingTasks--,e.status!==2&&(e.status=2,e.destination!==null&&e.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,t=n===void 0?Error(X(432)):n,r.errorDigest=e.onError(t),r.parentFlushed&&e.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(i){return fI(i,e,n)}),r.fallbackAbortableTasks.clear(),e.allPendingTasks--,e.allPendingTasks===0&&(r=e.onAllReady,r()))}function uh(t,e){if(e.chunks.length===0&&e.children.length===1&&e.children[0].boundary===null){var n=e.children[0];n.id=e.id,n.parentFlushed=!0,n.status===1&&uh(t,n)}else t.completedSegments.push(e)}function pI(t,e,n){if(e===null){if(n.parentFlushed){if(t.completedRootSegment!==null)throw Error(X(389));t.completedRootSegment=n}t.pendingRootTasks--,t.pendingRootTasks===0&&(t.onShellError=ll,e=t.onShellReady,e())}else e.pendingTasks--,e.forceClientRender||(e.pendingTasks===0?(n.parentFlushed&&n.status===1&&uh(e,n),e.parentFlushed&&t.completedBoundaries.push(e),e.fallbackAbortableTasks.forEach(YU,t),e.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(uh(e,n),e.completedSegments.length===1&&e.parentFlushed&&t.partialBoundaries.push(e)));t.allPendingTasks--,t.allPendingTasks===0&&(t=t.onAllReady,t())}function mI(t){if(t.status!==2){var e=ji,n=Of.current;Of.current=T2;var r=qu;qu=t.responseState;try{var i=t.pingedTasks,s;for(s=0;s<i.length;s++){var o=i[s],l=t,u=o.blockedSegment;if(u.status===0){sh(o.context);try{zt(l,o,o.node),u.lastPushedText&&u.textEmbedded&&u.chunks.push(D0),o.abortSet.delete(o),u.status=1,pI(l,o.blockedBoundary,u)}catch(E){if(F0(),typeof E=="object"&&E!==null&&typeof E.then=="function"){var c=o.ping;E.then(c,c)}else{o.abortSet.delete(o),u.status=4;var d=o.blockedBoundary,f=E,m=ca(l,f);if(d===null?ah(l,f):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=m,d.parentFlushed&&l.clientRenderedBoundaries.push(d))),l.allPendingTasks--,l.allPendingTasks===0){var w=l.onAllReady;w()}}}finally{}}}i.splice(0,s),t.destination!==null&&$0(t,t.destination)}catch(E){ca(t,E),ah(t,E)}finally{qu=r,Of.current=n,n===T2&&sh(e)}}}function Eu(t,e,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=t.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,t=t.responseState,H(e,zF),H(e,t.placeholderPrefix),t=J(r.toString(16)),H(e,t),ye(e,BF);case 1:n.status=2;var i=!0;r=n.chunks;var s=0;n=n.children;for(var o=0;o<n.length;o++){for(i=n[o];s<i.index;s++)H(e,r[s]);i=rd(t,e,i)}for(;s<r.length-1;s++)H(e,r[s]);return s<r.length&&(i=ye(e,r[s])),i;default:throw Error(X(390))}}function rd(t,e,n){var r=n.boundary;if(r===null)return Eu(t,e,n);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,ye(e,GF),H(e,qF),r&&(H(e,XF),H(e,J(Ye(r))),H(e,YF)),ye(e,QF),Eu(t,e,n);else if(0<r.pendingTasks){r.rootSegmentID=t.nextSegmentId++,0<r.completedSegments.length&&t.partialBoundaries.push(r);var i=t.responseState,s=i.nextSuspenseID++;i=z(i.boundaryPrefix+s.toString(16)),r=r.id=i,g2(e,t.responseState,r),Eu(t,e,n)}else if(r.byteSize>t.progressiveChunkSize)r.rootSegmentID=t.nextSegmentId++,t.completedBoundaries.push(r),g2(e,t.responseState,r.id),Eu(t,e,n);else{if(ye(e,VF),n=r.completedSegments,n.length!==1)throw Error(X(391));rd(t,e,n[0])}return ye(e,KF)}function P2(t,e,n){return yU(e,t.responseState,n.formatContext,n.id),rd(t,e,n),wU(e,n.formatContext)}function N2(t,e,n){for(var r=n.completedSegments,i=0;i<r.length;i++)gI(t,e,n,r[i]);if(r.length=0,t=t.responseState,r=n.id,n=n.rootSegmentID,H(e,t.startInlineScript),t.sentCompleteBoundaryFunction?H(e,IU):(t.sentCompleteBoundaryFunction=!0,H(e,kU)),r===null)throw Error(X(395));return n=J(n.toString(16)),H(e,r),H(e,xU),H(e,t.segmentPrefix),H(e,n),ye(e,RU)}function gI(t,e,n,r){if(r.status===2)return!0;var i=r.id;if(i===-1){if((r.id=n.rootSegmentID)===-1)throw Error(X(392));return P2(t,e,r)}return P2(t,e,r),t=t.responseState,H(e,t.startInlineScript),t.sentCompleteSegmentFunction?H(e,SU):(t.sentCompleteSegmentFunction=!0,H(e,EU)),H(e,t.segmentPrefix),i=J(i.toString(16)),H(e,i),H(e,CU),H(e,t.placeholderPrefix),H(e,i),ye(e,TU)}function $0(t,e){$t=new Uint8Array(512),jt=0;try{var n=t.completedRootSegment;if(n!==null&&t.pendingRootTasks===0){rd(t,e,n),t.completedRootSegment=null;var r=t.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)H(e,r[n]);n<r.length&&ye(e,r[n])}var i=t.clientRenderedBoundaries,s;for(s=0;s<i.length;s++){var o=i[s];r=e;var l=t.responseState,u=o.id,c=o.errorDigest,d=o.errorMessage,f=o.errorComponentStack;if(H(r,l.startInlineScript),l.sentClientRenderFunction?H(r,NU):(l.sentClientRenderFunction=!0,H(r,PU)),u===null)throw Error(X(395));H(r,u),H(r,AU),(c||d||f)&&(H(r,Nf),H(r,J(Af(c||"")))),(d||f)&&(H(r,Nf),H(r,J(Af(d||"")))),f&&(H(r,Nf),H(r,J(Af(f)))),ye(r,OU)}i.splice(0,s);var m=t.completedBoundaries;for(s=0;s<m.length;s++)N2(t,e,m[s]);m.splice(0,s),o2(e),$t=new Uint8Array(512),jt=0;var w=t.partialBoundaries;for(s=0;s<w.length;s++){var E=w[s];e:{i=t,o=e;var P=E.completedSegments;for(l=0;l<P.length;l++)if(!gI(i,o,E,P[l])){l++,P.splice(0,l);var N=!1;break e}P.splice(0,l),N=!0}if(!N){t.destination=null,s++,w.splice(0,s);return}}w.splice(0,s);var S=t.completedBoundaries;for(s=0;s<S.length;s++)N2(t,e,S[s]);S.splice(0,s)}finally{o2(e),t.allPendingTasks===0&&t.pingedTasks.length===0&&t.clientRenderedBoundaries.length===0&&t.completedBoundaries.length===0&&e.close()}}function A2(t,e){try{var n=t.abortableTasks;n.forEach(function(r){return fI(r,t,e)}),n.clear(),t.destination!==null&&$0(t,t.destination)}catch(r){ca(t,r),ah(t,r)}}N0.renderToReadableStream=function(t,e){return new Promise(function(n,r){var i,s,o=new Promise(function(d,f){s=d,i=f}),l=qU(t,NF(e?e.identifierPrefix:void 0,e?e.nonce:void 0,e?e.bootstrapScriptContent:void 0,e?e.bootstrapScripts:void 0,e?e.bootstrapModules:void 0),AF(e?e.namespaceURI:void 0),e?e.progressiveChunkSize:void 0,e?e.onError:void 0,s,function(){var d=new ReadableStream({type:"bytes",pull:function(f){if(l.status===1)l.status=2,qk(f,l.fatalError);else if(l.status!==2&&l.destination===null){l.destination=f;try{$0(l,f)}catch(m){ca(l,m),ah(l,m)}}},cancel:function(){A2(l)}},{highWaterMark:0});d.allReady=o,n(d)},function(d){o.catch(function(){}),r(d)},i);if(e&&e.signal){var u=e.signal,c=function(){A2(l,u.reason),u.removeEventListener("abort",c)};u.addEventListener("abort",c)}mI(l)})};N0.version="18.3.1";var Co,_I;Co=So,_I=N0;Co.version;Co.renderToString;Co.renderToStaticMarkup;Co.renderToNodeStream;Co.renderToStaticNodeStream;_I.renderToReadableStream;const XU=t=>{const[e,n]=M.useState(0),[r,i]=M.useState([]),s=Yi(N=>N.user);let o=Yi(N=>N.messages);console.log(s),console.log(o);const[l,u]=M.useState(""),c=os(),d=()=>c(M6(l)),f=()=>c(U6()),m=JSON.parse(localStorage.getItem("userNick")),w=Ei(),E=pi(w,`messagesData/messages/${m.nickname}${t.user}`);f(),M.useEffect(()=>{console.log(o),L6(o,t),u("")},[e]),M.useEffect(()=>{Vh(E,N=>{i(N.val()||[])})},[t]);const P=N=>{u(N.target.value)};return x.jsx("div",{children:x.jsx("div",{className:It.parentContain,children:x.jsxs("div",{className:It.messageContainer,children:[x.jsx("p",{children:t.user}),x.jsx("div",{className:It.liContain,children:r.map((N,S)=>x.jsx("div",{className:N.user!==t.user?It.oneParent:It.twoParent,children:x.jsxs("li",{className:N.user!==t.user?It.one:It.two,children:[x.jsxs("h4",{children:[N.user,":"]})," ",x.jsx("h5",{children:N.message})," ",x.jsx("p",{children:N.date})]},S)},S))}),x.jsxs("form",{className:It.formContain,children:[x.jsx(rn,{value:l,onChange:P,placeholder:"Введите сообщение"}),x.jsxs(vr,{onClick:N=>{N.preventDefault(),d(),n(e+1),u("")},children:[" ","Отправить"," "]})]})]})})})},QU="/sphere_connect/assets/Rectangle%2082-CozevtA8.png",JU=()=>{const[t,e]=M.useState([]),[n,r]=M.useState(""),[i,s]=M.useState(!1),o=JSON.parse(localStorage.getItem("user"));M.useEffect(()=>{const u=Ei(),c=pi(u,"Profile/users/");Vh(c,d=>{const f=d.val();f&&e(f)})},[]);const l=u=>{n!==u&&(r(u),s(!i))};return x.jsx("div",{className:"container",children:x.jsxs("div",{className:It.message,children:[x.jsxs("div",{className:It.userList,children:[x.jsx("form",{onSubmit:u=>u.preventDefault(),children:x.jsx(rn,{placeholder:"Введите имя пользователя",onChange:u=>r(u.target.value),value:n})}),x.jsx("div",{className:It.users,children:t.length>0?t.map(u=>u.nickname!==o.nickname?x.jsxs("div",{className:It.user,onClick:()=>{l(u.nickname),console.log(n)},children:[x.jsx("img",{className:It.img,src:QU,alt:"User Avatar"}),u.nickname]},u.id):!1):x.jsx("p",{children:"Загрузка пользователей..."})})]}),x.jsxs("div",{className:It.messageUsers,children:[n==""?x.jsx("p",{children:"Выберите пользователя, чтобы начать чат."}):x.jsx(XU,{user:n}),console.log(n)]})]})})},ZU=()=>x.jsxs("div",{children:[x.jsx("div",{children:"Direct"}),x.jsx(JU,{})]}),e7=()=>x.jsx("div",{children:"Explore"}),t7=()=>x.jsx("div",{children:"Favorite"}),n7=({isOpen:t,toggleModal:e})=>{const[n,r]=M.useState({fullName:"",mobile:"",address:"",website:"",story:"",gender:"",hideAccount:!1});M.useEffect(()=>{const o=localStorage.getItem("profileData");o&&r(JSON.parse(o))},[]);const i=o=>{const{name:l,value:u,type:c,checked:d}=o.target;r(f=>({...f,[l]:c==="checkbox"?d:u}))},s=o=>{o.preventDefault();try{localStorage.setItem("profileData",JSON.stringify(n)),alert("Данные успешно сохранены в localStorage!"),e()}catch(l){console.error("Error saving to localStorage: ",l),alert("Ошибка сохранения в localStorage")}};return x.jsx(x.Fragment,{children:t&&x.jsx("div",{className:"modal",children:x.jsxs("div",{className:"modal-content",children:[x.jsx("img",{src:"https://via.placeholder.com/150",alt:"Profile",className:"profile-picture-modal"}),x.jsxs("div",{className:"profile-foto",children:[x.jsx("div",{className:"profile-user",children:x.jsx("h3",{children:x.jsx("strong",{children:si.currentUser.email})})}),x.jsx("div",{className:"profile-a",children:x.jsx("a",{href:"https://via.placeholder.com/150",children:"@user"})})]}),x.jsxs("form",{className:"modal-form",onSubmit:s,children:[x.jsxs("label",{className:"modal-form-label",children:[x.jsx(rn,{type:"text",name:"fullName",placeholder:"Full Name",value:n.fullName,onChange:i}),x.jsx(rn,{type:"text",name:"mobile",placeholder:"Mobile",value:n.mobile,onChange:i}),x.jsx(rn,{type:"text",name:"address",placeholder:"Address",value:n.address,onChange:i}),x.jsx(rn,{type:"text",name:"website",placeholder:"Website",value:n.website,onChange:i}),x.jsx("textarea",{className:"modal-form-label-textarea",name:"story",placeholder:"Story",value:n.story,onChange:i}),x.jsx(rn,{type:"text",name:"gender",placeholder:"Gender",value:n.gender,onChange:i}),x.jsxs("label",{children:[x.jsx("input",{type:"checkbox",name:"hideAccount",className:"checkbox",checked:n.hideAccount,onChange:i}),"Hide accoun"]})]}),x.jsx("button",{type:"submit",children:"Save"}),x.jsx("button",{onClick:e,className:"close-modal-btn",children:"Close"})]})]})})})},r7=()=>{const t=Yi(s=>s.post.array),[e,n]=M.useState(!1),r=JSON.parse(localStorage.getItem("user")),i=()=>{n(!e)};return x.jsxs("div",{className:"container",children:[x.jsxs("div",{className:"profile-container",children:[x.jsxs("div",{className:"profile-header",children:[x.jsx("img",{src:"https://via.placeholder.com/150",alt:"Profile",className:"profile-picture"}),x.jsxs("div",{className:"profile-info",children:[x.jsxs("div",{className:"profile-info-top",children:[x.jsxs("div",{className:"profile-stats",children:[x.jsxs("div",{className:"stat",children:[x.jsx("strong",{children:t.length})," posts"]}),x.jsxs("div",{className:"stat",children:[x.jsx("strong",{children:"0"})," followers"]}),x.jsxs("div",{className:"stat",children:[x.jsx("strong",{children:"0"})," following"]})]}),x.jsx(vr,{variant:"profileBtn",className:"edit-profile-btn",onClick:i,children:"Edit Profile"})]}),x.jsxs("div",{className:"profile-bio",children:[x.jsxs("div",{children:[x.jsx("h3",{children:x.jsx("strong",{children:r.user})}),x.jsx("a",{href:"https://via.placeholder.com/150",children:r.user})]}),x.jsx("div",{children:x.jsx("p",{children:"Давно выяснено, что при оценке дизайна и композиции читаемый текст мешает сосредоточиться."})})]})]})]}),x.jsx("div",{className:"posts-grid",children:t.map(s=>x.jsx(yk,{isProfile:!0,post:s}))})]}),x.jsx(n7,{isOpen:e,toggleModal:i})]})},i7=()=>eS([{path:"/",element:x.jsx(hM,{}),children:[{index:!0,element:x.jsx(mM,{})},{path:"Direct",element:x.jsx(ZU,{})},{path:"Explore",element:x.jsx(e7,{})},{path:"Favorites",element:x.jsx(t7,{})},{path:"Profile",element:x.jsx(r7,{})},{path:"/Register",element:x.jsx(vk,{})},{path:"*",element:x.jsx(dN,{to:"/",replace:!0})}]}]);function s7(){return console.log(si.currentUser),x.jsxs(x.Fragment,{children:[x.jsx(i7,{}),x.jsx(lM,{})]})}const o7=u6({reducer:{user:C6,post:sM,messages:$6,modal:X6}});WE(document.getElementById("root")).render(x.jsx(GN,{store:o7,children:x.jsx(SN,{children:x.jsx(s7,{})})}));
